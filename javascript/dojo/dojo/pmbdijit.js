/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dijit/_base":function(){define(["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_1){return _1._base;});},"dijit/main":function(){define(["dojo/_base/kernel"],function(_2){return _2.dijit;});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_3,_4,_5,_6,_7,_8,_9){var _a;var _b={_isElementShown:function(_c){var s=_6.get(_c);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_5.get(_c,"type")!="hidden");},hasDefaultTabStop:function(_d){switch(_d.nodeName.toLowerCase()){case "a":return _5.has(_d,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var _e;try{var _f=_d.contentDocument;if("designMode" in _f&&_f.designMode=="on"){return true;}_e=_f.body;}catch(e1){try{_e=_d.contentWindow.document.body;}catch(e2){return false;}}return _e&&(_e.contentEditable=="true"||(_e.firstChild&&_e.firstChild.contentEditable=="true"));default:return _d.contentEditable=="true";}},effectiveTabIndex:function(_10){if(_5.get(_10,"disabled")){return _a;}else{if(_5.has(_10,"tabIndex")){return +_5.get(_10,"tabIndex");}else{return _b.hasDefaultTabStop(_10)?0:_a;}}},isTabNavigable:function(_11){return _b.effectiveTabIndex(_11)>=0;},isFocusable:function(_12){return _b.effectiveTabIndex(_12)>=-1;},_getTabNavigable:function(_13){var _14,_15,_16,_17,_18,_19,_1a={};function _1b(_1c){return _1c&&_1c.tagName.toLowerCase()=="input"&&_1c.type&&_1c.type.toLowerCase()=="radio"&&_1c.name&&_1c.name.toLowerCase();};var _1d=_b._isElementShown,_1e=_b.effectiveTabIndex;var _1f=function(_20){for(var _21=_20.firstChild;_21;_21=_21.nextSibling){if(_21.nodeType!=1||(_8("ie")<=9&&_21.scopeName!=="HTML")||!_1d(_21)){continue;}var _22=_1e(_21);if(_22>=0){if(_22==0){if(!_14){_14=_21;}_15=_21;}else{if(_22>0){if(!_16||_22<_17){_17=_22;_16=_21;}if(!_18||_22>=_19){_19=_22;_18=_21;}}}var rn=_1b(_21);if(_5.get(_21,"checked")&&rn){_1a[rn]=_21;}}if(_21.nodeName.toUpperCase()!="SELECT"){_1f(_21);}}};if(_1d(_13)){_1f(_13);}function rs(_23){return _1a[_1b(_23)]||_23;};return {first:rs(_14),last:rs(_15),lowest:rs(_16),highest:rs(_18)};},getFirstInTabbingOrder:function(_24,doc){var _25=_b._getTabNavigable(_4.byId(_24,doc));return _25.lowest?_25.lowest:_25.first;},getLastInTabbingOrder:function(_26,doc){var _27=_b._getTabNavigable(_4.byId(_26,doc));return _27.last?_27.last:_27.highest;}};1&&_7.mixin(_9,_b);return _b;});},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_28,_29,_2a,_2b){var _2c=_29("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_2d){if(this._hash[_2d.id]){throw new Error("Tried to register widget with id=="+_2d.id+" but that id is already registered");}this._hash[_2d.id]=_2d;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_2e,_2f){_2f=_2f||_2a.global;var i=0,id;for(id in this._hash){_2e.call(_2f,this._hash[id],i++,this._hash);}return this;},filter:function(_30,_31){_31=_31||_2a.global;var res=new _2c(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_30.call(_31,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _2c(),id,_32;for(id in this._hash){_32=this._hash[id];if(_32.declaredClass==cls){res.add(_32);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_33,_34){return _28.map(this.toArray(),_33,_34);},every:function(_35,_36){_36=_36||_2a.global;var x=0,i;for(i in this._hash){if(!_35.call(_36,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_37,_38){_38=_38||_2a.global;var x=0,i;for(i in this._hash){if(_37.call(_38,this._hash[i],x++,this._hash)){return true;}}return false;}});_28.forEach(["forEach","filter","byClass","map","every","some"],function(_39){_2b[_39]=_2c.prototype[_39];});return _2c;});},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(_3a,win,_3b){var _3c={},_3d={};var _3e={length:0,add:function(_3f){if(_3d[_3f.id]){throw new Error("Tried to register widget with id=="+_3f.id+" but that id is already registered");}_3d[_3f.id]=_3f;this.length++;},remove:function(id){if(_3d[id]){delete _3d[id];this.length--;}},byId:function(id){return typeof id=="string"?_3d[id]:id;},byNode:function(_40){return _3d[_40.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in _3d){ar.push(_3d[id]);}return ar;},getUniqueId:function(_41){var id;do{id=_41+"_"+(_41 in _3c?++_3c[_41]:_3c[_41]=0);}while(_3d[id]);return _3b._scopeName=="dijit"?id:_3b._scopeName+"_"+id;},findWidgets:function(_42,_43){var _44=[];function _45(_46){for(var _47=_46.firstChild;_47;_47=_47.nextSibling){if(_47.nodeType==1){var _48=_47.getAttribute("widgetId");if(_48){var _49=_3d[_48];if(_49){_44.push(_49);}}else{if(_47!==_43){_45(_47);}}}}};_45(_42);return _44;},_destroyAll:function(){_3b._curFocus=null;_3b._prevFocus=null;_3b._activeStack=[];_3a.forEach(_3e.findWidgets(win.body()),function(_4a){if(!_4a._destroyed){if(_4a.destroyRecursive){_4a.destroyRecursive();}else{if(_4a.destroy){_4a.destroy();}}}});},getEnclosingWidget:function(_4b){while(_4b){var id=_4b.nodeType==1&&_4b.getAttribute("widgetId");if(id){return _3d[id];}_4b=_4b.parentNode;}return null;},_hash:_3d};_3b.registry=_3e;return _3e;});},"dijit/_base/focus":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(_4c,dom,_4d,_4e,win,_4f,_50,_51){var _52={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _51.getBookmark().isCollapsed;},getBookmark:function(){var sel=win.global==window?_50:new _50.SelectionManager(win.global);return sel.getBookmark();},moveToBookmark:function(_53){var sel=win.global==window?_50:new _50.SelectionManager(win.global);return sel.moveToBookmark(_53);},getFocus:function(_54,_55){var _56=!_4f.curNode||(_54&&dom.isDescendant(_4f.curNode,_54.domNode))?_51._prevFocus:_4f.curNode;return {node:_56,bookmark:_56&&(_56==_4f.curNode)&&win.withGlobal(_55||win.global,_51.getBookmark),openedForWindow:_55};},_activeStack:[],registerIframe:function(_57){return _4f.registerIframe(_57);},unregisterIframe:function(_58){_58&&_58.remove();},registerWin:function(_59,_5a){return _4f.registerWin(_59,_5a);},unregisterWin:function(_5b){_5b&&_5b.remove();}};_4f.focus=function(_5c){if(!_5c){return;}var _5d="node" in _5c?_5c.node:_5c,_5e=_5c.bookmark,_5f=_5c.openedForWindow,_60=_5e?_5e.isCollapsed:false;if(_5d){var _61=(_5d.tagName.toLowerCase()=="iframe")?_5d.contentWindow:_5d;if(_61&&_61.focus){try{_61.focus();}catch(e){}}_4f._onFocusNode(_5d);}if(_5e&&win.withGlobal(_5f||win.global,_51.isCollapsed)&&!_60){if(_5f){_5f.focus();}try{win.withGlobal(_5f||win.global,_51.moveToBookmark,null,[_5e]);}catch(e2){}}};_4f.watch("curNode",function(_62,_63,_64){_51._curFocus=_64;_51._prevFocus=_63;if(_64){_4e.publish("focusNode",_64);}});_4f.watch("activeStack",function(_65,_66,_67){_51._activeStack=_67;});_4f.on("widget-blur",function(_68,by){_4e.publish("widgetBlur",_68,by);});_4f.on("widget-focus",function(_69,by){_4e.publish("widgetFocus",_69,by);});_4d.mixin(_51,_52);return _51;});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_6a,_6b,dom,_6c,_6d,_6e,_6f,_70,on,_71,has,_72,win,_73,_74,_75,_76){var _77;var _78;var _79=_6b([_72,_6f],{curNode:null,activeStack:[],constructor:function(){var _7a=_70.hitch(this,function(_7b){if(dom.isDescendant(this.curNode,_7b)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,_7b)){this.set("prevNode",null);}});_6a.before(_6e,"empty",_7a);_6a.before(_6e,"destroy",_7a);},registerIframe:function(_7c){return this.registerWin(_7c.contentWindow,_7c);},registerWin:function(_7d,_7e){var _7f=this,_80=_7d.document&&_7d.document.body;if(_80){var _81=has("pointer-events")?"pointerdown":has("MSPointer")?"MSPointerDown":has("touch-events")?"mousedown, touchstart":"mousedown";var mdh=on(_7d.document,_81,function(evt){if(evt&&evt.target&&evt.target.parentNode==null){return;}_7f._onTouchNode(_7e||evt.target,"mouse");});var fih=on(_80,"focusin",function(evt){if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(_74.isFocusable(evt.target)){_7f._onFocusNode(_7e||evt.target);}else{_7f._onTouchNode(_7e||evt.target);}});var foh=on(_80,"focusout",function(evt){_7f._onBlurNode(_7e||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;_80=null;}};}},_onBlurNode:function(_82){var now=(new Date()).getTime();if(now<_77+100){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(_70.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}if(now<_78+100){return;}this._clearActiveWidgetsTimer=setTimeout(_70.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(_83,by){_78=(new Date()).getTime();if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}if(_6d.contains(_83,"dijitPopup")){_83=_83.firstChild;}var _84=[];try{while(_83){var _85=_6c.get(_83,"dijitPopupParent");if(_85){_83=_75.byId(_85).domNode;}else{if(_83.tagName&&_83.tagName.toLowerCase()=="body"){if(_83===win.body()){break;}_83=_73.get(_83.ownerDocument).frameElement;}else{var id=_83.getAttribute&&_83.getAttribute("widgetId"),_86=id&&_75.byId(id);if(_86&&!(by=="mouse"&&_86.get("disabled"))){_84.unshift(id);}_83=_83.parentNode;}}}}catch(e){}this._setStack(_84,by);},_onFocusNode:function(_87){if(!_87){return;}if(_87.nodeType==9){return;}_77=(new Date()).getTime();if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(_87);if(_87==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",_87);},_setStack:function(_88,by){var _89=this.activeStack,_8a=_89.length-1,_8b=_88.length-1;if(_88[_8b]==_89[_8a]){return;}this.set("activeStack",_88);var _8c,i;for(i=_8a;i>=0&&_89[i]!=_88[i];i--){_8c=_75.byId(_89[i]);if(_8c){_8c._hasBeenBlurred=true;_8c.set("focused",false);if(_8c._focusManager==this){_8c._onBlur(by);}this.emit("widget-blur",_8c,by);}}for(i++;i<=_8b;i++){_8c=_75.byId(_88[i]);if(_8c){_8c.set("focused",true);if(_8c._focusManager==this){_8c._onFocus(by);}this.emit("widget-focus",_8c,by);}}},focus:function(_8d){if(_8d){try{_8d.focus();}catch(e){}}}});var _8e=new _79();_71(function(){var _8f=_8e.registerWin(_73.get(document));if(has("ie")){on(window,"unload",function(){if(_8f){_8f.remove();_8f=null;}});}});_76.focus=function(_90){_8e.focus(_90);};for(var _91 in _8e){if(!/^_/.test(_91)){_76.focus[_91]=typeof _8e[_91]=="function"?_70.hitch(_8e,_91):_8e[_91];}}_8e.watch(function(_92,_93,_94){_76.focus[_92]=_94;});return _8e;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_95,_96,_97,_98){return _95("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(_99){var apn=this._attrPairNames;if(apn[_99]){return apn[_99];}return (apn[_99]={s:"_"+_99+"Setter",g:"_"+_99+"Getter"});},postscript:function(_9a){if(_9a){this.set(_9a);}},_get:function(_9b,_9c){return typeof this[_9c.g]==="function"?this[_9c.g]():this[_9b];},get:function(_9d){return this._get(_9d,this._getAttrNames(_9d));},set:function(_9e,_9f){if(typeof _9e==="object"){for(var x in _9e){if(_9e.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,_9e[x]);}}return this;}var _a0=this._getAttrNames(_9e),_a1=this._get(_9e,_a0),_a2=this[_a0.s],_a3;if(typeof _a2==="function"){_a3=_a2.apply(this,Array.prototype.slice.call(arguments,1));}else{this[_9e]=_9f;}if(this._watchCallbacks){var _a4=this;_98(_a3,function(){_a4._watchCallbacks(_9e,_a1,_9f);});}return this;},_changeAttrValue:function(_a5,_a6){var _a7=this.get(_a5);this[_a5]=_a6;if(this._watchCallbacks){this._watchCallbacks(_a5,_a7,_a6);}return this;},watch:function(_a8,_a9){var _aa=this._watchCallbacks;if(!_aa){var _ab=this;_aa=this._watchCallbacks=function(_ac,_ad,_ae,_af){var _b0=function(_b1){if(_b1){_b1=_b1.slice();for(var i=0,l=_b1.length;i<l;i++){_b1[i].call(_ab,_ac,_ad,_ae);}}};_b0(_aa["_"+_ac]);if(!_af){_b0(_aa["*"]);}};}if(!_a9&&typeof _a8==="function"){_a9=_a8;_a8="*";}else{_a8="_"+_a8;}var _b2=_aa[_a8];if(typeof _b2!=="object"){_b2=_aa[_a8]=[];}_b2.push(_a9);var _b3={};_b3.unwatch=_b3.remove=function(){var _b4=_97.indexOf(_b2,_a9);if(_b4>-1){_b2.splice(_b4,1);}};return _b3;}});});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(_b5,has,_b6,dom,_b7,_b8,_b9){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var _ba=_b6.body(doc),_bb=_b9.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},_ba,"last"),div=_b9.create("div",{style:{overflow:"hidden",direction:"ltr"}},_bb,"last"),ret=_b7.position(div).x!=0;_bb.removeChild(div);_ba.removeChild(_bb);return ret;});has.add("position-fixed-support",function(win,doc){var _bc=_b6.body(doc),_bd=_b9.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},_bc,"last"),_be=_b9.create("span",{style:{position:"fixed",left:"0",top:"0"}},_bd,"last"),ret=_b7.position(_be).x!=_b7.position(_bd).x;_bd.removeChild(_be);_bc.removeChild(_bd);return ret;});var _bf={getBox:function(doc){doc=doc||_b6.doc;var _c0=(doc.compatMode=="BackCompat")?_b6.body(doc):doc.documentElement,_c1=_b7.docScroll(doc),w,h;if(has("touch")){var _c2=_bf.get(doc);w=_c2.innerWidth||_c0.clientWidth;h=_c2.innerHeight||_c0.clientHeight;}else{w=_c0.clientWidth;h=_c0.clientHeight;}return {l:_c1.x,t:_c1.y,w:w,h:h};},get:function(doc){if(has("ie")&&_bf!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(_c3,pos){try{_c3=dom.byId(_c3);var doc=_c3.ownerDocument||_b6.doc,_c4=_b6.body(doc),_c5=doc.documentElement||_c4.parentNode,_c6=has("ie"),_c7=has("webkit");if(_c3==_c4||_c3==_c5){return;}if(!(has("mozilla")||_c6||_c7||has("opera")||has("trident"))&&("scrollIntoView" in _c3)){_c3.scrollIntoView(false);return;}var _c8=doc.compatMode=="BackCompat",_c9=Math.min(_c4.clientWidth||_c5.clientWidth,_c5.clientWidth||_c4.clientWidth),_ca=Math.min(_c4.clientHeight||_c5.clientHeight,_c5.clientHeight||_c4.clientHeight),_cb=(_c7||_c8)?_c4:_c5,_cc=pos||_b7.position(_c3),el=_c3.parentNode,_cd=function(el){return (_c6<=6||(_c6==7&&_c8))?false:(has("position-fixed-support")&&(_b8.get(el,"position").toLowerCase()=="fixed"));},_ce=this,_cf=function(el,x,y){if(el.tagName=="BODY"||el.tagName=="HTML"){_ce.get(el.ownerDocument).scrollBy(x,y);}else{x&&(el.scrollLeft+=x);y&&(el.scrollTop+=y);}};if(_cd(_c3)){return;}while(el){if(el==_c4){el=_cb;}var _d0=_b7.position(el),_d1=_cd(el),rtl=_b8.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_cb){_d0.w=_c9;_d0.h=_ca;if(_cb==_c5&&(_c6||has("trident"))&&rtl){_d0.x+=_cb.offsetWidth-_d0.w;}if(_d0.x<0||!_c6||_c6>=9||has("trident")){_d0.x=0;}if(_d0.y<0||!_c6||_c6>=9||has("trident")){_d0.y=0;}}else{var pb=_b7.getPadBorderExtents(el);_d0.w-=pb.w;_d0.h-=pb.h;_d0.x+=pb.l;_d0.y+=pb.t;var _d2=el.clientWidth,_d3=_d0.w-_d2;if(_d2>0&&_d3>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_d0.x+=_d3;}_d0.w=_d2;}_d2=el.clientHeight;_d3=_d0.h-_d2;if(_d2>0&&_d3>0){_d0.h=_d2;}}if(_d1){if(_d0.y<0){_d0.h+=_d0.y;_d0.y=0;}if(_d0.x<0){_d0.w+=_d0.x;_d0.x=0;}if(_d0.y+_d0.h>_ca){_d0.h=_ca-_d0.y;}if(_d0.x+_d0.w>_c9){_d0.w=_c9-_d0.x;}}var l=_cc.x-_d0.x,t=_cc.y-_d0.y,r=l+_cc.w-_d0.w,bot=t+_cc.h-_d0.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_cb||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((_c6==8&&!_c8)||_c6>=9||has("trident"))){s=-s;}old=el.scrollLeft;_cf(el,s,0);s=el.scrollLeft-old;_cc.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_cb||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;_cf(el,0,s);s=el.scrollTop-old;_cc.y-=s;}el=(el!=_cb)&&!_d1&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_c3.scrollIntoView(false);}}};1&&_b5.setObject("dojo.window",_bf);return _bf;});},"dijit/selection":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_d4,dom,_d5,has,_d6,_d7){var _d8=function(win){var doc=win.document;this.getType=function(){if(doc.getSelection){var _d9="text";var _da;try{_da=win.getSelection();}catch(e){}if(_da&&_da.rangeCount==1){var _db=_da.getRangeAt(0);if((_db.startContainer==_db.endContainer)&&((_db.endOffset-_db.startOffset)==1)&&(_db.startContainer.nodeType!=3)){_d9="control";}}return _d9;}else{return doc.selection.type.toLowerCase();}};this.getSelectedText=function(){if(doc.getSelection){var _dc=win.getSelection();return _dc?_dc.toString():"";}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().text;}};this.getSelectedHtml=function(){if(doc.getSelection){var _dd=win.getSelection();if(_dd&&_dd.rangeCount){var i;var _de="";for(i=0;i<_dd.rangeCount;i++){var _df=_dd.getRangeAt(i).cloneContents();var div=doc.createElement("div");div.appendChild(_df);_de+=div.innerHTML;}return _de;}return null;}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().htmlText;}};this.getSelectedElement=function(){if(this.getType()=="control"){if(doc.getSelection){var _e0=win.getSelection();return _e0.anchorNode.childNodes[_e0.anchorOffset];}else{var _e1=doc.selection.createRange();if(_e1&&_e1.item){return doc.selection.createRange().item(0);}}}return null;};this.getParentElement=function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(doc.getSelection){var _e2=doc.getSelection();if(_e2){var _e3=_e2.anchorNode;while(_e3&&(_e3.nodeType!=1)){_e3=_e3.parentNode;}return _e3;}}else{var r=doc.selection.createRange();r.collapse(true);return r.parentElement();}}return null;};this.hasAncestorElement=function(_e4){return this.getAncestorElement.apply(this,arguments)!=null;};this.getAncestorElement=function(_e5){var _e6=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(_e6,arguments);};this.isTag=function(_e7,_e8){if(_e7&&_e7.tagName){var _e9=_e7.tagName.toLowerCase();for(var i=0;i<_e8.length;i++){var _ea=String(_e8[i]).toLowerCase();if(_e9==_ea){return _ea;}}}return "";};this.getParentOfType=function(_eb,_ec){while(_eb){if(this.isTag(_eb,_ec).length){return _eb;}_eb=_eb.parentNode;}return null;};this.collapse=function(_ed){if(doc.getSelection){var _ee=win.getSelection();if(_ee.removeAllRanges){if(_ed){_ee.collapseToStart();}else{_ee.collapseToEnd();}}else{_ee.collapse(_ed);}}else{var _ef=doc.selection.createRange();_ef.collapse(_ed);_ef.select();}};this.remove=function(){var sel=doc.selection;if(doc.getSelection){sel=win.getSelection();sel.deleteFromDocument();return sel;}else{if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}};this.selectElementChildren=function(_f0,_f1){var _f2;_f0=dom.byId(_f0);if(doc.getSelection){var _f3=win.getSelection();if(has("opera")){if(_f3.rangeCount){_f2=_f3.getRangeAt(0);}else{_f2=doc.createRange();}_f2.setStart(_f0,0);_f2.setEnd(_f0,(_f0.nodeType==3)?_f0.length:_f0.childNodes.length);_f3.addRange(_f2);}else{_f3.selectAllChildren(_f0);}}else{_f2=_f0.ownerDocument.body.createTextRange();_f2.moveToElementText(_f0);if(!_f1){try{_f2.select();}catch(e){}}}};this.selectElement=function(_f4,_f5){var _f6;_f4=dom.byId(_f4);if(doc.getSelection){var _f7=doc.getSelection();_f6=doc.createRange();if(_f7.removeAllRanges){if(has("opera")){if(_f7.getRangeAt(0)){_f6=_f7.getRangeAt(0);}}_f6.selectNode(_f4);_f7.removeAllRanges();_f7.addRange(_f6);}}else{try{var tg=_f4.tagName?_f4.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_f6=_d6.body(doc).createControlRange();}else{_f6=_d6.body(doc).createRange();}_f6.addElement(_f4);if(!_f5){_f6.select();}}catch(e){this.selectElementChildren(_f4,_f5);}}};this.inSelection=function(_f8){if(_f8){var _f9;var _fa;if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.rangeCount>0){_fa=sel.getRangeAt(0);}if(_fa&&_fa.compareBoundaryPoints&&doc.createRange){try{_f9=doc.createRange();_f9.setStart(_f8,0);if(_fa.compareBoundaryPoints(_fa.START_TO_END,_f9)===1){return true;}}catch(e){}}}else{_fa=doc.selection.createRange();try{_f9=_f8.ownerDocument.body.createTextRange();_f9.moveToElementText(_f8);}catch(e2){}if(_fa&&_f9){if(_fa.compareEndPoints("EndToStart",_f9)===1){return true;}}}}return false;};this.getBookmark=function(){var bm,rg,tg,sel=doc.selection,cf=_d7.curNode;if(doc.getSelection){sel=win.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;};this.moveToBookmark=function(_fb){var _fc=_fb.mark;if(_fc){if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.removeAllRanges){if(_fc.pRange){var n=_fc.node;n.selectionStart=_fc.start;n.selectionEnd=_fc.end;}else{sel.removeAllRanges();sel.addRange(_fc);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(doc.selection&&_fc){var rg;if(_fc.pRange){rg=_fc.range;}else{if(_d5.isArray(_fc)){rg=doc.body.createControlRange();_d4.forEach(_fc,function(n){rg.addElement(n);});}else{rg=doc.body.createTextRange();rg.moveToBookmark(_fc);}}rg.select();}}}};this.isCollapsed=function(){return this.getBookmark().isCollapsed;};};var _fd=new _d8(window);_fd.SelectionManager=_d8;return _fd;});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_fe,_ff,lang,_100,_101){var _102={};_fe.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_102[name]=_100[name];});lang.mixin(_102,{defaultDuration:_ff["defaultDuration"]||200});lang.mixin(_101,_102);return _101;});},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(_103,lang,_104,_105,_106){var _107={};_107.getViewport=function(){return _104.getBox();};_107.placeOnScreen=_105.at;_107.placeOnScreenAroundElement=function(node,_108,_109,_10a){var _10b;if(lang.isArray(_109)){_10b=_109;}else{_10b=[];for(var key in _109){_10b.push({aroundCorner:key,corner:_109[key]});}}return _105.around(node,_108,_10b,true,_10a);};_107.placeOnScreenAroundNode=_107.placeOnScreenAroundElement;_107.placeOnScreenAroundRectangle=_107.placeOnScreenAroundElement;_107.getPopupAroundAlignment=function(_10c,_10d){var _10e={};_103.forEach(_10c,function(pos){var ltr=_10d;switch(pos){case "after":_10e[_10d?"BR":"BL"]=_10d?"BL":"BR";break;case "before":_10e[_10d?"BL":"BR"]=_10d?"BR":"BL";break;case "below-alt":ltr=!ltr;case "below":_10e[ltr?"BL":"BR"]=ltr?"TL":"TR";_10e[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above-alt":ltr=!ltr;case "above":default:_10e[ltr?"TL":"TR"]=ltr?"BL":"BR";_10e[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});return _10e;};lang.mixin(_106,_107);return _106;});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_10f,_110,_111,_112,win,_113,_114){function _115(node,_116,_117,_118){var view=_113.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_10f.some(_116,function(_119){var _11a=_119.corner;var pos=_119.pos;var _11b=0;var _11c={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_11a.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_11a.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_117){var res=_117(node,_119.aroundCorner,_11a,_11c,_118);_11b=typeof res=="undefined"?0:res;}var _11d=node.style;var _11e=_11d.display;var _11f=_11d.visibility;if(_11d.display=="none"){_11d.visibility="hidden";_11d.display="";}var bb=_110.position(node);_11d.display=_11e;_11d.visibility=_11f;var _120={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_11a.charAt(1)],_121={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_11a.charAt(0)],_122=Math.max(view.l,_120),_123=Math.max(view.t,_121),endX=Math.min(view.l+view.w,_120+bb.w),endY=Math.min(view.t+view.h,_121+bb.h),_124=endX-_122,_125=endY-_123;_11b+=(bb.w-_124)+(bb.h-_125);if(best==null||_11b<best.overflow){best={corner:_11a,aroundCorner:_119.aroundCorner,x:_122,y:_123,w:_124,h:_125,overflow:_11b,spaceAvailable:_11c};}return !_11b;});if(best.overflow&&_117){_117(node,best.aroundCorner,best.corner,best.spaceAvailable,_118);}var top=best.y,side=best.x,body=win.body(node.ownerDocument);if(/relative|absolute/.test(_111.get(body,"position"))){top-=_111.get(body,"marginTop");side-=_111.get(body,"marginLeft");}var s=node.style;s.top=top+"px";s.left=side+"px";s.right="auto";return best;};var _126={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var _127={at:function(node,pos,_128,_129,_12a){var _12b=_10f.map(_128,function(_12c){var c={corner:_12c,aroundCorner:_126[_12c],pos:{x:pos.x,y:pos.y}};if(_129){c.pos.x+=_12c.charAt(1)=="L"?_129.x:-_129.x;c.pos.y+=_12c.charAt(0)=="T"?_129.y:-_129.y;}return c;});return _115(node,_12b,_12a);},around:function(node,_12d,_12e,_12f,_130){var _131;if(typeof _12d=="string"||"offsetWidth" in _12d||"ownerSVGElement" in _12d){_131=_110.position(_12d,true);if(/^(above|below)/.test(_12e[0])){var _132=_110.getBorderExtents(_12d),_133=_12d.firstChild?_110.getBorderExtents(_12d.firstChild):{t:0,l:0,b:0,r:0},_134=_110.getBorderExtents(node),_135=node.firstChild?_110.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};_131.y+=Math.min(_132.t+_133.t,_134.t+_135.t);_131.h-=Math.min(_132.t+_133.t,_134.t+_135.t)+Math.min(_132.b+_133.b,_134.b+_135.b);}}else{_131=_12d;}if(_12d.parentNode){var _136=_111.getComputedStyle(_12d).position=="absolute";var _137=_12d.parentNode;while(_137&&_137.nodeType==1&&_137.nodeName!="BODY"){var _138=_110.position(_137,true),pcs=_111.getComputedStyle(_137);if(/relative|absolute/.test(pcs.position)){_136=false;}if(!_136&&/hidden|auto|scroll/.test(pcs.overflow)){var _139=Math.min(_131.y+_131.h,_138.y+_138.h);var _13a=Math.min(_131.x+_131.w,_138.x+_138.w);_131.x=Math.max(_131.x,_138.x);_131.y=Math.max(_131.y,_138.y);_131.h=_139-_131.y;_131.w=_13a-_131.x;}if(pcs.position=="absolute"){_136=true;}_137=_137.parentNode;}}var x=_131.x,y=_131.y,_13b="w" in _131?_131.w:(_131.w=_131.width),_13c="h" in _131?_131.h:(_112.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_131.height+", width:"+_13b+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_131.height+", w:"+_13b+" }","","2.0"),_131.h=_131.height);var _13d=[];function push(_13e,_13f){_13d.push({aroundCorner:_13e,corner:_13f,pos:{x:{"L":x,"R":x+_13b,"M":x+(_13b>>1)}[_13e.charAt(1)],y:{"T":y,"B":y+_13c,"M":y+(_13c>>1)}[_13e.charAt(0)]}});};_10f.forEach(_12e,function(pos){var ltr=_12f;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _140=_115(node,_13d,_130,{w:_13b,h:_13c});_140.aroundNodePos=_131;return _140;}};return _114.place=_127;});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_141,on,_142,has,_143){var _144=new _141();var _145;_142(function(){var _146=_143.getBox();_144._rlh=on(window,"resize",function(){var _147=_143.getBox();if(_146.h==_147.h&&_146.w==_147.w){return;}_146=_147;_144.emit("resize");});if(has("ie")==8){var _148=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_148){_148=screen.deviceXDPI;_144.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_145=evt.target;});on(document,"focusout",function(evt){_145=null;});}});_144.getEffectiveBox=function(doc){var box=_143.getBox(doc);var tag=_145&&_145.tagName&&_145.tagName.toLowerCase();if(has("ios")&&_145&&!_145.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_145.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_145.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _144;});},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_149,win,_14a){var _14b=_14a._createWrapper;_14a._createWrapper=function(_14c){if(!_14c.declaredClass){_14c={_popupWrapper:(_14c.parentNode&&_149.contains(_14c.parentNode,"dijitPopup"))?_14c.parentNode:null,domNode:_14c,destroy:function(){},ownerDocument:_14c.ownerDocument,ownerDocumentBody:win.body(_14c.ownerDocument)};}return _14b.call(this,_14c);};var _14d=_14a.open;_14a.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _14d.call(this,args);};return _14a;});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(_14e,_14f,_150,dom,_151,_152,_153,_154,has,keys,lang,on,_155,_156,_157,_158){function _159(){if(this._popupWrapper){_152.destroy(this._popupWrapper);delete this._popupWrapper;}};var _15a=_150(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var _15b=this._firstAroundPosition,_15c=_153.position(this._firstAroundNode,true),dx=_15c.x-_15b.x,dy=_15c.y-_15b.y;if(dx||dy){this._firstAroundPosition=_15c;for(var i=0;i<this._stack.length;i++){var _15d=this._stack[i].wrapper.style;_15d.top=(parseFloat(_15d.top)+dy)+"px";if(_15d.right=="auto"){_15d.left=(parseFloat(_15d.left)+dx)+"px";}else{_15d.right=(parseFloat(_15d.right)-dx)+"px";}}}this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);}},_createWrapper:function(_15e){var _15f=_15e._popupWrapper,node=_15e.domNode;if(!_15f){_15f=_152.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_15e["aria-label"]||_15e.label||_15e.name||_15e.id},_15e.ownerDocumentBody);_15f.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_15e._popupWrapper=_15f;_14f.after(_15e,"destroy",_159,true);if("ontouchend" in document){on(_15f,"touchend",function(evt){if(!/^(input|button|textarea)$/i.test(evt.target.tagName)){evt.preventDefault();}});}}return _15f;},moveOffScreen:function(_160){var _161=this._createWrapper(_160);var ltr=_153.isBodyLtr(_160.ownerDocument),_162={visibility:"hidden",top:"-9999px",display:""};_162[ltr?"left":"right"]="-9999px";_162[ltr?"right":"left"]="auto";_154.set(_161,_162);return _161;},hide:function(_163){var _164=this._createWrapper(_163);_154.set(_164,{display:"none",height:"auto",overflow:"visible",border:""});var node=_163.domNode;if("_originalStyle" in node){node.style.cssText=node._originalStyle;}},getTopPopup:function(){var _165=this._stack;for(var pi=_165.length-1;pi>0&&_165[pi].parent===_165[pi-1].widget;pi--){}return _165[pi];},open:function(args){var _166=this._stack,_167=args.popup,node=_167.domNode,_168=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_153.isBodyLtr(_167.ownerDocument),_169=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_166.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_166[_166.length-1].widget.domNode))){this.close(_166[_166.length-1].widget);}var _16a=this.moveOffScreen(_167);if(_167.startup&&!_167._started){_167.startup();}var _16b,_16c=_153.position(node);if("maxHeight" in args&&args.maxHeight!=-1){_16b=args.maxHeight||Infinity;}else{var _16d=_157.getEffectiveBox(this.ownerDocument),_16e=_169?_153.position(_169,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};_16b=Math.floor(Math.max(_16e.y,_16d.h-(_16e.y+_16e.h)));}if(_16c.h>_16b){var cs=_154.getComputedStyle(node),_16f=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;_154.set(_16a,{overflowY:"scroll",height:_16b+"px",border:_16f});node._originalStyle=node.style.cssText;node.style.border="none";}_151.set(_16a,{id:id,style:{zIndex:this._beginZIndex+_166.length},"class":"dijitPopup "+(_167.baseClass||_167["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(_166.length==0&&_169){this._firstAroundNode=_169;this._firstAroundPosition=_153.position(_169,true);this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);}if(has("config-bgIframe")&&!_167.bgIframe){_167.bgIframe=new _156(_16a);}var _170=_167.orient?lang.hitch(_167,"orient"):null,best=_169?_155.around(_16a,_169,_168,ltr,_170):_155.at(_16a,args,_168=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_170);_16a.style.visibility="visible";node.style.visibility="visible";var _171=[];_171.push(on(_16a,"keydown",lang.hitch(this,function(evt){if(evt.keyCode==keys.ESCAPE&&args.onCancel){evt.stopPropagation();evt.preventDefault();args.onCancel();}else{if(evt.keyCode==keys.TAB){evt.stopPropagation();evt.preventDefault();var _172=this.getTopPopup();if(_172&&_172.onCancel){_172.onCancel();}}}})));if(_167.onCancel&&args.onCancel){_171.push(_167.on("cancel",args.onCancel));}_171.push(_167.on(_167.onExecute?"execute":"change",lang.hitch(this,function(){var _173=this.getTopPopup();if(_173&&_173.onExecute){_173.onExecute();}})));_166.push({widget:_167,wrapper:_16a,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_171});if(_167.onOpen){_167.onOpen(best);}return best;},close:function(_174){var _175=this._stack;while((_174&&_14e.some(_175,function(elem){return elem.widget==_174;}))||(!_174&&_175.length)){var top=_175.pop(),_176=top.widget,_177=top.onClose;if(_176.bgIframe){_176.bgIframe.destroy();delete _176.bgIframe;}if(_176.onClose){_176.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_176&&_176.domNode){this.hide(_176);}if(_177){_177();}}if(_175.length==0&&this._aroundMoveListener){clearTimeout(this._aroundMoveListener);this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;}}});return (_158.popup=new _15a());});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_178,_179,_17a,_17b,_17c,lang,on,has){has.add("config-bgIframe",(has("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent))||(has("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent)));var _17d=new function(){var _17e=[];this.pop=function(){var _17f;if(_17e.length){_17f=_17e.pop();_17f.style.display="";}else{if(has("ie")<9){var burl=_17a["dojoBlankHtmlUrl"]||_178.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_17f=document.createElement(html);}else{_17f=_17b.create("iframe");_17f.src="javascript:\"\"";_17f.className="dijitBackgroundIframe";_17f.setAttribute("role","presentation");_17c.set(_17f,"opacity",0.1);}_17f.tabIndex=-1;}return _17f;};this.push=function(_180){_180.style.display="none";_17e.push(_180);};}();_179.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _181=(this.iframe=_17d.pop());node.appendChild(_181);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_17c.set(_181,{width:"100%",height:"100%"});}}};lang.extend(_179.BackgroundIframe,{resize:function(node){if(this.iframe){_17c.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){this.iframe.parentNode.removeChild(this.iframe);_17d.push(this.iframe);delete this.iframe;}}});return _179.BackgroundIframe;});},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(_182,_183){_183.scrollIntoView=function(node,pos){_182.scrollIntoView(node,pos);};});},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_184,lang,_185,has,_186){var html=_186.doc.documentElement,ie=has("ie"),_187=has("opera"),maj=Math.floor,ff=has("ff"),_188=_184.boxModel.replace(/-/,""),_189={"dj_quirks":has("quirks"),"dj_opera":_187,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_189["dj_ie"]=true;_189["dj_ie"+maj(ie)]=true;_189["dj_iequirks"]=has("quirks");}if(ff){_189["dj_ff"+maj(ff)]=true;}_189["dj_"+_188]=true;var _18a="";for(var clz in _189){if(_189[clz]){_18a+=clz+" ";}}html.className=lang.trim(html.className+" "+_18a);_185(function(){if(!_184.isBodyLtr()){var _18b="dj_rtl dijitRtl "+_18a.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_18b+"dj_rtl dijitRtl "+_18a.replace(/ /g,"-rtl "));}});return has;});},"dijit/_base/typematic":function(){define(["../typematic"],function(){});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_18c,_18d,lang,on,has,_18e){var _18f=(_18e.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_190,node,_191,obj,_192,_193,_194){if(obj!=this._obj){this.stop();this._initialDelay=_193||500;this._subsequentDelay=_192||0.9;this._minDelay=_194||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_190,_191);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_195,_196,_197,_198,_199,_19a){var type="keyCode" in _195?"keydown":"charCode" in _195?"keypress":_18d._keypress,attr="keyCode" in _195?"keyCode":"charCode" in _195?"charCode":"charOrCode";var _19b=[on(node,type,lang.hitch(this,function(evt){if(evt[attr]==_195[attr]&&(_195.ctrlKey===undefined||_195.ctrlKey==evt.ctrlKey)&&(_195.altKey===undefined||_195.altKey==evt.altKey)&&(_195.metaKey===undefined||_195.metaKey==(evt.metaKey||false))&&(_195.shiftKey===undefined||_195.shiftKey==evt.shiftKey)){evt.stopPropagation();evt.preventDefault();_18f.trigger(evt,_196,node,_197,_195,_198,_199,_19a);}else{if(_18f._obj==_195){_18f.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_18f._obj==_195){_18f.stop();}}))];return {remove:function(){_18c.forEach(_19b,function(h){h.remove();});}};},addMouseListener:function(node,_19c,_19d,_19e,_19f,_1a0){var _1a1=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_18f.trigger(evt,_19c,node,_19d,node,_19e,_19f,_1a0);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_18f.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_18f.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_18f.trigger(evt,_19c,node,_19d,node,_19e,_19f,_1a0);setTimeout(lang.hitch(this,_18f.stop),50);}}))];return {remove:function(){_18c.forEach(_1a1,function(h){h.remove();});}};},addListener:function(_1a2,_1a3,_1a4,_1a5,_1a6,_1a7,_1a8,_1a9){var _1aa=[this.addKeyListener(_1a3,_1a4,_1a5,_1a6,_1a7,_1a8,_1a9),this.addMouseListener(_1a2,_1a5,_1a6,_1a7,_1a8,_1a9)];return {remove:function(){_18c.forEach(_1aa,function(h){h.remove();});}};}});return _18f;});},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_1ab,lang,_1ac){var _1ad={hasWaiRole:function(elem,role){var _1ae=this.getWaiRole(elem);return role?(_1ae.indexOf(role)>-1):(_1ae.length>0);},getWaiRole:function(elem){return lang.trim((_1ab.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_1ab.set(elem,"role",role);},removeWaiRole:function(elem,role){var _1af=_1ab.get(elem,"role");if(!_1af){return;}if(role){var t=lang.trim((" "+_1af+" ").replace(" "+role+" "," "));_1ab.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_1b0){return elem.hasAttribute?elem.hasAttribute("aria-"+_1b0):!!elem.getAttribute("aria-"+_1b0);},getWaiState:function(elem,_1b1){return elem.getAttribute("aria-"+_1b1)||"";},setWaiState:function(elem,_1b2,_1b3){elem.setAttribute("aria-"+_1b2,_1b3);},removeWaiState:function(elem,_1b4){elem.removeAttribute("aria-"+_1b4);}};lang.mixin(_1ac,_1ad);return _1ac;});},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_1b5,has,_1b6,win){_1b6(function(){if(has("highcontrast")){_1b5.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_1b7,_1b8,_1b9,_1ba,has,_1bb,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url(\""+(_1b8.blankGif||_1b7.toUrl("./resources/blank.gif"))+"\");";win.body().appendChild(div);var cs=_1ba.getComputedStyle(div),_1bc=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_1bc&&(_1bc=="none"||_1bc=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_1bb(function(){if(has("highcontrast")){_1b9.add(win.body(),"dj_a11y");}});return has;});},"dijit/_base/window":function(){define(["dojo/window","../main"],function(_1bd,_1be){_1be.getDocumentWindow=function(doc){return _1bd.get(doc);};});},"dojox/grid/DataGrid":function(){define(["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/sniff","dojo/_base/declare","./_Grid","./DataSelection","dojo/_base/html","dojo/has","dojo/has!dojo-bidi?./bidi/_BidiMixin"],function(_1bf,_1c0,lang,json,has,_1c1,_1c2,_1c3,html){var _1c4=_1c1("dojox.grid.DataGrid",_1c2,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:false,_isLoading:false,keepSelection:false,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments);},destroy:function(){this.selection.destroy();this.inherited(arguments);},createSelection:function(){this.selection=new _1c3(this);},get:function(_1c5,_1c6){if(_1c6&&this.field=="_item"&&!this.fields){return _1c6;}else{if(_1c6&&this.fields){var ret=[];var s=this.grid.store;_1c0.forEach(this.fields,function(f){ret=ret.concat(s.getValues(_1c6,f));});return ret;}else{if(!_1c6&&typeof _1c5==="string"){return this.inherited(arguments);}}}return (!_1c6?this.defaultValue:(!this.field?this.value:(this.field=="_item"?_1c6:this.grid.store.getValue(_1c6,this.field))));},_checkUpdateStatus:function(){if(this.updateDelay>0){var _1c7=false;if(this._endUpdateDelay){clearTimeout(this._endUpdateDelay);delete this._endUpdateDelay;_1c7=true;}if(!this.updating){this.beginUpdate();_1c7=true;}if(_1c7){var _1c8=this;this._endUpdateDelay=setTimeout(function(){delete _1c8._endUpdateDelay;_1c8.endUpdate();},this.updateDelay);}}},_onSet:function(item,_1c9,_1ca,_1cb){this._checkUpdateStatus();var idx=this.getItemIndex(item);if(idx>-1){this.updateRow(idx);}},_createItem:function(item,_1cc){var idty=this._hasIdentity?this.store.getIdentity(item):json.toJson(this.query)+":idx:"+_1cc+":sort:"+json.toJson(this.getSortProps());var o=this._by_idty[idty]={idty:idty,item:item};return o;},_addItem:function(item,_1cd,_1ce){this._by_idx[_1cd]=this._createItem(item,_1cd);if(!_1ce){this.updateRow(_1cd);}},_onNew:function(item,_1cf){this._checkUpdateStatus();var _1d0=this.get("rowCount");this._addingItem=true;this.updateRowCount(_1d0+1);this._addingItem=false;this._addItem(item,_1d0);this.showMessage();},_onDelete:function(item){this._checkUpdateStatus();var idx=this._getItemIndex(item,true);if(idx>=0){this._pages=[];this._bop=-1;this._eop=-1;var o=this._by_idx[idx];this._by_idx.splice(idx,1);delete this._by_idty[o.idty];this.updateRowCount(this.get("rowCount")-1);if(this.get("rowCount")===0){this.showMessage(this.noDataMessage);}}if(this.selection.isSelected(idx)){this.selection.deselect(idx);this.selection.selected.splice(idx,1);}},_onRevert:function(){this._refresh();},setStore:function(_1d1,_1d2,_1d3){if(this._requestsPending(0)){return;}this._setQuery(_1d2,_1d3);this._setStore(_1d1);this._refresh(true);},setQuery:function(_1d4,_1d5){if(this._requestsPending(0)){return;}this._setQuery(_1d4,_1d5);this._refresh(true);},setItems:function(_1d6){this.items=_1d6;this._setStore(this.store);this._refresh(true);},_setQuery:function(_1d7,_1d8){this.query=_1d7;this.queryOptions=_1d8||this.queryOptions;},_setStore:function(_1d9){if(this.store&&this._store_connects){_1c0.forEach(this._store_connects,this.disconnect,this);}this.store=_1d9;if(this.store){var f=this.store.getFeatures();var h=[];this._canEdit=!!f["dojo.data.api.Write"]&&!!f["dojo.data.api.Identity"];this._hasIdentity=!!f["dojo.data.api.Identity"];if(!!f["dojo.data.api.Notification"]&&!this.items){h.push(this.connect(this.store,"onSet","_onSet"));h.push(this.connect(this.store,"onNew","_onNew"));h.push(this.connect(this.store,"onDelete","_onDelete"));}if(this._canEdit){h.push(this.connect(this.store,"revert","_onRevert"));}this._store_connects=h;}},_onFetchBegin:function(size,req){if(!this.scroller){return;}if(this.rowCount!=size){if(req.isRender){this.scroller.init(size,this.keepRows,this.rowsPerPage);this.rowCount=size;this._setAutoHeightAttr(this.autoHeight,true);this._skipRowRenormalize=true;this.prerender();this._skipRowRenormalize=false;}else{this.updateRowCount(size);}}if(!size){this.views.render();this._resize();this.showMessage(this.noDataMessage);this.focus.initFocusView();}else{this.showMessage();}},_onFetchComplete:function(_1da,req){if(!this.scroller){return;}if(_1da&&_1da.length>0){_1c0.forEach(_1da,function(item,idx){this._addItem(item,req.start+idx,true);},this);this.updateRows(req.start,_1da.length);if(req.isRender){this.setScrollTop(0);this.postrender();}else{if(this._lastScrollTop){this.setScrollTop(this._lastScrollTop);}}if(has("ie")){html.setSelectable(this.domNode,this.selectable);}}delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;}this._pending_requests[req.start]=false;},_onFetchError:function(err,req){delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;this.showMessage(this.errorMessage);}this._pending_requests[req.start]=false;this.onFetchError(err,req);},onFetchError:function(err,req){},_fetch:function(_1db,_1dc){_1db=_1db||0;if(this.store&&!this._pending_requests[_1db]){if(!this._isLoaded&&!this._isLoading){this._isLoading=true;this.showMessage(this.loadingMessage);}this._pending_requests[_1db]=true;try{if(this.items){var _1dd=this.items;var _1de=this.store;this.rowsPerPage=_1dd.length;var req={start:_1db,count:this.rowsPerPage,isRender:_1dc};this._onFetchBegin(_1dd.length,req);var _1df=0;_1c0.forEach(_1dd,function(i){if(!_1de.isItemLoaded(i)){_1df++;}});if(_1df===0){this._onFetchComplete(_1dd,req);}else{var _1e0=function(item){_1df--;if(_1df===0){this._onFetchComplete(_1dd,req);}};_1c0.forEach(_1dd,function(i){if(!_1de.isItemLoaded(i)){_1de.loadItem({item:i,onItem:_1e0,scope:this});}},this);}}else{this.store.fetch({start:_1db,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_1dc,onBegin:lang.hitch(this,"_onFetchBegin"),onComplete:lang.hitch(this,"_onFetchComplete"),onError:lang.hitch(this,"_onFetchError")});}}catch(e){this._onFetchError(e,{start:_1db,count:this.rowsPerPage});}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoaded=false;this._isLoading=false;},getItem:function(idx){var data=this._by_idx[idx];if(!data||(data&&!data.item)){this._preparePage(idx);return null;}return data.item;},getItemIndex:function(item){return this._getItemIndex(item,false);},_getItemIndex:function(item,_1e1){if(!_1e1&&!this.store.isItem(item)){return -1;}var idty=this._hasIdentity?this.store.getIdentity(item):null;for(var i=0,l=this._by_idx.length;i<l;i++){var d=this._by_idx[i];if(d&&((idty&&d.idty==idty)||(d.item===item))){return i;}}return -1;},filter:function(_1e2,_1e3){this.query=_1e2;if(_1e3){this._clearData();}this._fetch();},_getItemAttr:function(idx,attr){var item=this.getItem(idx);return (!item?this.fetchText:this.store.getValue(item,attr));},_render:function(){if(this.domNode.parentNode){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this._fetch(0,true);}},_requestsPending:function(_1e4){return this._pending_requests[_1e4];},_rowToPage:function(_1e5){return (this.rowsPerPage?Math.floor(_1e5/this.rowsPerPage):_1e5);},_pageToRow:function(_1e6){return (this.rowsPerPage?this.rowsPerPage*_1e6:_1e6);},_preparePage:function(_1e7){if((_1e7<this._bop||_1e7>=this._eop)&&!this._addingItem){var _1e8=this._rowToPage(_1e7);this._needPage(_1e8);this._bop=_1e8*this.rowsPerPage;this._eop=this._bop+(this.rowsPerPage||this.get("rowCount"));}},_needPage:function(_1e9){if(!this._pages[_1e9]){this._pages[_1e9]=true;this._requestPage(_1e9);}},_requestPage:function(_1ea){var row=this._pageToRow(_1ea);var _1eb=Math.min(this.rowsPerPage,this.get("rowCount")-row);if(_1eb>0){this._requests++;if(!this._requestsPending(row)){setTimeout(lang.hitch(this,"_fetch",row,false),1);}}},getCellName:function(_1ec){return _1ec.field;},_refresh:function(_1ed){this._clearData();this._fetch(0,_1ed);},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh();},canSort:function(){return (!this._isLoading);},getSortProps:function(){var c=this.getCell(this.getSortIndex());if(!c){if(this.sortFields){return this.sortFields;}return null;}else{var desc=c["sortDesc"];var si=!(this.sortInfo>0);if(typeof desc=="undefined"){desc=si;}else{desc=si?!desc:desc;}return [{attribute:c.field,descending:desc}];}},styleRowState:function(_1ee){if(this.store&&this.store.getState){var _1ef=this.store.getState(_1ee.index),c="";for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){if(_1ef[s]){c=" dojoxGridRow-"+s;break;}}_1ee.customClasses+=c;}},onStyleRow:function(_1f0){this.styleRowState(_1f0);this.inherited(arguments);},canEdit:function(_1f1,_1f2){return this._canEdit;},_copyAttr:function(idx,attr){var row={};var _1f3={};var src=this.getItem(idx);return this.store.getValue(src,attr);},doStartEdit:function(_1f4,_1f5){if(!this._cache[_1f5]){this._cache[_1f5]=this._copyAttr(_1f5,_1f4.field);}this.onStartEdit(_1f4,_1f5);},doApplyCellEdit:function(_1f6,_1f7,_1f8){this.store.fetchItemByIdentity({identity:this._by_idx[_1f7].idty,onItem:lang.hitch(this,function(item){var _1f9=this.store.getValue(item,_1f8);if(typeof _1f9=="number"){_1f6=isNaN(_1f6)?_1f6:parseFloat(_1f6);}else{if(typeof _1f9=="boolean"){_1f6=_1f6=="true"?true:_1f6=="false"?false:_1f6;}else{if(_1f9 instanceof Date){var _1fa=new Date(_1f6);_1f6=isNaN(_1fa.getTime())?_1f6:_1fa;}}}this.store.setValue(item,_1f8,_1f6);this.onApplyCellEdit(_1f6,_1f7,_1f8);})});},doCancelEdit:function(_1fb){var _1fc=this._cache[_1fb];if(_1fc){this.updateRow(_1fb);delete this._cache[_1fb];}this.onCancelEdit.apply(this,arguments);},doApplyEdit:function(_1fd,_1fe){var _1ff=this._cache[_1fd];this.onApplyEdit(_1fd);},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var fx=lang.hitch(this,function(_200){if(_200.length){_1c0.forEach(_200,this.store.deleteItem,this.store);this.selection.clear();}});if(this.allItemsSelected){this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:fx});}else{fx(this.selection.getSelected());}}}});_1c4.cell_markupFactory=function(_201,node,_202){var _203=lang.trim(html.attr(node,"field")||"");if(_203){_202.field=_203;}_202.field=_202.field||_202.name;var _204=lang.trim(html.attr(node,"fields")||"");if(_204){_202.fields=_204.split(",");}if(_201){_201(node,_202);}};_1c4.markupFactory=function(_205,node,ctor,_206){return _1c2.markupFactory(_205,node,ctor,lang.partial(_1c4.cell_markupFactory,_206));};return _1c4;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"dojox/grid/_Grid":function(){define(["dojo/_base/kernel","../main","dojo/_base/declare","./_Events","./_Scroller","./_Layout","./_View","./_ViewManager","./_RowManager","./_FocusManager","./_EditManager","./Selection","./_RowSelector","./util","dijit/_Widget","dijit/_TemplatedMixin","dijit/CheckedMenuItem","dojo/text!./resources/_Grid.html","dojo/string","dojo/_base/array","dojo/_base/lang","dojo/_base/sniff","dojox/html/metrics","dojo/_base/html","dojo/query","dojo/dnd/common","dojo/i18n!dijit/nls/loading"],function(dojo,_207,_208,_209,_20a,_20b,_20c,_20d,_20e,_20f,_210,_211,_212,util,_213,_214,_215,_216,_217,_218,lang,has,_219,html,_21a){if(!dojo.isCopyKey){dojo.isCopyKey=dojo.dnd.getCopyKeyState;}var _21b=_208("dojox.grid._Grid",[_213,_214,_209],{templateString:_216,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:true,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:false,selectionMode:"extended",rowSelector:"",columnReordering:false,headerMenu:null,placeholderLabel:"GridColumns",selectable:false,_click:null,loadingMessage:"<span class='dojoxGridLoading'>${loadingState}</span>",errorMessage:"<span class='dojoxGridError'>${errorState}</span>",noDataMessage:"",escapeHTMLInData:true,formatterScope:null,editable:false,summary:"",_setSummaryAttr:"domNode",sortInfo:0,_placeholders:null,_layoutClass:_20b,buildRendering:function(){this.inherited(arguments);if(!this.domNode.getAttribute("tabIndex")){this.domNode.tabIndex="0";}this.createScroller();this.createLayout();this.createViews();this.createManagers();this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");_219.initOnFontResize();this.connect(_219,"onFontResize","textSizeChanged");util.funnelEvents(this.domNode,this,"doKeyEvent",util.keyEvents);if(this.selectionMode!="none"){this.domNode.setAttribute("aria-multiselectable",this.selectionMode=="single"?"false":"true");}html.addClass(this.domNode,this.classTag);if(!this.isLeftToRight()){html.addClass(this.domNode,this.classTag+"Rtl");}if(this.rowHeight>0){html.addClass(this.viewsNode,this.classTag+"FixedRowHeight");}},postMixInProperties:function(){this.inherited(arguments);var _21c=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_217.substitute(this.loadingMessage,_21c);this.errorMessage=_217.substitute(this.errorMessage,_21c);if(this.srcNodeRef&&this.srcNodeRef.style.height){this.height=this.srcNodeRef.style.height;}this._setAutoHeightAttr(this.autoHeight,true);this.lastScrollTop=this.scrollTop=0;},postCreate:function(){this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);this._setStructureAttr(this.structure);this._click=[];this.inherited(arguments);if(this.domNode&&this.autoWidth&&this.initialWidth){this.domNode.style.width=this.initialWidth;}if(this.domNode&&!this.editable){html.attr(this.domNode,"aria-readonly","true");}},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;if(this.scroller){this.scroller.destroy();delete this.scroller;}this.edit.destroy();delete this.edit;this.views.destroyViews();if(this.focus){this.focus.destroy();delete this.focus;}if(this.headerMenu&&this._placeholders.length){_218.forEach(this._placeholders,function(p){p.unReplace(true);});this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.inherited(arguments);},_setAutoHeightAttr:function(ah,_21d){if(typeof ah=="string"){if(!ah||ah=="false"){ah=false;}else{if(ah=="true"){ah=true;}else{ah=window.parseInt(ah,10);}}}if(typeof ah=="number"){if(isNaN(ah)){ah=false;}if(ah<0){ah=true;}else{if(ah===0){ah=false;}}}this.autoHeight=ah;if(typeof ah=="boolean"){this._autoHeight=ah;}else{if(typeof ah=="number"){this._autoHeight=(ah>=this.get("rowCount"));}else{this._autoHeight=false;}}if(this._started&&!_21d){this.render();}},_getRowCountAttr:function(){return this.updating&&this.invalidated&&this.invalidated.rowCount!=undefined?this.invalidated.rowCount:this.rowCount;},textSizeChanged:function(){this.render();},sizeChange:function(){this.update();},createManagers:function(){this.rows=new _20e(this);this.focus=new _20f(this);this.edit=new _210(this);},createSelection:function(){this.selection=new _211(this);},createScroller:function(){this.scroller=new _20a();this.scroller.grid=this;this.scroller.renderRow=lang.hitch(this,"renderRow");this.scroller.removeRow=lang.hitch(this,"rowRemoved");},createLayout:function(){this.layout=new this._layoutClass(this);this.connect(this.layout,"moveColumn","onMoveColumn");},onMoveColumn:function(){this.update();},onResizeColumn:function(_21e){},createViews:function(){this.views=new _20d(this);this.views.createView=lang.hitch(this,"createView");},createView:function(_21f,idx){var c=lang.getObject(_21f);var view=new c({grid:this,index:idx});this.viewsNode.appendChild(view.domNode);this.viewsHeaderNode.appendChild(view.headerNode);this.views.addView(view);html.attr(this.domNode,"align",this.isLeftToRight()?"left":"right");return view;},buildViews:function(){for(var i=0,vs;(vs=this.layout.structure[i]);i++){this.createView(vs.type||_207._scopeName+".grid._View",i).setStructure(vs);}this.scroller.setContentNodes(this.views.getContentNodes());},_setStructureAttr:function(_220){var s=_220;if(s&&lang.isString(s)){dojo.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0");s=lang.getObject(s);}this.structure=s;if(!s){if(this.layout.structure){s=this.layout.structure;}else{return;}}this.views.destroyViews();this.focus.focusView=null;if(s!==this.layout.structure){this.layout.setStructure(s);}this._structureChanged();},setStructure:function(_221){dojo.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");this._setStructureAttr(_221);},getColumnTogglingItems:function(){var _222,_223=[];_222=_218.map(this.layout.cells,function(cell){if(!cell.menuItems){cell.menuItems=[];}var self=this;var item=new _215({label:cell.name,checked:!cell.hidden,_gridCell:cell,onChange:function(_224){if(self.layout.setColumnVisibility(this._gridCell.index,_224)){var _225=this._gridCell.menuItems;if(_225.length>1){_218.forEach(_225,function(item){if(item!==this){item.setAttribute("checked",_224);}},this);}_224=_218.filter(self.layout.cells,function(c){if(c.menuItems.length>1){_218.forEach(c.menuItems,"item.set('disabled', false);");}else{c.menuItems[0].set("disabled",false);}return !c.hidden;});if(_224.length==1){_218.forEach(_224[0].menuItems,"item.set('disabled', true);");}}},destroy:function(){var _226=_218.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(_226,1);delete this._gridCell;_215.prototype.destroy.apply(this,arguments);}});cell.menuItems.push(item);if(!cell.hidden){_223.push(item);}return item;},this);if(_223.length==1){_223[0].set("disabled",true);}return _222;},_setHeaderMenuAttr:function(menu){if(this._placeholders&&this._placeholders.length){_218.forEach(this._placeholders,function(p){p.unReplace(true);});this._placeholders=[];}if(this.headerMenu){this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.headerMenu=menu;if(!menu){return;}this.headerMenu.bindDomNode(this.viewsHeaderNode);if(this.headerMenu.getPlaceholders){this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel);}},setHeaderMenu:function(menu){dojo.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(menu);},setupHeaderMenu:function(){if(this._placeholders&&this._placeholders.length){_218.forEach(this._placeholders,function(p){if(p._replaced){p.unReplace(true);}p.replace(this.getColumnTogglingItems());},this);}},_fetch:function(_227){this.setScrollTop(0);},getItem:function(_228){return null;},showMessage:function(_229){if(_229){this.messagesNode.innerHTML=_229;this.messagesNode.style.display="";}else{this.messagesNode.innerHTML="";this.messagesNode.style.display="none";}},_structureChanged:function(){this.buildViews();if(this.autoRender&&this._started){this.render();}},hasLayout:function(){return this.layout.cells.length;},resize:function(_22a,_22b){this._pendingChangeSize=_22a;this._pendingResultSize=_22b;this.sizeChange();},_getPadBorder:function(){this._padBorder=this._padBorder||html._getPadBorderExtents(this.domNode);return this._padBorder;},_getHeaderHeight:function(){var vns=this.viewsHeaderNode.style,t=vns.display=="none"?0:this.views.measureHeader();vns.height=t+"px";this.views.normalizeHeaderNodeHeight();return t;},_resize:function(_22c,_22d){_22c=_22c||this._pendingChangeSize;_22d=_22d||this._pendingResultSize;delete this._pendingChangeSize;delete this._pendingResultSize;if(!this.domNode){return;}var pn=this.domNode.parentNode;if(!pn||pn.nodeType!=1||!this.hasLayout()||pn.style.visibility=="hidden"||pn.style.display=="none"){return;}var _22e=this._getPadBorder();var hh=undefined;var h;if(this._autoHeight){this.domNode.style.height="auto";}else{if(typeof this.autoHeight=="number"){h=hh=this._getHeaderHeight();h+=(this.scroller.averageRowHeight*this.autoHeight);this.domNode.style.height=h+"px";}else{if(this.domNode.clientHeight<=_22e.h){if(pn==document.body){this.domNode.style.height=this.defaultHeight;}else{if(this.height){this.domNode.style.height=this.height;}else{this.fitTo="parent";}}}}}if(_22d){_22c=_22d;}if(!this._autoHeight&&_22c){html.marginBox(this.domNode,_22c);this.height=this.domNode.style.height;delete this.fitTo;}else{if(this.fitTo=="parent"){h=this._parentContentBoxHeight=(this._parentContentBoxHeight>0?this._parentContentBoxHeight:html._getContentBox(pn).h);this.domNode.style.height=Math.max(0,h)+"px";}}var _22f=_218.some(this.views.views,function(v){return v.flexCells;});if(!this._autoHeight&&(h||html._getContentBox(this.domNode).h)===0){this.viewsHeaderNode.style.display="none";}else{this.viewsHeaderNode.style.display="block";if(!_22f&&hh===undefined){hh=this._getHeaderHeight();}}if(_22f){hh=undefined;}this.adaptWidth();this.adaptHeight(hh);this.postresize();},adaptWidth:function(){var _230=(!this.initialWidth&&this.autoWidth);var w=_230?0:this.domNode.clientWidth||(this.domNode.offsetWidth-this._getPadBorder().w),vw=this.views.arrange(1,w);this.views.onEach("adaptWidth");if(_230){this.domNode.style.width=vw+"px";}},adaptHeight:function(_231){var t=_231===undefined?this._getHeaderHeight():_231;var h=(this._autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);this.views.onEach("setSize",[0,h]);this.views.onEach("adaptHeight");if(!this._autoHeight){var _232=0,_233=0;var _234=_218.filter(this.views.views,function(v){var has=v.hasHScrollbar();if(has){_232++;}else{_233++;}return (!has);});if(_232>0&&_233>0){_218.forEach(_234,function(v){v.adaptHeight(true);});}}if(this.autoHeight===true||h!=-1||(typeof this.autoHeight=="number"&&this.autoHeight>=this.get("rowCount"))){this.scroller.windowHeight=h;}else{this.scroller.windowHeight=Math.max(this.domNode.clientHeight-t,0);}},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.autoRender){this.render();}},render:function(){if(!this.domNode){return;}if(!this._started){return;}if(!this.hasLayout()){this.scroller.init(0,this.keepRows,this.rowsPerPage);return;}this.update=this.defaultUpdate;this._render();},_render:function(){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender();},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize();},postrender:function(){this.postresize();this.focus.initFocusView();html.setSelectable(this.domNode,this.selectable);},postresize:function(){if(this._autoHeight){var size=Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=size;}},renderRow:function(_235,_236){this.views.renderRow(_235,_236,this._skipRowRenormalize);},rowRemoved:function(_237){this.views.rowRemoved(_237);},invalidated:null,updating:false,beginUpdate:function(){this.invalidated=[];this.updating=true;},endUpdate:function(){this.updating=false;var i=this.invalidated,r;if(i.all){this.update();}else{if(i.rowCount!=undefined){this.updateRowCount(i.rowCount);}else{for(r in i){this.updateRow(Number(r));}}}this.invalidated=[];},defaultUpdate:function(){if(!this.domNode){return;}if(this.updating){this.invalidated.all=true;return;}this.lastScrollTop=this.scrollTop;this.prerender();this.scroller.invalidateNodes();this.setScrollTop(this.lastScrollTop);this.postrender();},update:function(){this.render();},updateRow:function(_238){_238=Number(_238);if(this.updating){this.invalidated[_238]=true;}else{this.views.updateRow(_238);this.scroller.rowHeightChanged(_238);}},updateRows:function(_239,_23a){_239=Number(_239);_23a=Number(_23a);var i;if(this.updating){for(i=0;i<_23a;i++){this.invalidated[i+_239]=true;}}else{for(i=0;i<_23a;i++){this.views.updateRow(i+_239,this._skipRowRenormalize);}this.scroller.rowHeightChanged(_239);}},updateRowCount:function(_23b){if(this.updating){this.invalidated.rowCount=_23b;}else{this.rowCount=_23b;this._setAutoHeightAttr(this.autoHeight,true);if(this.layout.cells.length){this.scroller.updateRowCount(_23b);}this._resize();if(this.layout.cells.length){this.setScrollTop(this.scrollTop);}}},updateRowStyles:function(_23c){this.views.updateRowStyles(_23c);},getRowNode:function(_23d){if(this.focus.focusView&&!(this.focus.focusView instanceof _212)){return this.focus.focusView.rowNodes[_23d];}else{for(var i=0,_23e;(_23e=this.views.views[i]);i++){if(!(_23e instanceof _212)){return _23e.rowNodes[_23d];}}}return null;},rowHeightChanged:function(_23f){this.views.renormalizeRow(_23f);this.scroller.rowHeightChanged(_23f);},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(has("ie")?100:50),scrollTo:function(_240){if(!this.fastScroll){this.setScrollTop(_240);return;}var _241=Math.abs(this.lastScrollTop-_240);this.lastScrollTop=_240;if(_241>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=true;this.scrollTop=_240;this.views.setScrollTop(_240);if(this._pendingScroll){window.clearTimeout(this._pendingScroll);}var _242=this;this._pendingScroll=window.setTimeout(function(){delete _242._pendingScroll;_242.finishScrollJob();},200);}else{this.setScrollTop(_240);}},finishScrollJob:function(){this.delayScroll=false;this.setScrollTop(this.scrollTop);},setScrollTop:function(_243){this.scroller.scroll(this.views.setScrollTop(_243));},scrollToRow:function(_244){this.setScrollTop(this.scroller.findScrollTop(_244)+1);},styleRowNode:function(_245,_246){if(_246){this.rows.styleRowNode(_245,_246);}},_mouseOut:function(e){this.rows.setOverRow(-2);},getCell:function(_247){return this.layout.cells[_247];},setCellWidth:function(_248,_249){this.getCell(_248).unitWidth=_249;},getCellName:function(_24a){return "Cell "+_24a.index;},canSort:function(_24b){},sort:function(){},getSortAsc:function(_24c){_24c=_24c==undefined?this.sortInfo:_24c;return Boolean(_24c>0);},getSortIndex:function(_24d){_24d=_24d==undefined?this.sortInfo:_24d;return Math.abs(_24d)-1;},setSortIndex:function(_24e,_24f){var si=_24e+1;if(_24f!=undefined){si*=(_24f?1:-1);}else{if(this.getSortIndex()==_24e){si=-this.sortInfo;}}this.setSortInfo(si);},setSortInfo:function(_250){if(this.canSort(_250)){this.sortInfo=_250;this.sort();this.update();}},doKeyEvent:function(e){e.dispatch="do"+e.type;this.onKeyEvent(e);},_dispatch:function(m,e){if(m in this){return this[m](e);}return false;},dispatchKeyEvent:function(e){this._dispatch(e.dispatch,e);},dispatchContentEvent:function(e){this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);},dispatchHeaderEvent:function(e){e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);},dokeydown:function(e){this.onKeyDown(e);},doclick:function(e){if(e.cellNode){this.onCellClick(e);}else{this.onRowClick(e);}},dodblclick:function(e){if(e.cellNode){this.onCellDblClick(e);}else{this.onRowDblClick(e);}},docontextmenu:function(e){if(e.cellNode){this.onCellContextMenu(e);}else{this.onRowContextMenu(e);}},doheaderclick:function(e){if(e.cellNode){this.onHeaderCellClick(e);}else{this.onHeaderClick(e);}},doheaderdblclick:function(e){if(e.cellNode){this.onHeaderCellDblClick(e);}else{this.onHeaderDblClick(e);}},doheadercontextmenu:function(e){if(e.cellNode){this.onHeaderCellContextMenu(e);}else{this.onHeaderContextMenu(e);}},doStartEdit:function(_251,_252){this.onStartEdit(_251,_252);},doApplyCellEdit:function(_253,_254,_255){this.onApplyCellEdit(_253,_254,_255);},doCancelEdit:function(_256){this.onCancelEdit(_256);},doApplyEdit:function(_257){this.onApplyEdit(_257);},addRow:function(){this.updateRowCount(this.get("rowCount")+1);},removeSelectedRows:function(){if(this.allItemsSelected){this.updateRowCount(0);}else{this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));}this.selection.clear();}});_21b.markupFactory=function(_258,node,ctor,_259){var _25a=function(n){var w=html.attr(n,"width")||"auto";if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){w=parseInt(w,10)+"px";}return w;};if(!_258.structure&&node.nodeName.toLowerCase()=="table"){_258.structure=_21a("> colgroup",node).map(function(cg){var sv=html.attr(cg,"span");var v={noscroll:(html.attr(cg,"noscroll")=="true")?true:false,__span:(!!sv?parseInt(sv,10):1),cells:[]};if(html.hasAttr(cg,"width")){v.width=_25a(cg);}return v;});if(!_258.structure.length){_258.structure.push({__span:Infinity,cells:[]});}_21a("thead > tr",node).forEach(function(tr,_25b){var _25c=0;var _25d=0;var _25e;var _25f=null;_21a("> th",tr).map(function(th){if(!_25f){_25e=0;_25f=_258.structure[0];}else{if(_25c>=(_25e+_25f.__span)){_25d++;_25e+=_25f.__span;var _260=_25f;_25f=_258.structure[_25d];}}var cell={name:lang.trim(html.attr(th,"name")||th.innerHTML),colSpan:parseInt(html.attr(th,"colspan")||1,10),type:lang.trim(html.attr(th,"cellType")||""),id:lang.trim(html.attr(th,"id")||"")};_25c+=cell.colSpan;var _261=html.attr(th,"rowspan");if(_261){cell.rowSpan=_261;}if(html.hasAttr(th,"width")){cell.width=_25a(th);}if(html.hasAttr(th,"relWidth")){cell.relWidth=window.parseInt(html.attr(th,"relWidth"),10);}if(html.hasAttr(th,"hidden")){cell.hidden=(html.attr(th,"hidden")=="true"||html.attr(th,"hidden")===true);}if(_259){_259(th,cell);}cell.type=cell.type?lang.getObject(cell.type):_207.grid.cells.Cell;if(cell.type&&cell.type.markupFactory){cell.type.markupFactory(th,cell);}if(!_25f.cells[_25b]){_25f.cells[_25b]=[];}_25f.cells[_25b].push(cell);});});}return new ctor(_258,node);};return _21b;});},"dojox/grid/_Events":function(){define(["dojo/keys","dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(keys,_262,_263,_264,has){return _263("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(e){this.dispatchKeyEvent(e);},onContentEvent:function(e){this.dispatchContentEvent(e);},onHeaderEvent:function(e){this.dispatchHeaderEvent(e);},onStyleRow:function(_265){var i=_265;i.customClasses+=(i.odd?" dojoxGridRowOdd":"")+(i.selected?" dojoxGridRowSelected":"")+(i.over?" dojoxGridRowOver":"");this.focus.styleRow(_265);this.edit.styleRow(_265);},onKeyDown:function(e){if(e.altKey||e.metaKey){return;}var _266;switch(e.keyCode){case keys.ESCAPE:this.edit.cancel();break;case keys.ENTER:if(!this.edit.isEditing()){_266=this.focus.getHeaderIndex();if(_266>=0){this.setSortIndex(_266);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}_264.stop(e);}if(!e.shiftKey){var _267=this.edit.isEditing();this.edit.apply();if(!_267){this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);}}if(!this.edit.isEditing()){var _268=this.focus.focusView||this.views.views[0];_268.content.decorateEvent(e);this.onRowClick(e);_264.stop(e);}break;case keys.SPACE:if(!this.edit.isEditing()){_266=this.focus.getHeaderIndex();if(_266>=0){this.setSortIndex(_266);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}_264.stop(e);}break;case keys.TAB:this.focus[e.shiftKey?"previousKey":"nextKey"](e);break;case keys.LEFT_ARROW:case keys.RIGHT_ARROW:if(!this.edit.isEditing()){var _269=e.keyCode;_264.stop(e);_266=this.focus.getHeaderIndex();if(_266>=0&&(e.shiftKey&&e.ctrlKey)){this.focus.colSizeAdjust(e,_266,(_269==keys.LEFT_ARROW?-1:1)*5);}else{var _26a=(_269==keys.LEFT_ARROW)?1:-1;if(this.isLeftToRight()){_26a*=-1;}this.focus.move(0,_26a);}}break;case keys.UP_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){_264.stop(e);this.focus.move(-1,0);}break;case keys.DOWN_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){_264.stop(e);this.focus.move(1,0);}break;case keys.PAGE_UP:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){_264.stop(e);if(this.focus.rowIndex!=this.scroller.firstVisibleRow+1){this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1));this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0);}}break;case keys.PAGE_DOWN:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){_264.stop(e);if(this.focus.rowIndex!=this.scroller.lastVisibleRow-1){this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1));this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0);}}break;default:break;}},onMouseOver:function(e){e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);},onMouseOut:function(e){e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);},onMouseDown:function(e){e.rowIndex==-1?this.onHeaderCellMouseDown(e):this.onCellMouseDown(e);},onMouseOverRow:function(e){if(!this.rows.isOver(e.rowIndex)){this.rows.setOverRow(e.rowIndex);e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);}},onMouseOutRow:function(e){if(this.rows.isOver(-1)){this.onHeaderMouseOut(e);}else{if(!this.rows.isOver(-2)){this.rows.setOverRow(-2);this.onRowMouseOut(e);}}},onMouseDownRow:function(e){if(e.rowIndex!=-1){this.onRowMouseDown(e);}},onCellMouseOver:function(e){if(e.cellNode){_262.add(e.cellNode,this.cellOverClass);}},onCellMouseOut:function(e){if(e.cellNode){_262.remove(e.cellNode,this.cellOverClass);}},onCellMouseDown:function(e){},onCellClick:function(e){this._click[0]=this._click[1];this._click[1]=e;if(!this.edit.isEditCell(e.rowIndex,e.cellIndex)){this.focus.setFocusCell(e.cell,e.rowIndex);}if(this._click.length>1&&this._click[0]==null){this._click.shift();}this.onRowClick(e);},onCellDblClick:function(e){var _26b;if(this._click.length>1&&has("ie")){_26b=this._click[1];}else{if(this._click.length>1&&this._click[0].rowIndex!=this._click[1].rowIndex){_26b=this._click[0];}else{_26b=e;}}this.focus.setFocusCell(_26b.cell,_26b.rowIndex);this.edit.setEditCell(_26b.cell,_26b.rowIndex);this.onRowDblClick(e);},onCellContextMenu:function(e){this.onRowContextMenu(e);},onCellFocus:function(_26c,_26d){this.edit.cellFocus(_26c,_26d);},onRowClick:function(e){this.edit.rowClick(e);this.selection.clickSelectEvent(e);},onRowDblClick:function(e){},onRowMouseOver:function(e){},onRowMouseOut:function(e){},onRowMouseDown:function(e){},onRowContextMenu:function(e){_264.stop(e);},onHeaderMouseOver:function(e){},onHeaderMouseOut:function(e){},onHeaderCellMouseOver:function(e){if(e.cellNode){_262.add(e.cellNode,this.cellOverClass);}},onHeaderCellMouseOut:function(e){if(e.cellNode){_262.remove(e.cellNode,this.cellOverClass);}},onHeaderCellMouseDown:function(e){},onHeaderClick:function(e){},onHeaderCellClick:function(e){this.setSortIndex(e.cell.index);this.onHeaderClick(e);},onHeaderDblClick:function(e){},onHeaderCellDblClick:function(e){this.onHeaderDblClick(e);},onHeaderCellContextMenu:function(e){this.onHeaderContextMenu(e);},onHeaderContextMenu:function(e){if(!this.headerMenu){_264.stop(e);}},onStartEdit:function(_26e,_26f){},onApplyCellEdit:function(_270,_271,_272){},onCancelEdit:function(_273){},onApplyEdit:function(_274){},onCanSelect:function(_275){return true;},onCanDeselect:function(_276){return true;},onSelected:function(_277){this.updateRowStyles(_277);},onDeselected:function(_278){this.updateRowStyles(_278);},onSelectionChanged:function(){}});});},"dojox/grid/_Scroller":function(){define(["dijit/registry","dojo/_base/declare","dojo/_base/lang","./util","dojo/_base/html"],function(_279,_27a,lang,util,html){var _27b=function(_27c){var i=0,n,p=_27c.parentNode;while((n=p.childNodes[i++])){if(n==_27c){return i-1;}}return -1;};var _27d=function(_27e){if(!_27e){return;}dojo.forEach(_279.toArray(),function(w){if(w.domNode&&html.isDescendant(w.domNode,_27e,true)){w.destroy();}});};var _27f=function(_280){var node=html.byId(_280);return (node&&node.tagName?node.tagName.toLowerCase():"");};var _281=function(_282,_283){var _284=[];var i=0,n;while((n=_282.childNodes[i])){i++;if(_27f(n)==_283){_284.push(n);}}return _284;};var _285=function(_286){return _281(_286,"div");};return _27a("dojox.grid._Scroller",null,{constructor:function(_287){this.setContentNodes(_287);this.pageHeights=[];this.pageNodes=[];this.stack=[];},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(_288,_289,_28a){switch(arguments.length){case 3:this.rowsPerPage=_28a;case 2:this.keepRows=_289;case 1:this.rowCount=_288;default:break;}this.defaultPageHeight=(this.grid.rowHeight>0?this.grid.rowHeight:this.defaultRowHeight)*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();if(this.scrollboxNode){this.scrollboxNode.scrollTop=0;this.scroll(0);this.scrollboxNode.onscroll=lang.hitch(this,"onscroll");}},_getPageCount:function(_28b,_28c){return _28b?(Math.ceil(_28b/_28c)||1):0;},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode;},setKeepInfo:function(_28d){this.keepRows=_28d;this.keepPages=!this.keepRows?this.keepPages:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);},setContentNodes:function(_28e){this.contentNodes=_28e;this.colCount=(this.contentNodes?this.contentNodes.length:0);this.pageNodes=[];for(var i=0;i<this.colCount;i++){this.pageNodes[i]=[];}},getDefaultNodes:function(){return this.pageNodes[0]||[];},invalidate:function(){this._invalidating=true;this.invalidateNodes();this.pageHeights=[];this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);this.resize();this._invalidating=false;},updateRowCount:function(_28f){this.invalidateNodes();this.rowCount=_28f;var _290=this.pageCount;if(_290===0){this.height=1;}this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<_290){for(var i=_290-1;i>=this.pageCount;i--){this.height-=this.getPageHeight(i);delete this.pageHeights[i];}}else{if(this.pageCount>_290){this.height+=this.defaultPageHeight*(this.pageCount-_290-1)+this.calcLastPageHeight();}}this.resize();},pageExists:function(_291){return Boolean(this.getDefaultPageNode(_291));},measurePage:function(_292){if(this.grid.rowHeight){return ((_292+1)*this.rowsPerPage>this.rowCount?this.rowCount-_292*this.rowsPerPage:this.rowsPerPage)*this.grid.rowHeight;}var n=this.getDefaultPageNode(_292);return (n&&n.innerHTML)?n.offsetHeight:undefined;},positionPage:function(_293,_294){for(var i=0;i<this.colCount;i++){this.pageNodes[i][_293].style.top=_294+"px";}},repositionPages:function(_295){var _296=this.getDefaultNodes();var last=0;for(var i=0;i<this.stack.length;i++){last=Math.max(this.stack[i],last);}var n=_296[_295];var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_295):0);for(var p=_295+1;p<=last;p++){n=_296[p];if(n){if(this.getPageNodePosition(n)==y){return;}this.positionPage(p,y);}y+=this.getPageHeight(p);}},installPage:function(_297){for(var i=0;i<this.colCount;i++){this.contentNodes[i].appendChild(this.pageNodes[i][_297]);}},preparePage:function(_298,_299){var p=(_299?this.popPage():null);for(var i=0;i<this.colCount;i++){var _29a=this.pageNodes[i];var _29b=(p===null?this.createPageNode():this.invalidatePageNode(p,_29a));_29b.pageIndex=_298;_29a[_298]=_29b;}},renderPage:function(_29c){var _29d=[];var i,j;for(i=0;i<this.colCount;i++){_29d[i]=this.pageNodes[i][_29c];}for(i=0,j=_29c*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,_29d);}},removePage:function(_29e){for(var i=0,j=_29e*this.rowsPerPage;i<this.rowsPerPage;i++,j++){this.removeRow(j);}},destroyPage:function(_29f){for(var i=0;i<this.colCount;i++){var n=this.invalidatePageNode(_29f,this.pageNodes[i]);if(n){html.destroy(n);}}},pacify:function(_2a0){},pacifying:false,pacifyTicks:200,setPacifying:function(_2a1){if(this.pacifying!=_2a1){this.pacifying=_2a1;this.pacify(this.pacifying);}},startPacify:function(){this.startPacifyTicks=new Date().getTime();},doPacify:function(){var _2a2=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;this.setPacifying(true);this.startPacify();return _2a2;},endPacify:function(){this.setPacifying(false);},resize:function(){if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}for(var i=0;i<this.colCount;i++){util.setStyleHeightPx(this.contentNodes[i],Math.max(1,this.height));}var _2a3=(!this._invalidating);if(!_2a3){var ah=this.grid.get("autoHeight");if(typeof ah=="number"&&ah<=Math.min(this.rowsPerPage,this.rowCount)){_2a3=true;}}if(_2a3){this.needPage(this.page,this.pageTop);}var _2a4=(this.page<this.pageCount-1)?this.rowsPerPage:((this.rowCount%this.rowsPerPage)||this.rowsPerPage);var _2a5=this.getPageHeight(this.page);this.averageRowHeight=(_2a5>0&&_2a4>0)?(_2a5/_2a4):0;},calcLastPageHeight:function(){if(!this.pageCount){return 0;}var _2a6=this.pageCount-1;var _2a7=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;this.pageHeights[_2a6]=_2a7;return _2a7;},updateContentHeight:function(inDh){this.height+=inDh;this.resize();},updatePageHeight:function(_2a8,_2a9,_2aa){if(this.pageExists(_2a8)){var oh=this.getPageHeight(_2a8);var h=(this.measurePage(_2a8));if(h===undefined){h=oh;}this.pageHeights[_2a8]=h;if(oh!=h){this.updateContentHeight(h-oh);var ah=this.grid.get("autoHeight");if((typeof ah=="number"&&ah>this.rowCount)||(ah===true&&!_2a9)){if(!_2aa){this.grid.sizeChange();}else{var ns=this.grid.viewsNode.style;ns.height=parseInt(ns.height)+h-oh+"px";this.repositionPages(_2a8);}}else{this.repositionPages(_2a8);}}return h;}return 0;},rowHeightChanged:function(_2ab,_2ac){this.updatePageHeight(Math.floor(_2ab/this.rowsPerPage),false,_2ac);},invalidateNodes:function(){while(this.stack.length){this.destroyPage(this.popPage());}},createPageNode:function(){var p=document.createElement("div");html.attr(p,"role","presentation");p.style.position="absolute";p.style[this.grid.isLeftToRight()?"left":"right"]="0";return p;},getPageHeight:function(_2ad){var ph=this.pageHeights[_2ad];return (ph!==undefined?ph:this.defaultPageHeight);},pushPage:function(_2ae){return this.stack.push(_2ae);},popPage:function(){return this.stack.shift();},findPage:function(_2af){var i=0,h=0;for(var ph=0;i<this.pageCount;i++,h+=ph){ph=this.getPageHeight(i);if(h+ph>=_2af){break;}}this.page=i;this.pageTop=h;},buildPage:function(_2b0,_2b1,_2b2){this.preparePage(_2b0,_2b1);this.positionPage(_2b0,_2b2);this.installPage(_2b0);this.renderPage(_2b0);this.pushPage(_2b0);},needPage:function(_2b3,_2b4){var h=this.getPageHeight(_2b3),oh=h;if(!this.pageExists(_2b3)){this.buildPage(_2b3,(!this.grid._autoHeight&&this.keepPages&&(this.stack.length>=this.keepPages)),_2b4);h=this.updatePageHeight(_2b3,true);}else{this.positionPage(_2b3,_2b4);}return h;},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop);},scroll:function(_2b5){this.grid.scrollTop=_2b5;if(this.colCount){this.startPacify();this.findPage(_2b5);var h=this.height;var b=this.getScrollBottom(_2b5);for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){y+=this.needPage(p,y);}this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,_2b5);this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);if(h!=this.height){this.repositionPages(p-1);}this.endPacify();}},getScrollBottom:function(_2b6){return (this.windowHeight>=0?_2b6+this.windowHeight:-1);},processNodeEvent:function(e,_2b7){var t=e.target;while(t&&(t!=_2b7)&&t.parentNode&&(t.parentNode.parentNode!=_2b7)){t=t.parentNode;}if(!t||!t.parentNode||(t.parentNode.parentNode!=_2b7)){return false;}var page=t.parentNode;e.topRowIndex=page.pageIndex*this.rowsPerPage;e.rowIndex=e.topRowIndex+_27b(t);e.rowTarget=t;return true;},processEvent:function(e){return this.processNodeEvent(e,this.contentNode);},renderRow:function(_2b8,_2b9){},removeRow:function(_2ba){},getDefaultPageNode:function(_2bb){return this.getDefaultNodes()[_2bb];},positionPageNode:function(_2bc,_2bd){},getPageNodePosition:function(_2be){return _2be.offsetTop;},invalidatePageNode:function(_2bf,_2c0){var p=_2c0[_2bf];if(p){delete _2c0[_2bf];this.removePage(_2bf,p);_27d(p);p.innerHTML="";}return p;},getPageRow:function(_2c1){return _2c1*this.rowsPerPage;},getLastPageRow:function(_2c2){return Math.min(this.rowCount,this.getPageRow(_2c2+1))-1;},getFirstVisibleRow:function(_2c3,_2c4,_2c5){if(!this.pageExists(_2c3)){return 0;}var row=this.getPageRow(_2c3);var _2c6=this.getDefaultNodes();var rows=_285(_2c6[_2c3]);for(var i=0,l=rows.length;i<l&&_2c4<_2c5;i++,row++){_2c4+=rows[i].offsetHeight;}return (row?row-1:row);},getLastVisibleRow:function(_2c7,_2c8,_2c9){if(!this.pageExists(_2c7)){return 0;}var _2ca=this.getDefaultNodes();var row=this.getLastPageRow(_2c7);var rows=_285(_2ca[_2c7]);for(var i=rows.length-1;i>=0&&_2c8>_2c9;i--,row--){_2c8-=rows[i].offsetHeight;}return row+1;},findTopRow:function(_2cb){var _2cc=this.getDefaultNodes();var rows=_285(_2cc[this.page]);for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){h=rows[i].offsetHeight;t+=h;if(t>=_2cb){this.offset=h-(t-_2cb);return i+this.page*this.rowsPerPage;}}return -1;},findScrollTop:function(_2cd){var _2ce=Math.floor(_2cd/this.rowsPerPage);var t=0;var i,l;for(i=0;i<_2ce;i++){t+=this.getPageHeight(i);}this.pageTop=t;this.page=_2ce;this.needPage(_2ce,this.pageTop);var _2cf=this.getDefaultNodes();var rows=_285(_2cf[_2ce]);var r=_2cd-this.rowsPerPage*_2ce;for(i=0,l=rows.length;i<l&&i<r;i++){t+=rows[i].offsetHeight;}return t;},dummy:0});});},"dojox/grid/util":function(){define(["../main","dojo/_base/lang","dojo/dom"],function(_2d0,lang,dom){var dgu=lang.getObject("grid.util",true,_2d0);dgu.na="...";dgu.rowIndexTag="gridRowIndex";dgu.gridViewTag="gridView";dgu.fire=function(ob,ev,args){var fn=ob&&ev&&ob[ev];return fn&&(args?fn.apply(ob,args):ob[ev]());};dgu.setStyleHeightPx=function(_2d1,_2d2){if(_2d2>=0){var s=_2d1.style;var v=_2d2+"px";if(_2d1&&s["height"]!=v){s["height"]=v;}}};dgu.mouseEvents=["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"];dgu.keyEvents=["keyup","keydown","keypress"];dgu.funnelEvents=function(_2d3,_2d4,_2d5,_2d6){var evts=(_2d6?_2d6:dgu.mouseEvents.concat(dgu.keyEvents));for(var i=0,l=evts.length;i<l;i++){_2d4.connect(_2d3,"on"+evts[i],_2d5);}};dgu.removeNode=function(_2d7){_2d7=dom.byId(_2d7);_2d7&&_2d7.parentNode&&_2d7.parentNode.removeChild(_2d7);return _2d7;};dgu.arrayCompare=function(inA,inB){for(var i=0,l=inA.length;i<l;i++){if(inA[i]!=inB[i]){return false;}}return (inA.length==inB.length);};dgu.arrayInsert=function(_2d8,_2d9,_2da){if(_2d8.length<=_2d9){_2d8[_2d9]=_2da;}else{_2d8.splice(_2d9,0,_2da);}};dgu.arrayRemove=function(_2db,_2dc){_2db.splice(_2dc,1);};dgu.arraySwap=function(_2dd,inI,inJ){var _2de=_2dd[inI];_2dd[inI]=_2dd[inJ];_2dd[inJ]=_2de;};return dgu;});},"dojox/grid/_Layout":function(){define(["dojo/_base/kernel","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","./cells","./_RowSelector"],function(dojo,_2df,_2e0,_2e1,lang,_2e2){return _2e0("dojox.grid._Layout",null,{constructor:function(_2e3){this.grid=_2e3;},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(_2e4,_2e5,_2e6,_2e7,_2e8){var _2e9=this.structure[_2e4].cells[0];var _2ea=this.structure[_2e5].cells[0];var cell=null;var _2eb=0;var _2ec=0;for(var i=0,c;c=_2e9[i];i++){if(c.index==_2e6){_2eb=i;break;}}cell=_2e9.splice(_2eb,1)[0];cell.view=this.grid.views.views[_2e5];for(i=0,c=null;c=_2ea[i];i++){if(c.index==_2e7){_2ec=i;break;}}if(!_2e8){_2ec+=1;}_2ea.splice(_2ec,0,cell);var _2ed=this.grid.getCell(this.grid.getSortIndex());if(_2ed){_2ed._currentlySorted=this.grid.getSortAsc();}this.cells=[];_2e6=0;var v;for(i=0;v=this.structure[i];i++){for(var j=0,cs;cs=v.cells[j];j++){for(var k=0;c=cs[k];k++){c.index=_2e6;this.cells.push(c);if("_currentlySorted" in c){var si=_2e6+1;si*=c._currentlySorted?1:-1;this.grid.sortInfo=si;delete c._currentlySorted;}_2e6++;}}}_2e1.forEach(this.cells,function(c){var _2ee=c.markup[2].split(" ");var _2ef=parseInt(_2ee[1].substring(5));if(_2ef!=c.index){_2ee[1]="idx=\""+c.index+"\"";c.markup[2]=_2ee.join(" ");}});this.grid.setupHeaderMenu();},setColumnVisibility:function(_2f0,_2f1){var cell=this.cells[_2f0];if(cell.hidden==_2f1){cell.hidden=!_2f1;var v=cell.view,w=v.viewWidth;if(w&&w!="auto"){v._togglingColumn=_2e2.getMarginBox(cell.getHeaderNode()).w||0;}v.update();return true;}else{return false;}},addCellDef:function(_2f2,_2f3,_2f4){var self=this;var _2f5=function(_2f6){var w=0;if(_2f6.colSpan>1){w=0;}else{w=_2f6.width||self._defaultCellProps.width||self.defaultWidth;if(!isNaN(w)){w=w+"em";}}return w;};var _2f7={grid:this.grid,subrow:_2f2,layoutIndex:_2f3,index:this.cells.length};if(_2f4&&_2f4 instanceof _2df.grid.cells._Base){var _2f8=lang.clone(_2f4);_2f7.unitWidth=_2f5(_2f8._props);_2f8=lang.mixin(_2f8,this._defaultCellProps,_2f4._props,_2f7);return _2f8;}var _2f9=_2f4.type||_2f4.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||_2df.grid.cells.Cell;if(lang.isString(_2f9)){_2f9=lang.getObject(_2f9);}_2f7.unitWidth=_2f5(_2f4);return new _2f9(lang.mixin({},this._defaultCellProps,_2f4,_2f7));},addRowDef:function(_2fa,_2fb){var _2fc=[];var _2fd=0,_2fe=0,_2ff=true;for(var i=0,def,cell;(def=_2fb[i]);i++){cell=this.addCellDef(_2fa,i,def);_2fc.push(cell);this.cells.push(cell);if(_2ff&&cell.relWidth){_2fd+=cell.relWidth;}else{if(cell.width){var w=cell.width;if(typeof w=="string"&&w.slice(-1)=="%"){_2fe+=window.parseInt(w,10);}else{if(w=="auto"){_2ff=false;}}}}}if(_2fd&&_2ff){_2e1.forEach(_2fc,function(cell){if(cell.relWidth){cell.width=cell.unitWidth=((cell.relWidth/_2fd)*(100-_2fe))+"%";}});}return _2fc;},addRowsDef:function(_300){var _301=[];if(lang.isArray(_300)){if(lang.isArray(_300[0])){for(var i=0,row;_300&&(row=_300[i]);i++){_301.push(this.addRowDef(i,row));}}else{_301.push(this.addRowDef(0,_300));}}return _301;},addViewDef:function(_302){this._defaultCellProps=_302.defaultCell||{};if(_302.width&&_302.width=="auto"){delete _302.width;}return lang.mixin({},_302,{cells:this.addRowsDef(_302.rows||_302.cells)});},setStructure:function(_303){this.fieldIndex=0;this.cells=[];var s=this.structure=[];if(this.grid.rowSelector){var sel={type:_2df._scopeName+".grid._RowSelector"};if(lang.isString(this.grid.rowSelector)){var _304=this.grid.rowSelector;if(_304=="false"){sel=null;}else{if(_304!="true"){sel["width"]=_304;}}}else{if(!this.grid.rowSelector){sel=null;}}if(sel){s.push(this.addViewDef(sel));}}var _305=function(def){return ("name" in def||"field" in def||"get" in def);};var _306=function(def){if(lang.isArray(def)){if(lang.isArray(def[0])||_305(def[0])){return true;}}return false;};var _307=function(def){return (def!==null&&lang.isObject(def)&&("cells" in def||"rows" in def||("type" in def&&!_305(def))));};if(lang.isArray(_303)){var _308=false;for(var i=0,st;(st=_303[i]);i++){if(_307(st)){_308=true;break;}}if(!_308){s.push(this.addViewDef({cells:_303}));}else{for(i=0;(st=_303[i]);i++){if(_306(st)){s.push(this.addViewDef({cells:st}));}else{if(_307(st)){s.push(this.addViewDef(st));}}}}}else{if(_307(_303)){s.push(this.addViewDef(_303));}}this.cellCount=this.cells.length;this.grid.setupHeaderMenu();}});});},"dojox/grid/cells":function(){define(["../main","./cells/_base"],function(_309){return _309.grid.cells;});},"dojox/grid/cells/_base":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/event","dojo/_base/connect","dojo/_base/array","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dijit/_Widget","../util"],function(dojo,_30a,lang,_30b,_30c,_30d,has,dom,_30e,_30f,_310,util){var _311=_30a("dojox.grid._DeferredTextWidget",_310,{deferred:null,_destroyOnRemove:true,postCreate:function(){if(this.deferred){this.deferred.addBoth(lang.hitch(this,function(text){if(this.domNode){this.domNode.innerHTML=text;}}));}}});var _312=function(_313){try{util.fire(_313,"focus");util.fire(_313,"select");}catch(e){}};var _314=function(){setTimeout(lang.hitch.apply(dojo,arguments),0);};var _315=_30a("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:false,alwaysEditing:false,formatter:null,defaultValue:"...",value:null,hidden:false,noresize:false,draggable:true,_valueProp:"value",_formatPending:false,constructor:function(_316){this._props=_316||{};lang.mixin(this,_316);if(this.draggable===undefined){this.draggable=true;}},_defaultFormat:function(_317,_318){var s=this.grid.formatterScope||this;var f=this.formatter;if(f&&s&&typeof f=="string"){f=this.formatter=s[f];}var v=(_317!=this.defaultValue&&f)?f.apply(s,_318):_317;if(typeof v=="undefined"){return this.defaultValue;}if(v&&v.addBoth){v=new _311({deferred:v},_30f.create("span",{innerHTML:this.defaultValue}));}if(v&&v.declaredClass&&v.startup){return "<div class='dojoxGridStubNode' linkWidget='"+v.id+"' cellIdx='"+this.index+"'>"+this.defaultValue+"</div>";}return v;},format:function(_319,_31a){var f,i=this.grid.edit.info,d=this.get?this.get(_319,_31a):(this.value||this.defaultValue);d=(d&&d.replace&&this.grid.escapeHTMLInData)?d.replace(/&/g,"&amp;").replace(/</g,"&lt;"):d;if(this.editable&&(this.alwaysEditing||(i.rowIndex==_319&&i.cell==this))){return this.formatEditing(i.value?i.value:d,_319);}else{return this._defaultFormat(d,[d,_319,this]);}},formatEditing:function(_31b,_31c){},getNode:function(_31d){return this.view.getCellNode(_31d,this.index);},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index);},getEditNode:function(_31e){return (this.getNode(_31e)||0).firstChild||0;},canResize:function(){var uw=this.unitWidth;return uw&&(uw!=="auto");},isFlex:function(){var uw=this.unitWidth;return uw&&lang.isString(uw)&&(uw=="auto"||uw.slice(-1)=="%");},applyEdit:function(_31f,_320){if(this.getNode(_320)){this.grid.edit.applyCellEdit(_31f,this,_320);}},cancelEdit:function(_321){this.grid.doCancelEdit(_321);},_onEditBlur:function(_322){if(this.grid.edit.isEditCell(_322,this.index)){this.grid.edit.apply();}},registerOnBlur:function(_323,_324){if(this.commitOnBlur){_30c.connect(_323,"onblur",function(e){setTimeout(lang.hitch(this,"_onEditBlur",_324),250);});}},needFormatNode:function(_325,_326){this._formatPending=true;_314(this,"_formatNode",_325,_326);},cancelFormatNode:function(){this._formatPending=false;},_formatNode:function(_327,_328){if(this._formatPending){this._formatPending=false;if(!has("ie")){dom.setSelectable(this.grid.domNode,true);}this.formatNode(this.getEditNode(_328),_327,_328);}},formatNode:function(_329,_32a,_32b){if(has("ie")){_314(this,"focus",_32b,_329);}else{this.focus(_32b,_329);}},dispatchEvent:function(m,e){if(m in this){return this[m](e);}},getValue:function(_32c){return this.getEditNode(_32c)[this._valueProp];},setValue:function(_32d,_32e){var n=this.getEditNode(_32d);if(n){n[this._valueProp]=_32e;}},focus:function(_32f,_330){_312(_330||this.getEditNode(_32f));},save:function(_331){this.value=this.value||this.getValue(_331);},restore:function(_332){this.setValue(_332,this.value);},_finish:function(_333){dom.setSelectable(this.grid.domNode,false);this.cancelFormatNode();},apply:function(_334){this.applyEdit(this.getValue(_334),_334);this._finish(_334);},cancel:function(_335){this.cancelEdit(_335);this._finish(_335);}});_315.markupFactory=function(node,_336){var _337=lang.trim(_30e.get(node,"formatter")||"");if(_337){_336.formatter=lang.getObject(_337)||_337;}var get=lang.trim(_30e.get(node,"get")||"");if(get){_336.get=lang.getObject(get);}var _338=function(attr,cell,_339){var _33a=lang.trim(_30e.get(node,attr)||"");if(_33a){cell[_339||attr]=!(_33a.toLowerCase()=="false");}};_338("sortDesc",_336);_338("editable",_336);_338("alwaysEditing",_336);_338("noresize",_336);_338("draggable",_336);var _33b=lang.trim(_30e.get(node,"loadingText")||_30e.get(node,"defaultValue")||"");if(_33b){_336.defaultValue=_33b;}var _33c=function(attr,cell,_33d){var _33e=lang.trim(_30e.get(node,attr)||"")||undefined;if(_33e){cell[_33d||attr]=_33e;}};_33c("styles",_336);_33c("headerStyles",_336);_33c("cellStyles",_336);_33c("classes",_336);_33c("headerClasses",_336);_33c("cellClasses",_336);};var Cell=_315.Cell=_30a("dojox.grid.cells.Cell",_315,{constructor:function(){this.keyFilter=this.keyFilter;},keyFilter:null,formatEditing:function(_33f,_340){this.needFormatNode(_33f,_340);return "<input class=\"dojoxGridInput\" type=\"text\" value=\""+_33f+"\">";},formatNode:function(_341,_342,_343){this.inherited(arguments);this.registerOnBlur(_341,_343);},doKey:function(e){if(this.keyFilter){var key=String.fromCharCode(e.charCode);if(key.search(this.keyFilter)==-1){_30b.stop(e);}}},_finish:function(_344){this.inherited(arguments);var n=this.getEditNode(_344);try{util.fire(n,"blur");}catch(e){}}});Cell.markupFactory=function(node,_345){_315.markupFactory(node,_345);var _346=lang.trim(_30e.get(node,"keyFilter")||"");if(_346){_345.keyFilter=new RegExp(_346);}};var _347=_315.RowIndex=_30a("dojox.grid.cells.RowIndex",Cell,{name:"Row",postscript:function(){this.editable=false;},get:function(_348){return _348+1;}});_347.markupFactory=function(node,_349){Cell.markupFactory(node,_349);};var _34a=_315.Select=_30a("dojox.grid.cells.Select",Cell,{options:null,values:null,returnIndex:-1,constructor:function(_34b){this.values=this.values||this.options;},formatEditing:function(_34c,_34d){this.needFormatNode(_34c,_34d);var h=["<select class=\"dojoxGridSelect\">"];for(var i=0,o,v;((o=this.options[i])!==undefined)&&((v=this.values[i])!==undefined);i++){v=v.replace?v.replace(/&/g,"&amp;").replace(/</g,"&lt;"):v;o=o.replace?o.replace(/&/g,"&amp;").replace(/</g,"&lt;"):o;h.push("<option",(_34c==v?" selected":"")," value=\""+v+"\"",">",o,"</option>");}h.push("</select>");return h.join("");},_defaultFormat:function(_34e,_34f){var v=this.inherited(arguments);if(!this.formatter&&this.values&&this.options){var i=_30d.indexOf(this.values,v);if(i>=0){v=this.options[i];}}return v;},getValue:function(_350){var n=this.getEditNode(_350);if(n){var i=n.selectedIndex,o=n.options[i];return this.returnIndex>-1?i:o.value||o.innerHTML;}}});_34a.markupFactory=function(node,cell){Cell.markupFactory(node,cell);var _351=lang.trim(_30e.get(node,"options")||"");if(_351){var o=_351.split(",");if(o[0]!=_351){cell.options=o;}}var _352=lang.trim(_30e.get(node,"values")||"");if(_352){var v=_352.split(",");if(v[0]!=_352){cell.values=v;}}};var _353=_315.AlwaysEdit=_30a("dojox.grid.cells.AlwaysEdit",Cell,{alwaysEditing:true,_formatNode:function(_354,_355){this.formatNode(this.getEditNode(_355),_354,_355);},applyStaticValue:function(_356){var e=this.grid.edit;e.applyCellEdit(this.getValue(_356),this,_356);e.start(this,_356,true);}});_353.markupFactory=function(node,cell){Cell.markupFactory(node,cell);};var Bool=_315.Bool=_30a("dojox.grid.cells.Bool",_353,{_valueProp:"checked",formatEditing:function(_357,_358){return "<input class=\"dojoxGridInput\" type=\"checkbox\""+(_357?" checked=\"checked\"":"")+" style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.applyStaticValue(e.rowIndex);}}});Bool.markupFactory=function(node,cell){_353.markupFactory(node,cell);};return _315;});},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_359,_35a,_35b,_35c,has,_35d,lang,_35e,_35f,_360,_361,_362,_363){function _364(){};function _365(_366){return function(obj,_367,_368,_369){if(obj&&typeof _367=="string"&&obj[_367]==_364){return obj.on(_367.substring(2).toLowerCase(),lang.hitch(_368,_369));}return _366.apply(_35b,arguments);};};_359.around(_35b,"connect",_365);if(_35d.connect){_359.around(_35d,"connect",_365);}var _36a=_35c("dijit._Widget",[_361,_362,_363],{onClick:_364,onDblClick:_364,onKeyDown:_364,onKeyPress:_364,onKeyUp:_364,onMouseDown:_364,onMouseMove:_364,onMouseOut:_364,onMouseOver:_364,onMouseLeave:_364,onMouseEnter:_364,onMouseUp:_364,constructor:function(_36b){this._toConnect={};for(var name in _36b){if(this[name]===_364){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_36b[name];delete _36b[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_364){return _35b.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_36c){_35d.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_36c);},attr:function(name,_36d){var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_35d.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_35e("[widgetId]",this.containerNode).map(_360.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_35f(0,function(){var _36e=["dijit/_base"];require(_36e);});}return _36a;});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_36f,_370,_371,_372,_373,_374,dom,_375,_376,_377,_378,_379,has,_37a,lang,on,_37b,_37c,_37d,win,_37e,_37f,_380){has.add("dijit-legacy-requires",!_37a.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_37b(0,function(){var _381=["dijit/_base/manager"];_36f(_381);});}var _382={};function _383(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _384(attr){return function(val){_375[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};function _385(a,b){return a===b||(a!==a&&b!==b);};var _386=_374("dijit._WidgetBase",[_37c,_37e],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_384("lang"),dir:"",_setDirAttr:_384("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_372.blankGif||_36f.toUrl("dojo/resources/blank.gif"),_introspect:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var _387=ctor.prototype,_388=ctor._setterAttrs=[],_389=(ctor._onMap={});for(var name in _387.attributeMap){_388.push(name);}for(name in _387){if(/^on/.test(name)){_389[name.substring(2).toLowerCase()]=name;}if(/^_set[A-Z](.*)Attr$/.test(name)){name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);if(!_387.attributeMap||!(name in _387.attributeMap)){_388.push(name);}}}}},postscript:function(_38a,_38b){this.create(_38a,_38b);},create:function(_38c,_38d){this._introspect();this.srcNodeRef=dom.byId(_38d);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_38c){this.params=_38c;lang.mixin(this,_38c);}this.postMixInProperties();if(!this.id){this.id=_380.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_380.add(this);this.buildRendering();var _38e;if(this.domNode){this._applyAttributes();var _38f=this.srcNodeRef;if(_38f&&_38f.parentNode&&this.domNode!==_38f){_38f.parentNode.replaceChild(this.domNode,_38f);_38e=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_38e){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _390={};for(var key in this.params||{}){_390[key]=this._get(key);}_370.forEach(this.constructor._setterAttrs,function(key){if(!(key in _390)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _390){this.set(key,_390[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _391=this.baseClass.split(" ");if(!this.isLeftToRight()){_391=_391.concat(_370.map(_391,function(name){return name+"Rtl";}));}_376.add(this.domNode,_391);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_370.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_392){this._beingDestroyed=true;this.destroyDescendants(_392);this.destroy(_392);},destroy:function(_393){this._beingDestroyed=true;this.uninitialize();function _394(w){if(w.destroyRecursive){w.destroyRecursive(_393);}else{if(w.destroy){w.destroy(_393);}}};_370.forEach(this._connects,lang.hitch(this,"disconnect"));_370.forEach(this._supportingWidgets,_394);if(this.domNode){_370.forEach(_380.findWidgets(this.domNode,this.containerNode),_394);}this.destroyRendering(_393);_380.remove(this.id);this._destroyed=true;},destroyRendering:function(_395){if(this.bgIframe){this.bgIframe.destroy(_395);delete this.bgIframe;}if(this.domNode){if(_395){_375.remove(this.domNode,"widgetId");}else{_377.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_395){_377.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_396){_370.forEach(this.getChildren(),function(_397){if(_397.destroyRecursive){_397.destroyRecursive(_396);}});},uninitialize:function(){return false;},_setStyleAttr:function(_398){var _399=this.domNode;if(lang.isObject(_398)){_379.set(_399,_398);}else{if(_399.style.cssText){_399.style.cssText+="; "+_398;}else{_399.style.cssText=_398;}}this._set("style",_398);},_attrToDom:function(attr,_39a,_39b){_39b=arguments.length>=3?_39b:this.attributeMap[attr];_370.forEach(lang.isArray(_39b)?_39b:[_39b],function(_39c){var _39d=this[_39c.node||_39c||"domNode"];var type=_39c.type||"attribute";switch(type){case "attribute":if(lang.isFunction(_39a)){_39a=lang.hitch(this,_39a);}var _39e=_39c.attribute?_39c.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_39d.tagName){_375.set(_39d,_39e,_39a);}else{_39d.set(_39e,_39a);}break;case "innerText":_39d.innerHTML="";_39d.appendChild(this.ownerDocument.createTextNode(_39a));break;case "innerHTML":_39d.innerHTML=_39a;break;case "class":_376.replace(_39d,_39a,this[attr]);break;}},this);},get:function(name){var _39f=this._getAttrNames(name);return this[_39f.g]?this[_39f.g]():this._get(name);},set:function(name,_3a0){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _3a1=this._getAttrNames(name),_3a2=this[_3a1.s];if(lang.isFunction(_3a2)){var _3a3=_3a2.apply(this,Array.prototype.slice.call(arguments,1));}else{var _3a4=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_3a4]&&this[_3a4].tagName,_3a5=tag&&(_382[tag]||(_382[tag]=_383(this[_3a4]))),map=name in this.attributeMap?this.attributeMap[name]:_3a1.s in this?this[_3a1.s]:((_3a5&&_3a1.l in _3a5&&typeof _3a0!="function")||/^aria-|^data-|^role$/.test(name))?_3a4:null;if(map!=null){this._attrToDom(name,_3a0,map);}this._set(name,_3a0);}return _3a3||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_3a6){var _3a7=this[name];this[name]=_3a6;if(this._created&&!_385(_3a7,_3a6)){if(this._watchCallbacks){this._watchCallbacks(name,_3a7,_3a6);}this.emit("attrmodified-"+name,{detail:{prevValue:_3a7,newValue:_3a6}});}},_get:function(name){return this[name];},emit:function(type,_3a8,_3a9){_3a8=_3a8||{};if(_3a8.bubbles===undefined){_3a8.bubbles=true;}if(_3a8.cancelable===undefined){_3a8.cancelable=true;}if(!_3a8.detail){_3a8.detail={};}_3a8.detail.widget=this;var ret,_3aa=this["on"+type];if(_3aa){ret=_3aa.apply(this,_3a9?_3a9:[_3a8]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_3a8);}return ret;},on:function(type,func){var _3ab=this._onMap(type);if(_3ab){return _371.after(this,_3ab,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_380.findWidgets(this.containerNode):[];},getParent:function(){return _380.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_3ac,_3ad){return this.own(_373.connect(obj,_3ac,this,_3ad))[0];},disconnect:function(_3ae){_3ae.remove();},subscribe:function(t,_3af){return this.own(_37d.subscribe(t,lang.hitch(this,_3af)))[0];},unsubscribe:function(_3b0){_3b0.remove();},isLeftToRight:function(){return this.dir?(this.dir.toLowerCase()=="ltr"):_378.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_379.get(this.domNode,"display")!="none");},placeAt:function(_3b1,_3b2){var _3b3=!_3b1.tagName&&_380.byId(_3b1);if(_3b3&&_3b3.addChild&&(!_3b2||typeof _3b2==="number")){_3b3.addChild(this,_3b2);}else{var ref=_3b3&&("domNode" in _3b3)?(_3b3.containerNode&&!/after|before|replace/.test(_3b2||"")?_3b3.containerNode:_3b3.domNode):dom.byId(_3b1,this.ownerDocument);_377.place(this.domNode,ref,_3b2);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_3b4){var _3b5=setTimeout(lang.hitch(this,function(){if(!_3b5){return;}_3b5=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_3b4||0);return {remove:function(){if(_3b5){clearTimeout(_3b5);_3b5=null;}return null;}};}});if(has("dojo-bidi")){_386.extend(_37f);}return _386;});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_3b6,_3b7,_3b8){return _3b8("dijit.Destroyable",null,{destroy:function(_3b9){this._destroyed=true;},own:function(){var _3ba=["destroyRecursive","destroy","remove"];_3b6.forEach(arguments,function(_3bb){var _3bc;var odh=_3b7.before(this,"destroy",function(_3bd){_3bb[_3bc](_3bd);});var hdhs=[];function _3be(){odh.remove();_3b6.forEach(hdhs,function(hdh){hdh.remove();});};if(_3bb.then){_3bc="cancel";_3bb.then(_3be,_3be);}else{_3b6.forEach(_3ba,function(_3bf){if(typeof _3bb[_3bf]==="function"){if(!_3bc){_3bc=_3bf;}hdhs.push(_3b7.after(_3bb,_3bf,_3be,true));}});}},this);return arguments;}});});},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_3c0,keys,_3c1,has,_3c2){var ret=_3c1("dijit._OnDijitClickMixin",null,{connect:function(obj,_3c3,_3c4){return this.inherited(arguments,[obj,_3c3=="ondijitclick"?_3c2:_3c3,_3c4]);}});ret.a11yclick=_3c2;return ret;});},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,_3c5,on,_3c6){function _3c7(e){if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){for(var node=e.target;node;node=node.parentNode){if(node.dojoClick){return true;}}}};var _3c8;on(document,"keydown",function(e){if(_3c7(e)){_3c8=e.target;e.preventDefault();}else{_3c8=null;}});on(document,"keyup",function(e){if(_3c7(e)&&e.target==_3c8){_3c8=null;on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});}});var _3c9=function(node,_3ca){node.dojoClick=true;return on(node,"click",_3ca);};_3c9.click=_3c9;_3c9.press=function(node,_3cb){var _3cc=on(node,_3c6.press,function(evt){if(evt.type=="mousedown"&&!_3c5.isLeft(evt)){return;}_3cb(evt);}),_3cd=on(node,"keydown",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_3cb(evt);}});return {remove:function(){_3cc.remove();_3cd.remove();}};};_3c9.release=function(node,_3ce){var _3cf=on(node,_3c6.release,function(evt){if(evt.type=="mouseup"&&!_3c5.isLeft(evt)){return;}_3ce(evt);}),_3d0=on(node,"keyup",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_3ce(evt);}});return {remove:function(){_3cf.remove();_3d0.remove();}};};_3c9.move=_3c6.move;return _3c9;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_3d1,dom,_3d2,lang,on,has,_3d3,_3d4,win){var ios4=has("ios")<5;var _3d5=has("pointer-events")||has("MSPointer"),_3d6=(function(){var _3d7={};for(var type in {down:1,move:1,up:1,cancel:1,over:1,out:1}){_3d7[type]=has("MSPointer")?"MSPointer"+type.charAt(0).toUpperCase()+type.slice(1):"pointer"+type;}return _3d7;})();var _3d8=has("touch-events");var _3d9,_3da,_3db=false,_3dc,_3dd,_3de,_3df,_3e0,_3e1;var _3e2;function _3e3(_3e4,_3e5,_3e6){if(_3d5&&_3e6){return function(node,_3e7){return on(node,_3e6,_3e7);};}else{if(_3d8){return function(node,_3e8){var _3e9=on(node,_3e5,function(evt){_3e8.call(this,evt);_3e2=(new Date()).getTime();}),_3ea=on(node,_3e4,function(evt){if(!_3e2||(new Date()).getTime()>_3e2+1000){_3e8.call(this,evt);}});return {remove:function(){_3e9.remove();_3ea.remove();}};};}else{return function(node,_3eb){return on(node,_3e4,_3eb);};}}};function _3ec(node){do{if(node.dojoClick!==undefined){return node;}}while(node=node.parentNode);};function _3ed(e,_3ee,_3ef){var _3f0=_3ec(e.target);_3da=!e.target.disabled&&_3f0&&_3f0.dojoClick;if(_3da){_3db=(_3da=="useTarget");_3dc=(_3db?_3f0:e.target);if(_3db){e.preventDefault();}_3dd=e.changedTouches?e.changedTouches[0].pageX-win.global.pageXOffset:e.clientX;_3de=e.changedTouches?e.changedTouches[0].pageY-win.global.pageYOffset:e.clientY;_3df=(typeof _3da=="object"?_3da.x:(typeof _3da=="number"?_3da:0))||4;_3e0=(typeof _3da=="object"?_3da.y:(typeof _3da=="number"?_3da:0))||4;if(!_3d9){_3d9=true;function _3f1(e){if(_3db){_3da=dom.isDescendant(win.doc.elementFromPoint((e.changedTouches?e.changedTouches[0].pageX-win.global.pageXOffset:e.clientX),(e.changedTouches?e.changedTouches[0].pageY-win.global.pageYOffset:e.clientY)),_3dc);}else{_3da=_3da&&(e.changedTouches?e.changedTouches[0].target:e.target)==_3dc&&Math.abs((e.changedTouches?e.changedTouches[0].pageX-win.global.pageXOffset:e.clientX)-_3dd)<=_3df&&Math.abs((e.changedTouches?e.changedTouches[0].pageY-win.global.pageYOffset:e.clientY)-_3de)<=_3e0;}};win.doc.addEventListener(_3ee,function(e){_3f1(e);if(_3db){e.preventDefault();}},true);win.doc.addEventListener(_3ef,function(e){_3f1(e);if(_3da){_3e1=(new Date()).getTime();var _3f2=(_3db?_3dc:e.target);if(_3f2.tagName==="LABEL"){_3f2=dom.byId(_3f2.getAttribute("for"))||_3f2;}var src=(e.changedTouches)?e.changedTouches[0]:e;var _3f3=document.createEvent("MouseEvents");_3f3._dojo_click=true;_3f3.initMouseEvent("click",true,true,e.view,e.detail,src.screenX,src.screenY,src.clientX,src.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);setTimeout(function(){on.emit(_3f2,"click",_3f3);_3e1=(new Date()).getTime();},0);}},true);function _3f4(type){win.doc.addEventListener(type,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_3e1+1000&&!(e.target.tagName=="INPUT"&&_3d2.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(type=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_3f4("click");_3f4("mousedown");_3f4("mouseup");}}};var _3f5;if(_3d5){_3d4(function(){win.doc.addEventListener(_3d6.down,function(evt){_3ed(evt,_3d6.move,_3d6.up);},true);});}else{if(_3d8){_3d4(function(){_3f5=win.body();win.doc.addEventListener("touchstart",function(evt){_3e2=(new Date()).getTime();var _3f6=_3f5;_3f5=evt.target;on.emit(_3f6,"dojotouchout",{relatedTarget:_3f5,bubbles:true});on.emit(_3f5,"dojotouchover",{relatedTarget:_3f6,bubbles:true});_3ed(evt,"touchmove","touchend");},true);function _3f7(evt){var _3f8=lang.delegate(evt,{bubbles:true});if(has("ios")>=6){_3f8.touches=evt.touches;_3f8.altKey=evt.altKey;_3f8.changedTouches=evt.changedTouches;_3f8.ctrlKey=evt.ctrlKey;_3f8.metaKey=evt.metaKey;_3f8.shiftKey=evt.shiftKey;_3f8.targetTouches=evt.targetTouches;}return _3f8;};on(win.doc,"touchmove",function(evt){_3e2=(new Date()).getTime();var _3f9=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_3f9){if(_3f5!==_3f9){on.emit(_3f5,"dojotouchout",{relatedTarget:_3f9,bubbles:true});on.emit(_3f9,"dojotouchover",{relatedTarget:_3f5,bubbles:true});_3f5=_3f9;}if(!on.emit(_3f9,"dojotouchmove",_3f7(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_3e2=(new Date()).getTime();var node=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset))||win.body();on.emit(node,"dojotouchend",_3f7(evt));});});}}var _3fa={press:_3e3("mousedown","touchstart",_3d6.down),move:_3e3("mousemove","dojotouchmove",_3d6.move),release:_3e3("mouseup","dojotouchend",_3d6.up),cancel:_3e3(_3d3.leave,"touchcancel",_3d5?_3d6.cancel:null),over:_3e3("mouseover","dojotouchover",_3d6.over),out:_3e3("mouseout","dojotouchout",_3d6.out),enter:_3d3._eventHandler(_3e3("mouseover","dojotouchover",_3d6.over)),leave:_3d3._eventHandler(_3e3("mouseout","dojotouchout",_3d6.out))};1&&(dojo.touch=_3fa);return _3fa;});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_3fb,_3fc,_3fd,lang){lang.extend(_3fc,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _3fd("dijit._FocusMixin",null,{_focusManager:_3fb});});},"dojox/grid/_RowSelector":function(){define(["dojo/_base/declare","./_View"],function(_3fe,_3ff){return _3fe("dojox.grid._RowSelector",_3ff,{defaultWidth:"2em",noscroll:true,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden";},getWidth:function(){return this.viewWidth||this.defaultWidth;},buildRowContent:function(_400,_401){var w=this.contentWidth||0;_401.innerHTML="<table class=\"dojoxGridRowbarTable\" style=\"width:"+w+"px;height:1px;\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td class=\"dojoxGridRowbarInner\">&nbsp;</td></tr></table>";},renderHeader:function(){},updateRow:function(){},resize:function(){this.adaptHeight();},adaptWidth:function(){if(!("contentWidth" in this)&&this.contentNode&&this.contentNode.offsetWidth>0){this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth;}},doStyleRowNode:function(_402,_403){var n=["dojoxGridRowbar dojoxGridNonNormalizedCell"];if(this.grid.rows.isOver(_402)){n.push("dojoxGridRowbarOver");}if(this.grid.selection.isSelected(_402)){n.push("dojoxGridRowbarSelected");}_403.className=n.join(" ");},domouseover:function(e){this.grid.onMouseOverRow(e);},domouseout:function(e){if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}});});},"dojox/grid/_View":function(){define(["dojo","dijit/registry","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/query","dojo/_base/window","dojo/text!./resources/View.html","dojo/dnd/Source","dijit/_Widget","dijit/_TemplatedMixin","dojox/html/metrics","./util","dojo/_base/html","./_Builder","dojo/dnd/Avatar","dojo/dnd/Manager"],function(dojo,_404,_405,_406,_407,lang,_408,has,_409,win,_40a,_40b,_40c,_40d,_40e,util,html,_40f,_410,_411){var _412=function(_413,_414){return _413.style.cssText==undefined?_413.getAttribute("style"):_413.style.cssText;};var _415=_406("dojox.grid._View",[_40c,_40d],{defaultWidth:"18em",viewWidth:"",templateString:_40a,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:_40f._HeaderBuilder,_contentBuilderClass:_40f._ContentBuilder,postMixInProperties:function(){this.rowNodes={};},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");util.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu","mousedown"]);util.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);this.content=new this._contentBuilderClass(this);this.header=new this._headerBuilderClass(this);if(!this.grid.isLeftToRight()){this.headerNodeContainer.style.width="";}},destroy:function(){html.destroy(this.headerNode);delete this.headerNode;for(var i in this.rowNodes){this._cleanupRowWidgets(this.rowNodes[i]);html.destroy(this.rowNodes[i]);}this.rowNodes={};if(this.source){this.source.destroy();}this.inherited(arguments);},focus:function(){if(has("ie")||has("webkit")||has("opera")){this.hiddenFocusNode.focus();}else{this.scrollboxNode.focus();}},setStructure:function(_416){var vs=(this.structure=_416);if(vs.width&&!isNaN(vs.width)){this.viewWidth=vs.width+"em";}else{this.viewWidth=vs.width||(vs.noscroll?"auto":this.viewWidth);}this._onBeforeRow=vs.onBeforeRow||function(){};this._onAfterRow=vs.onAfterRow||function(){};this.noscroll=vs.noscroll;if(this.noscroll){this.scrollboxNode.style.overflow="hidden";}this.simpleStructure=Boolean(vs.cells.length==1);this.testFlexCells();this.updateStructure();},_cleanupRowWidgets:function(_417){if(_417){_407.forEach(_409("[widgetId]",_417).map(_404.byNode),function(w){if(w._destroyOnRemove){w.destroy();delete w;}else{if(w.domNode&&w.domNode.parentNode){w.domNode.parentNode.removeChild(w.domNode);}}});}},onBeforeRow:function(_418,_419){this._onBeforeRow(_418,_419);if(_418>=0){this._cleanupRowWidgets(this.getRowNode(_418));}},onAfterRow:function(_41a,_41b,_41c){this._onAfterRow(_41a,_41b,_41c);var g=this.grid;_407.forEach(_409(".dojoxGridStubNode",_41c),function(n){if(n&&n.parentNode){var lw=n.getAttribute("linkWidget");var _41d=window.parseInt(html.attr(n,"cellIdx"),10);var _41e=g.getCell(_41d);var w=_404.byId(lw);if(w){n.parentNode.replaceChild(w.domNode,n);if(!w._started){w.startup();}dojo.destroy(n);}else{n.innerHTML="";}}},this);},testFlexCells:function(){this.flexCells=false;for(var j=0,row;(row=this.structure.cells[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.view=this;this.flexCells=this.flexCells||cell.isFlex();}}return this.flexCells;},updateStructure:function(){this.header.update();this.content.update();},getScrollbarWidth:function(){var _41f=this.hasVScrollbar();var _420=html.style(this.scrollboxNode,"overflow");if(this.noscroll||!_420||_420=="hidden"){_41f=false;}else{if(_420=="scroll"){_41f=true;}}return (_41f?_40e.getScrollbar().w:0);},getColumnsWidth:function(){var h=this.headerContentNode;return h&&h.firstChild?(h.firstChild.offsetWidth||html.style(h.firstChild,"width")):0;},setColumnsWidth:function(_421){this.headerContentNode.firstChild.style.width=_421+"px";if(this.viewWidth){this.viewWidth=_421+"px";}},getWidth:function(){return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";},getContentWidth:function(){return Math.max(0,html._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";},render:function(){this.scrollboxNode.style.height="";this.renderHeader();if(this._togglingColumn>=0){this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn);this._togglingColumn=-1;}var _422=this.grid.layout.cells;var _423=lang.hitch(this,function(node,_424){!this.grid.isLeftToRight()&&(_424=!_424);var inc=_424?-1:1;var idx=this.header.getCellNodeIndex(node)+inc;var cell=_422[idx];while(cell&&cell.getHeaderNode()&&cell.getHeaderNode().style.display=="none"){idx+=inc;cell=_422[idx];}if(cell){return cell.getHeaderNode();}return null;});if(this.grid.columnReordering&&this.simpleStructure){if(this.source){this.source.destroy();}var _425="dojoxGrid_bottomMarker";var _426="dojoxGrid_topMarker";if(this.bottomMarker){html.destroy(this.bottomMarker);}this.bottomMarker=html.byId(_425);if(this.topMarker){html.destroy(this.topMarker);}this.topMarker=html.byId(_426);if(!this.bottomMarker){this.bottomMarker=html.create("div",{"id":_425,"class":"dojoxGridColPlaceBottom"},win.body());this._hide(this.bottomMarker);this.topMarker=html.create("div",{"id":_426,"class":"dojoxGridColPlaceTop"},win.body());this._hide(this.topMarker);}this.arrowDim=html.contentBox(this.bottomMarker);var _427=html.contentBox(this.headerContentNode.firstChild.rows[0]).h;this.source=new _40b(this.headerContentNode.firstChild.rows[0],{horizontal:true,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:false,onMouseDown:lang.hitch(this,function(e){this.header.decorateEvent(e);if((this.header.overRightResizeArea(e)||this.header.overLeftResizeArea(e))&&this.header.canResize(e)&&!this.header.moveable){this.header.beginColumnResize(e);}else{if(this.grid.headerMenu){this.grid.headerMenu.onCancel(true);}if(e.button===(has("ie")<9?1:0)){_40b.prototype.onMouseDown.call(this.source,e);}}}),onMouseOver:lang.hitch(this,function(e){var src=this.source;if(src._getChildByEvent(e)){_40b.prototype.onMouseOver.apply(src,arguments);}}),_markTargetAnchor:lang.hitch(this,function(_428){var src=this.source;if(src.current==src.targetAnchor&&src.before==_428){return;}if(src.targetAnchor&&_423(src.targetAnchor,src.before)){src._removeItemClass(_423(src.targetAnchor,src.before),src.before?"After":"Before");}_40b.prototype._markTargetAnchor.call(src,_428);var _429=_428?src.targetAnchor:_423(src.targetAnchor,src.before);var _42a=0;if(!_429){_429=src.targetAnchor;_42a=html.contentBox(_429).w+this.arrowDim.w/2+2;}var pos=html.position(_429,true);var left=Math.floor(pos.x-this.arrowDim.w/2+_42a);html.style(this.bottomMarker,"visibility","visible");html.style(this.topMarker,"visibility","visible");html.style(this.bottomMarker,{"left":left+"px","top":(_427+pos.y)+"px"});html.style(this.topMarker,{"left":left+"px","top":(pos.y-this.arrowDim.h)+"px"});if(src.targetAnchor&&_423(src.targetAnchor,src.before)){src._addItemClass(_423(src.targetAnchor,src.before),src.before?"After":"Before");}}),_unmarkTargetAnchor:lang.hitch(this,function(){var src=this.source;if(!src.targetAnchor){return;}if(src.targetAnchor&&_423(src.targetAnchor,src.before)){src._removeItemClass(_423(src.targetAnchor,src.before),src.before?"After":"Before");}this._hide(this.bottomMarker);this._hide(this.topMarker);_40b.prototype._unmarkTargetAnchor.call(src);}),destroy:lang.hitch(this,function(){_408.disconnect(this._source_conn);_408.unsubscribe(this._source_sub);_40b.prototype.destroy.call(this.source);if(this.bottomMarker){html.destroy(this.bottomMarker);delete this.bottomMarker;}if(this.topMarker){html.destroy(this.topMarker);delete this.topMarker;}}),onDndCancel:lang.hitch(this,function(){_40b.prototype.onDndCancel.call(this.source);this._hide(this.bottomMarker);this._hide(this.topMarker);})});this._source_conn=_408.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=_408.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup();}},_hide:function(node){html.style(node,{top:"-10000px","visibility":"hidden"});},_onDndDropBefore:function(_42b,_42c,copy){if(_411.manager().target!==this.source){return;}this.source._targetNode=this.source.targetAnchor;this.source._beforeTarget=this.source.before;var _42d=this.grid.views.views;var _42e=_42d[_42b.viewIndex];var _42f=_42d[this.index];if(_42f!=_42e){_42e.convertColPctToFixed();_42f.convertColPctToFixed();}},_onDndDrop:function(_430,_431,copy){if(_411.manager().target!==this.source){if(_411.manager().source===this.source){this._removingColumn=true;}return;}this._hide(this.bottomMarker);this._hide(this.topMarker);var _432=function(n){return n?html.attr(n,"idx"):null;};var w=html.marginBox(_431[0]).w;if(_430.viewIndex!==this.index){var _433=this.grid.views.views;var _434=_433[_430.viewIndex];var _435=_433[this.index];if(_434.viewWidth&&_434.viewWidth!="auto"){_434.setColumnsWidth(_434.getColumnsWidth()-w);}if(_435.viewWidth&&_435.viewWidth!="auto"){_435.setColumnsWidth(_435.getColumnsWidth());}}var stn=this.source._targetNode;var stb=this.source._beforeTarget;!this.grid.isLeftToRight()&&(stb=!stb);var _436=this.grid.layout;var idx=this.index;delete this.source._targetNode;delete this.source._beforeTarget;_436.moveColumn(_430.viewIndex,idx,_432(_431[0]),_432(stn),stb);},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}util.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode]);},_getHeaderContent:function(_437){var n=_437.name||_437.grid.getCellName(_437);if(/^\s+$/.test(n)){n="&nbsp;";}var ret=["<div class=\"dojoxGridSortNode"];if(_437.index!=_437.grid.getSortIndex()){ret.push("\">");}else{ret=ret.concat([" ",_437.grid.sortInfo>0?"dojoxGridSortUp":"dojoxGridSortDown","\"><div class=\"dojoxGridArrowButtonChar\">",_437.grid.sortInfo>0?"&#9650;":"&#9660;","</div><div class=\"dojoxGridArrowButtonNode\" role=\"presentation\"></div>","<div class=\"dojoxGridColCaption\">"]);}ret=ret.concat([n,"</div></div>"]);return ret.join("");},resize:function(){this.adaptHeight();this.adaptWidth();},hasHScrollbar:function(_438){var _439=this._hasHScroll||false;if(this._hasHScroll==undefined||_438){if(this.noscroll){this._hasHScroll=false;}else{var _43a=html.style(this.scrollboxNode,"overflow");if(_43a=="hidden"){this._hasHScroll=false;}else{if(_43a=="scroll"){this._hasHScroll=true;}else{this._hasHScroll=(this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);}}}}if(_439!==this._hasHScroll){this.grid.update();}return this._hasHScroll;},hasVScrollbar:function(_43b){var _43c=this._hasVScroll||false;if(this._hasVScroll==undefined||_43b){if(this.noscroll){this._hasVScroll=false;}else{var _43d=html.style(this.scrollboxNode,"overflow");if(_43d=="hidden"){this._hasVScroll=false;}else{if(_43d=="scroll"){this._hasVScroll=true;}else{this._hasVScroll=(this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);}}}}if(_43c!==this._hasVScroll){this.grid.update();}return this._hasVScroll;},convertColPctToFixed:function(){var _43e=false;this.grid.initialWidth="";var _43f=_409("th",this.headerContentNode);var _440=_407.map(_43f,function(c,vIdx){var w=c.style.width;html.attr(c,"vIdx",vIdx);if(w&&w.slice(-1)=="%"){_43e=true;}else{if(w&&w.slice(-2)=="px"){return window.parseInt(w,10);}}return html.contentBox(c).w;});if(_43e){_407.forEach(this.grid.layout.cells,function(cell,idx){if(cell.view==this){var _441=cell.view.getHeaderCellNode(cell.index);if(_441&&html.hasAttr(_441,"vIdx")){var vIdx=window.parseInt(html.attr(_441,"vIdx"));this.setColWidth(idx,_440[vIdx]);html.removeAttr(_441,"vIdx");}}},this);return true;}return false;},adaptHeight:function(_442){if(!this.grid._autoHeight){var h=(this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10))||this.domNode.clientHeight;var self=this;var _443=function(){var v;for(var i=0;i<self.grid.views.views.length;++i){v=self.grid.views.views[i];if(v!==self&&v.hasHScrollbar()){return true;}}return false;};if(_442||(this.noscroll&&_443())){h-=_40e.getScrollbar().h;}util.setStyleHeightPx(this.scrollboxNode,h);}this.hasVScrollbar(true);},adaptWidth:function(){if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();if(!this._removingColumn){w=Math.max(w,this.getColumnsWidth())+"px";}else{w=Math.min(w,this.getColumnsWidth())+"px";this._removingColumn=false;}var cn=this.contentNode;cn.style.width=w;this.hasHScrollbar(true);},setSize:function(w,h){var ds=this.domNode.style;var hs=this.headerNode.style;if(w){ds.width=w;hs.width=w;}ds.height=(h>=0?h+"px":"");},renderRow:function(_444){var _445=this.createRowNode(_444);this.buildRow(_444,_445);return _445;},createRowNode:function(_446){var node=document.createElement("div");node.className=this.classTag+"Row";if(this instanceof _405.grid._RowSelector){html.attr(node,"role","presentation");}else{html.attr(node,"role","row");if(this.grid.selectionMode!="none"){node.setAttribute("aria-selected","false");}}node[util.gridViewTag]=this.id;node[util.rowIndexTag]=_446;this.rowNodes[_446]=node;return node;},buildRow:function(_447,_448){this.buildRowContent(_447,_448);this.styleRow(_447,_448);},buildRowContent:function(_449,_44a){_44a.innerHTML=this.content.generateHtml(_449,_449);if(this.flexCells&&this.contentWidth){_44a.firstChild.style.width=this.contentWidth;}util.fire(this,"onAfterRow",[_449,this.structure.cells,_44a]);},rowRemoved:function(_44b){if(_44b>=0){this._cleanupRowWidgets(this.getRowNode(_44b));}this.grid.edit.save(this,_44b);delete this.rowNodes[_44b];},getRowNode:function(_44c){return this.rowNodes[_44c];},getCellNode:function(_44d,_44e){var row=this.getRowNode(_44d);if(row){return this.content.getCellNode(row,_44e);}},getHeaderCellNode:function(_44f){if(this.headerContentNode){return this.header.getCellNode(this.headerContentNode,_44f);}},styleRow:function(_450,_451){_451._style=_412(_451);this.styleRowNode(_450,_451);},styleRowNode:function(_452,_453){if(_453){this.doStyleRowNode(_452,_453);}},doStyleRowNode:function(_454,_455){this.grid.styleRowNode(_454,_455);},updateRow:function(_456){var _457=this.getRowNode(_456);if(_457){_457.style.height="";this.buildRow(_456,_457);}return _457;},updateRowStyles:function(_458){this.styleRowNode(_458,this.getRowNode(_458));},lastTop:0,firstScroll:0,_nativeScroll:false,doscroll:function(_459){if(has("ff")>=13||has("chrome")){this._nativeScroll=true;}var _45a=this.grid.isLeftToRight();if(this.firstScroll<2){if((!_45a&&this.firstScroll==1)||(_45a&&this.firstScroll===0)){var s=html.marginBox(this.headerNodeContainer);if(has("ie")){this.headerNodeContainer.style.width=s.w+this.getScrollbarWidth()+"px";}else{if(has("mozilla")){this.headerNodeContainer.style.width=s.w-this.getScrollbarWidth()+"px";this.scrollboxNode.scrollLeft=_45a?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth;}}}this.firstScroll++;}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;var top=this.scrollboxNode.scrollTop;if(top!==this.lastTop){this.grid.scrollTo(top);}this._nativeScroll=false;},setScrollTop:function(_45b){this.lastTop=_45b;if(!this._nativeScroll){this.scrollboxNode.scrollTop=_45b;}return this.scrollboxNode.scrollTop;},doContentEvent:function(e){if(this.content.decorateEvent(e)){this.grid.onContentEvent(e);}},doHeaderEvent:function(e){if(this.header.decorateEvent(e)){this.grid.onHeaderEvent(e);}},dispatchContentEvent:function(e){return this.content.dispatchEvent(e);},dispatchHeaderEvent:function(e){return this.header.dispatchEvent(e);},setColWidth:function(_45c,_45d){this.grid.setCellWidth(_45c,_45d+"px");},update:function(){if(!this.domNode){return;}this.content.update();this.grid.update();var left=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=left;this.headerNode.scrollLeft=left;}});var _45e=_406("dojox.grid._GridAvatar",_410,{construct:function(){var dd=win.doc;var a=dd.createElement("table");a.cellPadding=a.cellSpacing="0";a.className="dojoxGridDndAvatar";a.style.position="absolute";a.style.zIndex=1999;a.style.margin="0px";var b=dd.createElement("tbody");var tr=dd.createElement("tr");var td=dd.createElement("td");var img=dd.createElement("td");tr.className="dojoxGridDndAvatarItem";img.className="dojoxGridDndAvatarItemImage";img.style.width="16px";var _45f=this.manager.source,node;if(_45f.creator){node=_45f._normalizedCreator(_45f.getItem(this.manager.nodes[0].id).data,"avatar").node;}else{node=this.manager.nodes[0].cloneNode(true);var _460,_461;if(node.tagName.toLowerCase()=="tr"){_460=dd.createElement("table");_461=dd.createElement("tbody");_461.appendChild(node);_460.appendChild(_461);node=_460;}else{if(node.tagName.toLowerCase()=="th"){_460=dd.createElement("table");_461=dd.createElement("tbody");var r=dd.createElement("tr");_460.cellPadding=_460.cellSpacing="0";r.appendChild(node);_461.appendChild(r);_460.appendChild(_461);node=_460;}}}node.id="";td.appendChild(node);tr.appendChild(img);tr.appendChild(td);html.style(tr,"opacity",0.9);b.appendChild(tr);a.appendChild(b);this.node=a;var m=_411.manager();this.oldOffsetY=m.OFFSET_Y;m.OFFSET_Y=1;},destroy:function(){_411.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments);}});var _462=_411.manager().makeAvatar;_411.manager().makeAvatar=function(){var src=this.source;if(src.viewIndex!==undefined&&!html.hasClass(win.body(),"dijit_a11y")){return new _45e(this);}return _462.call(_411.manager());};return _415;});},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(dojo,_463,has,_464){var _465;if(1){_465=function(url,sync,load){_464(url,{sync:!!sync,headers:{"X-Requested-With":null}}).then(load);};}else{if(_463.getText){_465=_463.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _466={},_467=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _468=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_468){text=_468[1];}}else{text="";}return text;},_469={},_46a={};dojo.cache=function(_46b,url,_46c){var key;if(typeof _46b=="string"){if(/\//.test(_46b)){key=_46b;_46c=url;}else{key=_463.toUrl(_46b.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_46b+"";_46c=url;}var val=(_46c!=undefined&&typeof _46c!="string")?_46c.value:_46c,_46d=_46c&&_46c.sanitize;if(typeof val=="string"){_466[key]=val;return _46d?_467(val):val;}else{if(val===null){delete _466[key];return null;}else{if(!(key in _466)){_465(key,true,function(text){_466[key]=text;});}return _46d?_467(_466[key]):_466[key];}}};return {dynamic:true,normalize:function(id,_46e){var _46f=id.split("!"),url=_46f[0];return (/^\./.test(url)?_46e(url):url)+(_46f[1]?"!"+_46f[1]:"");},load:function(id,_470,load){var _471=id.split("!"),_472=_471.length>1,_473=_471[0],url=_470.toUrl(_471[0]),_474="url:"+url,text=_469,_475=function(text){load(_472?_467(text):text);};if(_473 in _466){text=_466[_473];}else{if(_470.cache&&_474 in _470.cache){text=_470.cache[_474];}else{if(url in _466){text=_466[url];}}}if(text===_469){if(_46a[url]){_46a[url].push(_475);}else{var _476=_46a[url]=[_475];_465(url,!_470.async,function(text){_466[_473]=_466[url]=text;for(var i=0;i<_476.length;){_476[i++](text);}delete _46a[url];});}}else{_475(text);}}};});},"dojo/request":function(){define(["./request/default!"],function(_477){return _477;});},"dojo/request/default":function(){define(["exports","require","../has"],function(_478,_479,has){var _47a=has("config-requestProvider"),_47b;if(1||has("host-webworker")){_47b="./xhr";}else{if(0){_47b="./node";}}if(!_47a){_47a=_47b;}_478.getPlatformDefaultId=function(){return _47b;};_478.load=function(id,_47c,_47d,_47e){_479([id=="platform"?_47b:_47a],function(_47f){_47d(_47f);});};});},"dojo/dnd/Source":function(){define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom-class","../dom-geometry","../mouse","../ready","../topic","./common","./Selector","./Manager"],function(_480,_481,_482,lang,_483,_484,_485,_486,_487,dnd,_488,_489){if(!_482.isAsync){_486(0,function(){var _48a=["dojo/dnd/AutoSource","dojo/dnd/Target"];require(_48a);});}var _48b=_481("dojo.dnd.Source",_488,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_48c){lang.mixin(this,lang.mixin({},_48c));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){_483.add(this.node,"dojoDndSource");}this.targetState="";if(this.accept){_483.add(this.node,"dojoDndTarget");}if(this.horizontal){_483.add(this.node,"dojoDndHorizontal");}this.topics=[_487.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),_487.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),_487.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),_487.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];},checkAcceptance:function(_48d,_48e){if(this==_48d){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_48e.length;++i){var type=_48d.getItem(_48e[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_48f,self){if(_48f){return true;}if(arguments.length<2){self=this==_489.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){_48b.superclass.destroy.call(this);_480.forEach(this.topics,function(t){t.remove();});this.targetAnchor=null;},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}_48b.superclass.onMouseMove.call(this,e);var m=_489.manager();if(!this.isDragging){if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _490=this.getSelectedNodes();if(_490.length){m.startDrag(this,_490,this.copyState(dnd.getCopyKeyState(e),true));}}}if(this.isDragging){var _491=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox=_484.position(this.current,true);}if(this.horizontal){_491=(e.pageX-this.targetBox.x<this.targetBox.w/2)==_484.isBodyLtr(this.current.ownerDocument);}else{_491=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_491!=this.before){this._markTargetAnchor(_491);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;_48b.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;_48b.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_492){if(this!==_492){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=_489.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_493,_494,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_493?(copy?"Copied":"Moved"):"");}var _495=this.accept&&this.checkAcceptance(_493,_494);this._changeState("Target",_495?"":"Disabled");if(this==_493){_489.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_496,_497,copy,_498){if(this==_498){this.onDrop(_496,_497,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_499,_49a,copy){if(this!=_499){this.onDropExternal(_499,_49a,copy);}else{this.onDropInternal(_49a,copy);}},onDropExternal:function(_49b,_49c,copy){var _49d=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _49d.call(this,_49b.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node){var t=_49b.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node){var t=_49b.getItem(node.id);_49b.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_49b.selectNone();}this.insertNodes(true,_49c,this.before,this.current);if(!copy&&this.creator){_49b.deleteSelectedNodes();}this._normalizedCreator=_49d;},onDropInternal:function(_49e,copy){var _49f=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _49f.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_49e,this.before,this.current);this._normalizedCreator=_49f;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){_48b.superclass.onOverEvent.call(this);_489.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){_48b.superclass.onOutEvent.call(this);_489.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_4a0){if(this.current==this.targetAnchor&&this.before==_4a0){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_4a0;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(e.type!="touchstart"&&!_485.isLeft(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(_483.contains(node,"dojoDndHandle")){return true;}if(_483.contains(node,"dojoDndItem")||_483.contains(node,"dojoDndIgnore")){break;}}return false;}});return _48b;});},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(has,_4a1,lang,dom){var _4a2=lang.getObject("dojo.dnd",true);_4a2.getCopyKeyState=function(evt){return evt[has("mac")?"metaKey":"ctrlKey"];};_4a2._uniqueId=0;_4a2.getUniqueId=function(){var id;do{id=_4a1._scopeName+"Unique"+(++_4a2._uniqueId);}while(dom.byId(id));return id;};_4a2._empty={};_4a2.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};return _4a2;});},"dojo/dnd/Selector":function(){define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom","../dom-construct","../mouse","../_base/NodeList","../on","../touch","./common","./Container"],function(_4a3,_4a4,_4a5,lang,dom,_4a6,_4a7,_4a8,on,_4a9,dnd,_4aa){var _4ab=_4a4("dojo.dnd.Selector",_4aa,{constructor:function(node,_4ac){if(!_4ac){_4ac={};}this.singular=_4ac.singular;this.autoSync=_4ac.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(on(this.node,_4a9.press,lang.hitch(this,"onMouseDown")),on(this.node,_4a9.release,lang.hitch(this,"onMouseUp")));},singular:false,getSelectedNodes:function(){var t=new _4a8();var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dom.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dom.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dom.byId(i);this.delItem(i);_4a6.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||_4a5.global;var s=this.selection,e=dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){_4ab.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}_4a3.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_4ad,data,_4ae,_4af){var _4b0=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_4b0.call(this,item,hint);if(_4ad){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};_4ab.superclass.insertNodes.call(this,data,_4ae,_4af);this._normalizedCreator=_4b0;return this;},destroy:function(){_4ab.superclass.destroy.call(this);this.selection=this.anchor=null;},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(_4a7.isLeft(e)){e.stopPropagation();e.preventDefault();}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}e.stopPropagation();e.preventDefault();},onMouseUp:function(){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=on(this.node,_4a9.move,lang.hitch(this,"onMouseMove"));},onOutEvent:function(){if(this.onmousemoveEvent){this.onmousemoveEvent.remove();delete this.onmousemoveEvent;}},_removeSelection:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dom.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});return _4ab;});},"dojo/dnd/Container":function(){define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../_base/window","../dom","../dom-class","../dom-construct","../Evented","../has","../on","../query","../touch","./common"],function(_4b1,_4b2,_4b3,lang,win,dom,_4b4,_4b5,_4b6,has,on,_4b7,_4b8,dnd){var _4b9=_4b2("dojo.dnd.Container",_4b6,{skipForm:false,allowNested:false,constructor:function(node,_4ba){this.node=dom.byId(node);if(!_4ba){_4ba={};}this.creator=_4ba.creator||null;this.skipForm=_4ba.skipForm;this.parent=_4ba.dropParent&&dom.byId(_4ba.dropParent);this.map={};this.current=null;this.containerState="";_4b4.add(this.node,"dojoDndContainer");if(!(_4ba&&_4ba._skipStartup)){this.startup();}this.events=[on(this.node,_4b8.over,lang.hitch(this,"onMouseOver")),on(this.node,_4b8.out,lang.hitch(this,"onMouseOut")),on(this.node,"dragstart",lang.hitch(this,"onSelectStart")),on(this.node,"selectstart",lang.hitch(this,"onSelectStart"))];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||_4b3.global;var m=this.map,e=dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return _4b7((this.allowNested?"":"> ")+".dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_4bb,_4bc){if(!this.parent.firstChild){_4bc=null;}else{if(_4bb){if(!_4bc){_4bc=this.parent.firstChild;}}else{if(_4bc){_4bc=_4bc.nextSibling;}}}var i,t;if(_4bc){for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});_4bc.parentNode.insertBefore(t.node,_4bc);}}else{for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){_4b1.forEach(this.events,function(_4bd){_4bd.remove();});this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_4be,node,Ctor){_4be._skipStartup=true;return new Ctor(node,_4be);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dnd.isFormElement(e)){e.stopPropagation();e.preventDefault();}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_4bf){var _4c0="dojoDnd"+type;var _4c1=type.toLowerCase()+"State";_4b4.replace(this.node,_4c0+_4bf,_4c0+this[_4c1]);this[_4c1]=_4bf;},_addItemClass:function(node,type){_4b4.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_4b4.remove(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _4c2=node.parentNode;_4c2;node=_4c2,_4c2=node.parentNode){if((_4c2==this.parent||this.allowNested)&&_4b4.contains(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!lang.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dnd.getUniqueId();}_4b4.add(t.node,"dojoDndItem");return t;}});dnd._createNode=function(tag){if(!tag){return dnd._createSpan;}return function(text){return _4b5.create(tag,{innerHTML:text});};};dnd._createTrTd=function(text){var tr=_4b5.create("tr");_4b5.create("td",{innerHTML:text},tr);return tr;};dnd._createSpan=function(text){return _4b5.create("span",{innerHTML:text});};dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dnd._createTrTd:dnd._createNode(dnd._defaultCreatorNodes[tag]);return function(item,hint){var _4c3=item&&lang.isObject(item),data,type,n;if(_4c3&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_4c3&&item.data)?item.data:item;type=(_4c3&&item.type)?item.type:["text"];n=(hint=="avatar"?dnd._createSpan:c)(String(data));}if(!n.id){n.id=dnd.getUniqueId();}return {node:n,data:data,type:type};};};return _4b9;});},"dojo/dnd/Manager":function(){define(["../_base/array","../_base/declare","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(_4c4,_4c5,lang,win,_4c6,_4c7,has,keys,on,_4c8,_4c9,dnd,_4ca,_4cb){var _4cc=_4c5("dojo.dnd.Manager",[_4c7],{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:has("touch")?0:16,OFFSET_Y:has("touch")?-64:16,overSource:function(_4cd){if(this.avatar){this.target=(_4cd&&_4cd.targetState!="Disabled")?_4cd:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}_4c8.publish("/dnd/source/over",_4cd);},outSource:function(_4ce){if(this.avatar){if(this.target==_4ce){this.target=null;this.canDropFlag=false;this.avatar.update();_4c8.publish("/dnd/source/over",null);}}else{_4c8.publish("/dnd/source/over",null);}},startDrag:function(_4cf,_4d0,copy){_4ca.autoScrollStart(win.doc);this.source=_4cf;this.nodes=_4d0;this.copy=Boolean(copy);this.avatar=this.makeAvatar();win.body().appendChild(this.avatar.node);_4c8.publish("/dnd/start",_4cf,_4d0,this.copy);function _4d1(e){e.preventDefault();e.stopPropagation();};this.events=[on(win.doc,_4c9.move,lang.hitch(this,"onMouseMove")),on(win.doc,_4c9.release,lang.hitch(this,"onMouseUp")),on(win.doc,"keydown",lang.hitch(this,"onKeyDown")),on(win.doc,"keyup",lang.hitch(this,"onKeyUp")),on(win.doc,"dragstart",_4d1),on(win.body(),"selectstart",_4d1)];var c="dojoDnd"+(copy?"Copy":"Move");_4c6.add(win.body(),c);},canDrop:function(flag){var _4d2=Boolean(this.target&&flag);if(this.canDropFlag!=_4d2){this.canDropFlag=_4d2;this.avatar.update();}},stopDrag:function(){_4c6.remove(win.body(),["dojoDndCopy","dojoDndMove"]);_4c4.forEach(this.events,function(_4d3){_4d3.remove();});this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new _4cb(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){_4ca.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}if(has("touch")){e.preventDefault();}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));_4c8.publish("/dnd/drop/before",this.source,this.nodes,copy,this.target,e);_4c8.publish("/dnd/drop",this.source,this.nodes,copy,this.target,e);}else{_4c8.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case keys.ESCAPE:_4c8.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();_4c6.replace(win.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));}});dnd._manager=null;_4cc.manager=dnd.manager=function(){if(!dnd._manager){dnd._manager=new _4cc();}return dnd._manager;};return _4cc;});},"dojo/dnd/autoscroll":function(){define(["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_4d4,_4d5,_4d6){var _4d7={};lang.setObject("dojo.dnd.autoscroll",_4d7);_4d7.getViewport=_4d6.getBox;_4d7.V_TRIGGER_AUTOSCROLL=32;_4d7.H_TRIGGER_AUTOSCROLL=32;_4d7.V_AUTOSCROLL_VALUE=16;_4d7.H_AUTOSCROLL_VALUE=16;var _4d8,doc=win.doc,_4d9=Infinity,_4da=Infinity;_4d7.autoScrollStart=function(d){doc=d;_4d8=_4d6.getBox(doc);var html=win.body(doc).parentNode;_4d9=Math.max(html.scrollHeight-_4d8.h,0);_4da=Math.max(html.scrollWidth-_4d8.w,0);};_4d7.autoScroll=function(e){var v=_4d8||_4d6.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;if(e.clientX<_4d7.H_TRIGGER_AUTOSCROLL){dx=-_4d7.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-_4d7.H_TRIGGER_AUTOSCROLL){dx=Math.min(_4d7.H_AUTOSCROLL_VALUE,_4da-html.scrollLeft);}}if(e.clientY<_4d7.V_TRIGGER_AUTOSCROLL){dy=-_4d7.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-_4d7.V_TRIGGER_AUTOSCROLL){dy=Math.min(_4d7.V_AUTOSCROLL_VALUE,_4d9-html.scrollTop);}}window.scrollBy(dx,dy);};_4d7._validNodes={"div":1,"p":1,"td":1};_4d7._validOverflow={"auto":1,"scroll":1};_4d7.autoScrollNodes=function(e){var b,t,w,h,rx,ry,dx=0,dy=0,_4db,_4dc;for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in _4d7._validNodes)){var s=_4d5.getComputedStyle(n),_4dd=(s.overflow.toLowerCase() in _4d7._validOverflow),_4de=(s.overflowX.toLowerCase() in _4d7._validOverflow),_4df=(s.overflowY.toLowerCase() in _4d7._validOverflow);if(_4dd||_4de||_4df){b=_4d4.getContentBox(n,s);t=_4d4.position(n,true);}if(_4dd||_4de){w=Math.min(_4d7.H_TRIGGER_AUTOSCROLL,b.w/2);rx=e.pageX-t.x;if(has("webkit")||has("opera")){rx+=win.body().scrollLeft;}dx=0;if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}_4db=n.scrollLeft;n.scrollLeft=n.scrollLeft+dx;}}if(_4dd||_4df){h=Math.min(_4d7.V_TRIGGER_AUTOSCROLL,b.h/2);ry=e.pageY-t.y;if(has("webkit")||has("opera")){ry+=win.body().scrollTop;}dy=0;if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}_4dc=n.scrollTop;n.scrollTop=n.scrollTop+dy;}}if(dx||dy){return;}}try{n=n.parentNode;}catch(x){n=null;}}_4d7.autoScroll(e);};return _4d7;});},"dojo/dnd/Avatar":function(){define(["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(_4e0,win,dom,_4e1,_4e2,_4e3,has,_4e4){return _4e0("dojo.dnd.Avatar",null,{constructor:function(_4e5){this.manager=_4e5;this.construct();},construct:function(){var a=_4e3.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_4e6=this.manager.source,node,b=_4e3.create("tbody",null,a),tr=_4e3.create("tr",null,b),td=_4e3.create("td",null,tr),k=Math.min(5,this.manager.nodes.length),i=0;if(has("highcontrast")){_4e3.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td);}_4e3.create("span",{innerHTML:_4e6.generateText?this._generateText():""},td);_4e1.set(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_4e6.creator){node=_4e6._normalizedCreator(_4e6.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _4e7=_4e3.create("table"),_4e8=_4e3.create("tbody",null,_4e7);_4e8.appendChild(node);node=_4e7;}}node.id="";tr=_4e3.create("tr",null,b);td=_4e3.create("td",null,tr);td.appendChild(node);_4e1.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){_4e3.destroy(this.node);this.node=false;},update:function(){_4e2.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(has("highcontrast")){var icon=dom.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}_4e4(("tr.dojoDndAvatarHeader td span"+(has("highcontrast")?" span":"")),this.node).forEach(function(node){node.innerHTML=this.manager.source.generateText?this._generateText():"";},this);},_generateText:function(){return this.manager.nodes.length.toString();}});});},"dijit/_TemplatedMixin":function(){define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_4e9,_4ea,_4eb,lang,on,has,_4ec,_4ed){var _4ee=_4ea("dijit._TemplatedMixin",_4ed,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){var _4ef=this.declaredClass,_4f0=this;return _4ec.substitute(tmpl,this,function(_4f1,key){if(key.charAt(0)=="!"){_4f1=lang.getObject(key.substr(1),false,_4f0);}if(typeof _4f1=="undefined"){throw new Error(_4ef+" template:"+key);}if(_4f1==null){return "";}return key.charAt(0)=="!"?_4f1:this._escapeValue(""+_4f1);},this);},_escapeValue:function(val){return val.replace(/["'<>&]/g,function(val){return {"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;"}[val];});},buildRendering:function(){if(!this._rendered){if(!this.templateString){this.templateString=_4e9(this.templatePath,{sanitize:true});}var _4f2=_4ee.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_4f2)){node=_4eb.toDom(this._stringRepl(_4f2),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_4f2);}}else{node=_4f2.cloneNode(true);}this.domNode=node;}this.inherited(arguments);if(!this._rendered){this._fillContent(this.srcNodeRef);}this._rendered=true;},_fillContent:function(_4f3){var dest=this.containerNode;if(_4f3&&dest){while(_4f3.hasChildNodes()){dest.appendChild(_4f3.firstChild);}}}});_4ee._templateCache={};_4ee.getCachedTemplate=function(_4f4,_4f5,doc){var _4f6=_4ee._templateCache;var key=_4f4;var _4f7=_4f6[key];if(_4f7){try{if(!_4f7.ownerDocument||_4f7.ownerDocument==(doc||document)){return _4f7;}}catch(e){}_4eb.destroy(_4f7);}_4f4=_4ec.trim(_4f4);if(_4f5||_4f4.match(/\$\{([^\}]+)\}/g)){return (_4f6[key]=_4f4);}else{var node=_4eb.toDom(_4f4,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_4f4);}return (_4f6[key]=node);}};if(has("ie")){on(window,"unload",function(){var _4f8=_4ee._templateCache;for(var key in _4f8){var _4f9=_4f8[key];if(typeof _4f9=="object"){_4eb.destroy(_4f9);}delete _4f8[key];}});}return _4ee;});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(_4fa,lang){var _4fb=/[&<>'"\/]/g;var _4fc={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;","/":"&#x2F;"};var _4fd={};lang.setObject("dojo.string",_4fd);_4fd.escape=function(str){if(!str){return "";}return str.replace(_4fb,function(c){return _4fc[c];});};_4fd.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_4fd.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=_4fd.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};_4fd.substitute=function(_4fe,map,_4ff,_500){_500=_500||_4fa.global;_4ff=_4ff?lang.hitch(_500,_4ff):function(v){return v;};return _4fe.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_501,key,_502){var _503=lang.getObject(key,false,map);if(_502){_503=lang.getObject(_502,false,_500).call(_500,_503,key);}return _4ff(_503,key).toString();});};_4fd.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return _4fd;});},"dijit/_AttachMixin":function(){define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_504,_505,_506,_507,lang,_508,on,_509,_50a){var _50b=lang.delegate(_509,{"mouseenter":_508.enter,"mouseleave":_508.leave,"keypress":_506._keypress});var _50c;var _50d=_507("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent();},_beforeFillContent:function(){},_attachTemplateNodes:function(_50e){var node=_50e;while(true){if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){return n.getAttribute(p);},this._attach)||this.searchContainerNode)&&node.firstChild){node=node.firstChild;}else{if(node==_50e){return;}while(!node.nextSibling){node=node.parentNode;if(node==_50e){return;}}node=node.nextSibling;}}},_processTemplateNode:function(_50f,_510,_511){var ret=true;var _512=this.attachScope||this,_513=_510(_50f,"dojoAttachPoint")||_510(_50f,"data-dojo-attach-point");if(_513){var _514,_515=_513.split(/\s*,\s*/);while((_514=_515.shift())){if(lang.isArray(_512[_514])){_512[_514].push(_50f);}else{_512[_514]=_50f;}ret=(_514!="containerNode");this._attachPoints.push(_514);}}var _516=_510(_50f,"dojoAttachEvent")||_510(_50f,"data-dojo-attach-event");if(_516){var _517,_518=_516.split(/\s*,\s*/);var trim=lang.trim;while((_517=_518.shift())){if(_517){var _519=null;if(_517.indexOf(":")!=-1){var _51a=_517.split(":");_517=trim(_51a[0]);_519=trim(_51a[1]);}else{_517=trim(_517);}if(!_519){_519=_517;}this._attachEvents.push(_511(_50f,_517,lang.hitch(_512,_519)));}}}return ret;},_attach:function(node,type,func){type=type.replace(/^on/,"").toLowerCase();if(type=="dijitclick"){type=_50c||(_50c=_504("./a11yclick"));}else{type=_50b[type]||type;}return on(node,type,func);},_detachTemplateNodes:function(){var _51b=this.attachScope||this;_505.forEach(this._attachPoints,function(_51c){delete _51b[_51c];});this._attachPoints=[];_505.forEach(this._attachEvents,function(_51d){_51d.remove();});this._attachEvents=[];},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments);}});lang.extend(_50a,{dojoAttachEvent:"",dojoAttachPoint:""});return _50d;});},"dojox/html/metrics":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/ready","dojo/_base/unload","dojo/_base/window","dojo/dom-geometry"],function(_51e,lang,has,_51f,_520,_521,_522){var dhm=lang.getObject("dojox.html.metrics",true);var _523=lang.getObject("dojox");dhm.getFontMeasurements=function(){var _524={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};var _525;if(has("ie")){_525=_521.doc.documentElement.style.fontSize||"";if(!_525){_521.doc.documentElement.style.fontSize="100%";}}var div=_521.doc.createElement("div");var ds=div.style;ds.position="absolute";ds.left="-100px";ds.top="0";ds.width="30px";ds.height="1000em";ds.borderWidth="0";ds.margin="0";ds.padding="0";ds.outline="0";ds.lineHeight="1";ds.overflow="hidden";_521.body().appendChild(div);for(var p in _524){ds.fontSize=p;_524[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}if(has("ie")){_521.doc.documentElement.style.fontSize=_525;}_521.body().removeChild(div);div=null;return _524;};var _526=null;dhm.getCachedFontMeasurements=function(_527){if(_527||!_526){_526=dhm.getFontMeasurements();}return _526;};var _528=null,_529={};dhm.getTextBox=function(text,_52a,_52b){var m,s;if(!_528){m=_528=_521.doc.createElement("div");var c=_521.doc.createElement("div");c.appendChild(m);s=c.style;s.overflow="scroll";s.position="absolute";s.left="0px";s.top="-10000px";s.width="1px";s.height="1px";s.visibility="hidden";s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";_521.body().appendChild(c);}else{m=_528;}m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(arguments.length>1&&_52a){for(var i in _52a){if(i in _529){continue;}s[i]=_52a[i];}}if(arguments.length>2&&_52b){m.className=_52b;}m.innerHTML=text;var box=_522.position(m);box.w=m.parentNode.scrollWidth;return box;};var _52c={w:16,h:16};dhm.getScrollbar=function(){return {w:_52c.w,h:_52c.h};};dhm._fontResizeNode=null;dhm.initOnFontResize=function(_52d){var f=dhm._fontResizeNode=_521.doc.createElement("iframe");var fs=f.style;fs.position="absolute";fs.width="5em";fs.height="10em";fs.top="-10000px";fs.display="none";if(has("ie")){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onresize=f.contentWindow.parent[_523._scopeName].html.metrics._fontresize;}};}else{f.onload=function(){f.contentWindow.onresize=f.contentWindow.parent[_523._scopeName].html.metrics._fontresize;};}f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");_521.body().appendChild(f);dhm.initOnFontResize=function(){};};dhm.onFontResize=function(){};dhm._fontresize=function(){dhm.onFontResize();};_520.addOnUnload(function(){var f=dhm._fontResizeNode;if(f){if(has("ie")&&f.onresize){f.onresize=null;}else{if(f.contentWindow&&f.contentWindow.onresize){f.contentWindow.onresize=null;}}dhm._fontResizeNode=null;}});_51f(function(){try{var n=_521.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";_521.body().appendChild(n);_52c.w=n.offsetWidth-n.clientWidth;_52c.h=n.offsetHeight-n.clientHeight;_521.body().removeChild(n);delete n;}catch(e){}if("fontSizeWatch" in _51e.config&&!!_51e.config.fontSizeWatch){dhm.initOnFontResize();}});return dhm;});},"dojox/grid/_Builder":function(){define(["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/window","dojo/_base/event","dojo/_base/sniff","dojo/_base/connect","dojo/dnd/Moveable","dojox/html/metrics","./util","dojo/_base/html","dojo/dom-geometry"],function(_52e,_52f,lang,win,_530,has,_531,_532,_533,util,html,_534){var dg=_52e.grid;var _535=function(td){return td.cellIndex>=0?td.cellIndex:_52f.indexOf(td.parentNode.cells,td);};var _536=function(tr){return tr.rowIndex>=0?tr.rowIndex:_52f.indexOf(tr.parentNode.childNodes,tr);};var _537=function(_538,_539){return _538&&((_538.rows||0)[_539]||_538.childNodes[_539]);};var _53a=function(node){for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){}return n;};var _53b=function(_53c,_53d){for(var n=_53c;n&&_53d(n);n=n.parentNode){}return n;};var _53e=function(_53f){var name=_53f.toUpperCase();return function(node){return node.tagName!=name;};};var _540=util.rowIndexTag;var _541=util.gridViewTag;var _542=dg._Builder=lang.extend(function(view){if(view){this.view=view;this.grid=view.grid;}},{view:null,_table:"<table class=\"dojoxGridRowTable\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"",getTableArray:function(){var html=[this._table];if(this.view.viewWidth){html.push([" style=\"width:",this.view.viewWidth,";\""].join(""));}html.push(">");return html;},generateCellMarkup:function(_543,_544,_545,_546){var _547=[],html;if(_546){var _548=_543.index!=_543.grid.getSortIndex()?"":_543.grid.sortInfo>0?"aria-sort=\"ascending\"":"aria-sort=\"descending\"";if(!_543.id){_543.id=this.grid.id+"Hdr"+_543.index;}html=["<th tabIndex=\"-1\" aria-readonly=\"true\" role=\"columnheader\"",_548," id=\"",_543.id,"\""];}else{var _549=this.grid.editable&&!_543.editable?"aria-readonly=\"true\"":"";html=["<td tabIndex=\"-1\" role=\"gridcell\"",_549];}if(_543.colSpan){html.push(" colspan=\"",_543.colSpan,"\"");}if(_543.rowSpan){html.push(" rowspan=\"",_543.rowSpan,"\"");}html.push(" class=\"dojoxGridCell ");if(_543.classes){html.push(_543.classes," ");}if(_545){html.push(_545," ");}_547.push(html.join(""));_547.push("");html=["\" idx=\"",_543.index,"\" style=\""];if(_544&&_544[_544.length-1]!=";"){_544+=";";}html.push(_543.styles,_544||"",_543.hidden?"display:none;":"");if(_543.unitWidth){html.push("width:",_543.unitWidth,";");}_547.push(html.join(""));_547.push("");html=["\""];if(_543.attrs){html.push(" ",_543.attrs);}html.push(">");_547.push(html.join(""));_547.push("");_547.push(_546?"</th>":"</td>");return _547;},isCellNode:function(_54a){return Boolean(_54a&&_54a!=win.doc&&html.attr(_54a,"idx"));},getCellNodeIndex:function(_54b){return _54b?Number(html.attr(_54b,"idx")):-1;},getCellNode:function(_54c,_54d){for(var i=0,row;((row=_537(_54c.firstChild,i))&&row.cells);i++){for(var j=0,cell;(cell=row.cells[j]);j++){if(this.getCellNodeIndex(cell)==_54d){return cell;}}}return null;},findCellTarget:function(_54e,_54f){var n=_54e;while(n&&(!this.isCellNode(n)||(n.offsetParent&&_541 in n.offsetParent.parentNode&&n.offsetParent.parentNode[_541]!=this.view.id))&&(n!=_54f)){n=n.parentNode;}return n!=_54f?n:null;},baseDecorateEvent:function(e){e.dispatch="do"+e.type;e.grid=this.grid;e.sourceView=this.view;e.cellNode=this.findCellTarget(e.target,e.rowNode);e.cellIndex=this.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);},findTarget:function(_550,_551){var n=_550;while(n&&(n!=this.domNode)&&(!(_551 in n)||(_541 in n&&n[_541]!=this.view.id))){n=n.parentNode;}return (n!=this.domNode)?n:null;},findRowTarget:function(_552){return this.findTarget(_552,_540);},isIntraNodeEvent:function(e){try{return (e.cellNode&&e.relatedTarget&&html.isDescendant(e.relatedTarget,e.cellNode));}catch(x){return false;}},isIntraRowEvent:function(e){try{var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);}catch(x){return false;}},dispatchEvent:function(e){if(e.dispatch in this){return this[e.dispatch](e);}return false;},domouseover:function(e){if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){this.lastOverCellNode=e.cellNode;this.grid.onMouseOver(e);}this.grid.onMouseOverRow(e);},domouseout:function(e){if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){this.lastOverCellNode=null;this.grid.onMouseOut(e);if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}},domousedown:function(e){if(e.cellNode){this.grid.onMouseDown(e);}this.grid.onMouseDownRow(e);},_getTextDirStyle:function(_553,_554,_555){return "";}});var _556=dg._ContentBuilder=lang.extend(function(view){_542.call(this,view);},_542.prototype,{update:function(){this.prepareHtml();},prepareHtml:function(){var _557=this.grid.get,_558=this.view.structure.cells;for(var j=0,row;(row=_558[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.get=cell.get||(cell.value==undefined)&&_557;cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses,false);if(!this.grid.editable&&cell.editable){this.grid.editable=true;}}}},generateHtml:function(_559,_55a){var html=this.getTableArray(),v=this.view,dir,_55b=v.structure.cells,item=this.grid.getItem(_55a);util.fire(this.view,"onBeforeRow",[_55a,_55b]);for(var j=0,row;(row=_55b[j]);j++){if(row.hidden||row.header){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){m=cell.markup;cc=cell.customClasses=[];cs=cell.customStyles=[];m[5]=cell.format(_55a,item);m[1]=cc.join(" ");m[3]=cs.join(";");dir=cell.textDir||this.grid.textDir;if(dir){m[3]+=this._getTextDirStyle(dir,cell,_55a);}html.push.apply(html,m);}html.push("</tr>");}html.push("</table>");return html.join("");},decorateEvent:function(e){e.rowNode=this.findRowTarget(e.target);if(!e.rowNode){return false;}e.rowIndex=e.rowNode[_540];this.baseDecorateEvent(e);e.cell=this.grid.getCell(e.cellIndex);return true;}});var _55c=dg._HeaderBuilder=lang.extend(function(view){this.moveable=null;_542.call(this,view);},_542.prototype,{_skipBogusClicks:false,overResizeWidth:4,minColWidth:1,update:function(){if(this.tableMap){this.tableMap.mapRows(this.view.structure.cells);}else{this.tableMap=new dg._TableMap(this.view.structure.cells);}},generateHtml:function(_55d,_55e){var dir,html=this.getTableArray(),_55f=this.view.structure.cells;util.fire(this.view,"onBeforeRow",[-1,_55f]);for(var j=0,row;(row=_55f[j]);j++){if(row.hidden){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,_560;(cell=row[i]);i++){cell.customClasses=[];cell.customStyles=[];if(this.view.simpleStructure){if(cell.draggable){if(cell.headerClasses){if(cell.headerClasses.indexOf("dojoDndItem")==-1){cell.headerClasses+=" dojoDndItem";}}else{cell.headerClasses="dojoDndItem";}}if(cell.attrs){if(cell.attrs.indexOf("dndType='gridColumn_")==-1){cell.attrs+=" dndType='gridColumn_"+this.grid.id+"'";}}else{cell.attrs="dndType='gridColumn_"+this.grid.id+"'";}}_560=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses,true);_560[5]=(_55e!=undefined?_55e:_55d(cell));_560[3]=cell.customStyles.join(";");dir=cell.textDir||this.grid.textDir;if(dir){_560[3]+=this._getTextDirStyle(dir,cell,_55e);}_560[1]=cell.customClasses.join(" ");html.push(_560.join(""));}html.push("</tr>");}html.push("</table>");return html.join("");},getCellX:function(e){var n,x,pos;n=_53b(e.target,_53e("th"));if(n){pos=_534.position(n);x=e.clientX-pos.x;}else{x=e.layerX;}return x;},decorateEvent:function(e){this.baseDecorateEvent(e);e.rowIndex=-1;e.cellX=this.getCellX(e);return true;},prepareResize:function(e,mod){do{var i=e.cellIndex;e.cellNode=(i?e.cellNode.parentNode.cells[i+mod]:null);e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);}while(e.cellNode&&e.cellNode.style.display=="none");return Boolean(e.cellNode);},canResize:function(e){if(!e.cellNode||e.cellNode.colSpan>1){return false;}var cell=this.grid.getCell(e.cellIndex);return !cell.noresize&&cell.canResize();},overLeftResizeArea:function(e){if(html.hasClass(win.body(),"dojoDndMove")){return false;}if(has("ie")){var tN=e.target;if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){return false;}}if(this.grid.isLeftToRight()){return (e.cellIndex>0)&&(e.cellX>0&&e.cellX<this.overResizeWidth)&&this.prepareResize(e,-1);}var t=e.cellNode&&(e.cellX>0&&e.cellX<this.overResizeWidth);return t;},overRightResizeArea:function(e){if(html.hasClass(win.body(),"dojoDndMove")){return false;}if(has("ie")){var tN=e.target;if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){return false;}}if(this.grid.isLeftToRight()){return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);}return (e.cellIndex>0)&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth)&&this.prepareResize(e,-1);},domousemove:function(e){if(!this.moveable){var c=(this.overRightResizeArea(e)?"dojoxGridColResize":(this.overLeftResizeArea(e)?"dojoxGridColResize":""));if(c&&!this.canResize(e)){c="dojoxGridColNoResize";}html.toggleClass(e.sourceView.headerNode,"dojoxGridColNoResize",(c=="dojoxGridColNoResize"));html.toggleClass(e.sourceView.headerNode,"dojoxGridColResize",(c=="dojoxGridColResize"));if(c){_530.stop(e);}}},domousedown:function(e){if(!this.moveable){if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){this.beginColumnResize(e);}else{this.grid.onMouseDown(e);this.grid.onMouseOverRow(e);}}},doclick:function(e){if(this._skipBogusClicks){_530.stop(e);return true;}return false;},colResizeSetup:function(e,_561){var _562=html.contentBox(e.sourceView.headerNode);if(_561){this.lineDiv=document.createElement("div");var vw=html.position(e.sourceView.headerNode,true);var _563=html.contentBox(e.sourceView.domNode);var l=e.pageX;if(!this.grid.isLeftToRight()&&has("ie")<8){l-=_533.getScrollbar().w;}html.style(this.lineDiv,{top:vw.y+"px",left:l+"px",height:(_563.h+_562.h)+"px"});html.addClass(this.lineDiv,"dojoxGridResizeColLine");this.lineDiv._origLeft=l;win.body().appendChild(this.lineDiv);}var _564=[],_565=this.tableMap.findOverlappingNodes(e.cellNode);for(var i=0,cell;(cell=_565[i]);i++){_564.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});}var view=e.sourceView;var adj=this.grid.isLeftToRight()?1:-1;var _566=e.grid.views.views;var _567=[];for(var j=view.idx+adj,_568;(_568=_566[j]);j=j+adj){_567.push({node:_568.headerNode,left:window.parseInt(_568.headerNode.style.left)});}var _569=view.headerContentNode.firstChild;var drag={scrollLeft:e.sourceView.headerNode.scrollLeft,view:view,node:e.cellNode,index:e.cellIndex,w:html.contentBox(e.cellNode).w,vw:_562.w,table:_569,tw:html.contentBox(_569).w,spanners:_564,followers:_567};return drag;},beginColumnResize:function(e){this.moverDiv=document.createElement("div");html.style(this.moverDiv,{position:"absolute",left:0});win.body().appendChild(this.moverDiv);html.addClass(this.grid.domNode,"dojoxGridColumnResizing");var m=(this.moveable=new _532(this.moverDiv));var drag=this.colResizeSetup(e,true);m.onMove=lang.hitch(this,"doResizeColumn",drag);_531.connect(m,"onMoveStop",lang.hitch(this,function(){this.endResizeColumn(drag);if(drag.node.releaseCapture){drag.node.releaseCapture();}this.moveable.destroy();delete this.moveable;this.moveable=null;html.removeClass(this.grid.domNode,"dojoxGridColumnResizing");}));if(e.cellNode.setCapture){e.cellNode.setCapture();}m.onMouseDown(e);},doResizeColumn:function(_56a,_56b,_56c){var _56d=_56c.l;var data={deltaX:_56d,w:_56a.w+(this.grid.isLeftToRight()?_56d:-_56d),vw:_56a.vw+_56d,tw:_56a.tw+_56d};this.dragRecord={inDrag:_56a,mover:_56b,leftTop:_56c};if(data.w>=this.minColWidth){if(!_56b){this.doResizeNow(_56a,data);}else{html.style(this.lineDiv,"left",(this.lineDiv._origLeft+data.deltaX)+"px");}}},endResizeColumn:function(_56e){if(this.dragRecord){var _56f=this.dragRecord.leftTop;var _570=this.grid.isLeftToRight()?_56f.l:-_56f.l;_570+=Math.max(_56e.w+_570,this.minColWidth)-(_56e.w+_570);if(has("webkit")&&_56e.spanners.length){_570+=html._getPadBorderExtents(_56e.spanners[0].node).w;}var data={deltaX:_570,w:_56e.w+_570,vw:_56e.vw+_570,tw:_56e.tw+_570};this.doResizeNow(_56e,data);delete this.dragRecord;}html.destroy(this.lineDiv);html.destroy(this.moverDiv);html.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=true;_56e.view.update();this._skipBogusClicks=false;this.grid.onResizeColumn(_56e.index);},doResizeNow:function(_571,data){_571.view.convertColPctToFixed();if(_571.view.flexCells&&!_571.view.testFlexCells()){var t=_53a(_571.node);if(t){(t.style.width="");}}var i,s,sw,f,fl;for(i=0;(s=_571.spanners[i]);i++){sw=s.width+data.deltaX;if(sw>0){s.node.style.width=sw+"px";_571.view.setColWidth(s.index,sw);}}if(this.grid.isLeftToRight()||!has("ie")){for(i=0;(f=_571.followers[i]);i++){fl=f.left+data.deltaX;f.node.style.left=fl+"px";}}_571.node.style.width=data.w+"px";_571.view.setColWidth(_571.index,data.w);_571.view.headerNode.style.width=data.vw+"px";_571.view.setColumnsWidth(data.tw);if(!this.grid.isLeftToRight()){_571.view.headerNode.scrollLeft=_571.scrollLeft+data.deltaX;}}});dg._TableMap=lang.extend(function(rows){this.mapRows(rows);},{map:null,mapRows:function(_572){var _573=_572.length;if(!_573){return;}this.map=[];var row;for(var k=0;(row=_572[k]);k++){this.map[k]=[];}for(var j=0;(row=_572[j]);j++){for(var i=0,x=0,cell,_574,_575;(cell=row[i]);i++){while(this.map[j][x]){x++;}this.map[j][x]={c:i,r:j};_575=cell.rowSpan||1;_574=cell.colSpan||1;for(var y=0;y<_575;y++){for(var s=0;s<_574;s++){this.map[j+y][x+s]=this.map[j][x];}}x+=_574;}}},dumpMap:function(){for(var j=0,row,h="";(row=this.map[j]);j++,h=""){for(var i=0,cell;(cell=row[i]);i++){h+=cell.r+","+cell.c+"   ";}}},getMapCoords:function(_576,_577){for(var j=0,row;(row=this.map[j]);j++){for(var i=0,cell;(cell=row[i]);i++){if(cell.c==_577&&cell.r==_576){return {j:j,i:i};}}}return {j:-1,i:-1};},getNode:function(_578,_579,_57a){var row=_578&&_578.rows[_579];return row&&row.cells[_57a];},_findOverlappingNodes:function(_57b,_57c,_57d){var _57e=[];var m=this.getMapCoords(_57c,_57d);for(var j=0,row;(row=this.map[j]);j++){if(j==m.j){continue;}var rw=row[m.i];var n=(rw?this.getNode(_57b,rw.r,rw.c):null);if(n){_57e.push(n);}}return _57e;},findOverlappingNodes:function(_57f){return this._findOverlappingNodes(_53a(_57f),_536(_57f.parentNode),_535(_57f));}});return {_Builder:_542,_HeaderBuilder:_55c,_ContentBuilder:_556};});},"dojo/dnd/Moveable":function(){define(["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_580,_581,lang,dom,_582,_583,on,_584,_585,dnd,_586,win){var _587=_581("dojo.dnd.Moveable",[_583],{handle:"",delay:0,skip:false,constructor:function(node,_588){this.node=dom.byId(node);if(!_588){_588={};}this.handle=_588.handle?dom.byId(_588.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_588.delay>0?_588.delay:0;this.skip=_588.skip;this.mover=_588.mover?_588.mover:_586;this.events=[on(this.handle,_585.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_589,node,Ctor){return new Ctor(node,_589);},destroy:function(){_580.forEach(this.events,function(_58a){_58a.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_585.move,lang.hitch(this,"onMouseMove")),on(this.handle,_585.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}e.stopPropagation();e.preventDefault();},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){e.stopPropagation();e.preventDefault();}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_58b){_584.publish("/dnd/move/start",_58b);_582.add(win.body(),"dojoMove");_582.add(this.node,"dojoMoveItem");},onMoveStop:function(_58c){_584.publish("/dnd/move/stop",_58c);_582.remove(win.body(),"dojoMove");_582.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_58d,_58e){this.onMoving(_58d,_58e);var s=_58d.node.style;s.left=_58e.l+"px";s.top=_58e.t+"px";this.onMoved(_58d,_58e);},onMoving:function(){},onMoved:function(){}});return _587;});},"dojo/dnd/Mover":function(){define(["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_58f,_590,lang,has,win,dom,_591,_592,_593,on,_594,dnd,_595){return _590("dojo.dnd.Mover",[_593],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;function _596(e){e.preventDefault();e.stopPropagation();};this.events=[on(d,_594.move,lang.hitch(this,"onFirstMove")),on(d,_594.move,lang.hitch(this,"onMouseMove")),on(d,_594.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_596),on(d.body,"selectstart",_596)];_595.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_595.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);e.preventDefault();e.stopPropagation();},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}e.preventDefault();e.stopPropagation();},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_591.getMarginBox(this.node);var b=win.doc.body;var bs=_592.getComputedStyle(b);var bm=_591.getMarginBox(b,bs);var bc=_591.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_58f.forEach(this.events,function(_597){_597.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"dojox/grid/_ViewManager":function(){define(["dojo/_base/declare","dojo/_base/sniff","dojo/dom-class"],function(_598,has,_599){return _598("dojox.grid._ViewManager",null,{constructor:function(_59a){this.grid=_59a;},defaultWidth:200,views:[],resize:function(){this.onEach("resize");},render:function(){this.onEach("render");},addView:function(_59b){_59b.idx=this.views.length;this.views.push(_59b);},destroyViews:function(){for(var i=0,v;v=this.views[i];i++){v.destroy();}this.views=[];},getContentNodes:function(){var _59c=[];for(var i=0,v;v=this.views[i];i++){_59c.push(v.contentNode);}return _59c;},forEach:function(_59d){for(var i=0,v;v=this.views[i];i++){_59d(v,i);}},onEach:function(_59e,_59f){_59f=_59f||[];for(var i=0,v;v=this.views[i];i++){if(_59e in v){v[_59e].apply(v,_59f);}}},normalizeHeaderNodeHeight:function(){var _5a0=[];for(var i=0,v;(v=this.views[i]);i++){if(v.headerContentNode.firstChild){_5a0.push(v.headerContentNode);}}this.normalizeRowNodeHeights(_5a0);},normalizeRowNodeHeights:function(_5a1){var h=0;var _5a2=[];if(this.grid.rowHeight){h=this.grid.rowHeight;}else{if(_5a1.length<=1){return;}for(var i=0,n;(n=_5a1[i]);i++){if(!_599.contains(n,"dojoxGridNonNormalizedCell")){_5a2[i]=n.firstChild.offsetHeight;h=Math.max(h,_5a2[i]);}}h=(h>=0?h:0);if((has("mozilla")||has("ie")>8)&&h){h++;}}for(i=0;(n=_5a1[i]);i++){if(_5a2[i]!=h){n.firstChild.style.height=h+"px";}}},resetHeaderNodeHeight:function(){for(var i=0,v,n;(v=this.views[i]);i++){n=v.headerContentNode.firstChild;if(n){n.style.height="";}}},renormalizeRow:function(_5a3){var _5a4=[];for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_5a3));i++){n.firstChild.style.height="";_5a4.push(n);}this.normalizeRowNodeHeights(_5a4);},getViewWidth:function(_5a5){return this.views[_5a5].getWidth()||this.defaultWidth;},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(_5a6){_5a6.headerContentNode.style.height="";});var h=0;this.forEach(function(_5a7){h=Math.max(_5a7.headerNode.offsetHeight,h);});return h;},measureContent:function(){var h=0;this.forEach(function(_5a8){h=Math.max(_5a8.domNode.offsetHeight,h);});return h;},findClient:function(_5a9){var c=this.grid.elasticView||-1;if(c<0){for(var i=1,v;(v=this.views[i]);i++){if(v.viewWidth){for(i=1;(v=this.views[i]);i++){if(!v.viewWidth){c=i;break;}}break;}}}if(c<0){c=Math.floor(this.views.length/2);}return c;},arrange:function(l,w){var i,v,vw,len=this.views.length,self=this;var c=(w<=0?len:this.findClient());var _5aa=function(v,l){var ds=v.domNode.style;var hs=v.headerNode.style;if(!self.grid.isLeftToRight()){ds.right=l+"px";if(has("ff")<4){hs.right=l+v.getScrollbarWidth()+"px";}else{hs.right=l+"px";}if(!has("webkit")&&hs.width!="auto"){hs.width=parseInt(hs.width,10)-v.getScrollbarWidth()+"px";}}else{ds.left=l+"px";hs.left=l+"px";}ds.top=0+"px";hs.top=0;};for(i=0;(v=this.views[i])&&(i<c);i++){vw=this.getViewWidth(i);v.setSize(vw,0);_5aa(v,l);if(v.headerContentNode&&v.headerContentNode.firstChild){vw=v.getColumnsWidth()+v.getScrollbarWidth();}else{vw=v.domNode.offsetWidth;}l+=vw;}i++;var r=w;for(var j=len-1;(v=this.views[j])&&(i<=j);j--){vw=this.getViewWidth(j);v.setSize(vw,0);vw=v.domNode.offsetWidth;r-=vw;_5aa(v,r);}if(c<len){v=this.views[c];vw=Math.max(1,r-l);v.setSize(vw+"px",0);_5aa(v,l);}return l;},renderRow:function(_5ab,_5ac,_5ad){var _5ae=[];for(var i=0,v,n,_5af;(v=this.views[i])&&(n=_5ac[i]);i++){_5af=v.renderRow(_5ab);n.appendChild(_5af);_5ae.push(_5af);}if(!_5ad){this.normalizeRowNodeHeights(_5ae);}},rowRemoved:function(_5b0){this.onEach("rowRemoved",[_5b0]);},updateRow:function(_5b1,_5b2){for(var i=0,v;v=this.views[i];i++){v.updateRow(_5b1);}if(!_5b2){this.renormalizeRow(_5b1);}},updateRowStyles:function(_5b3){this.onEach("updateRowStyles",[_5b3]);},setScrollTop:function(_5b4){var top=_5b4;for(var i=0,v;v=this.views[i];i++){top=v.setScrollTop(_5b4);if(has("ie")&&v.headerNode&&v.scrollboxNode){v.headerNode.scrollLeft=v.scrollboxNode.scrollLeft;}}return top;},getFirstScrollingView:function(){for(var i=0,v;(v=this.views[i]);i++){if(v.hasHScrollbar()||v.hasVScrollbar()){return v;}}return null;}});});},"dojox/grid/_RowManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class"],function(_5b5,lang,_5b6){var _5b7=function(_5b8,_5b9){if(_5b8.style.cssText==undefined){_5b8.setAttribute("style",_5b9);}else{_5b8.style.cssText=_5b9;}};return _5b5("dojox.grid._RowManager",null,{constructor:function(_5ba){this.grid=_5ba;},linesToEms:2,overRow:-2,prepareStylingRow:function(_5bb,_5bc){return {index:_5bb,node:_5bc,odd:Boolean(_5bb&1),selected:!!this.grid.selection.isSelected(_5bb),over:this.isOver(_5bb),customStyles:"",customClasses:"dojoxGridRow"};},styleRowNode:function(_5bd,_5be){var row=this.prepareStylingRow(_5bd,_5be);this.grid.onStyleRow(row);this.applyStyles(row);},applyStyles:function(_5bf){var i=_5bf;i.node.className=i.customClasses;var h=i.node.style.height;_5b7(i.node,i.customStyles+";"+(i.node._style||""));i.node.style.height=h;},updateStyles:function(_5c0){this.grid.updateRowStyles(_5c0);},setOverRow:function(_5c1){var last=this.overRow;this.overRow=_5c1;if((last!=this.overRow)&&(lang.isString(last)||last>=0)){this.updateStyles(last);}this.updateStyles(this.overRow);},isOver:function(_5c2){return (this.overRow==_5c2&&!_5b6.contains(this.grid.domNode,"dojoxGridColumnResizing"));}});});},"dojox/grid/_FocusManager":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/query","./util","dojo/_base/html"],function(_5c3,lang,_5c4,_5c5,_5c6,has,_5c7,util,html){return _5c4("dojox.grid._FocusManager",null,{constructor:function(_5c8){this.grid=_5c8;this.cell=null;this.rowIndex=-1;this._connects=[];this._headerConnects=[];this.headerMenu=this.grid.headerMenu;this._connects.push(_5c5.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(_5c5.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(_5c5.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));this._connects.push(_5c5.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));this._connects.push(_5c5.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));this._connects.push(_5c5.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(_5c5.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(_5c5.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(_5c5.connect(this.grid,"postrender",this,"_delayedHeaderFocus"));},destroy:function(){_5c3.forEach(this._connects,_5c5.disconnect);_5c3.forEach(this._headerConnects,_5c5.disconnect);delete this.grid;delete this.cell;},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:false,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._initColumnHeaders();},isFocusCell:function(_5c9,_5ca){return (this.cell==_5c9)&&(this.rowIndex==_5ca);},isLastFocusCell:function(){if(this.cell){return (this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);}return false;},isFirstFocusCell:function(){if(this.cell){return (this.rowIndex===0)&&(this.cell.index===0);}return false;},isNoFocusCell:function(){return (this.rowIndex<0)||!this.cell;},isNavHeader:function(){return (!!this._colHeadNode);},getHeaderIndex:function(){if(this._colHeadNode){return _5c3.indexOf(this._findHeaderCells(),this._colHeadNode);}else{return -1;}},_focusifyCellNode:function(_5cb){var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){html.toggleClass(n,this.focusClass,_5cb);if(_5cb){var sl=this.scrollIntoView();try{if(has("webkit")||!this.grid.edit.isEditing()){util.fire(n,"focus");if(sl){this.cell.view.scrollboxNode.scrollLeft=sl;}}}catch(e){}}}},_delayedCellFocus:function(){if(this.isNavHeader()||!this.grid.focused){return;}var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){try{if(!this.grid.edit.isEditing()){html.toggleClass(n,this.focusClass,true);if(this._colHeadNode){this.blurHeader();}util.fire(n,"focus");}}catch(e){}}},_delayedHeaderFocus:function(){if(this.isNavHeader()){this.focusHeader();}},_initColumnHeaders:function(){_5c3.forEach(this._headerConnects,_5c5.disconnect);this._headerConnects=[];var _5cc=this._findHeaderCells();for(var i=0;i<_5cc.length;i++){this._headerConnects.push(_5c5.connect(_5cc[i],"onfocus",this,"doColHeaderFocus"));this._headerConnects.push(_5c5.connect(_5cc[i],"onblur",this,"doColHeaderBlur"));}},_findHeaderCells:function(){var _5cd=_5c7("th",this.grid.viewsHeaderNode);var _5ce=[];for(var i=0;i<_5cd.length;i++){var _5cf=_5cd[i];var _5d0=html.hasAttr(_5cf,"tabIndex");var _5d1=html.attr(_5cf,"tabIndex");if(_5d0&&_5d1<0){_5ce.push(_5cf);}}return _5ce;},_setActiveColHeader:function(_5d2,_5d3,_5d4){this.grid.domNode.setAttribute("aria-activedescendant",_5d2.id);if(_5d4!=null&&_5d4>=0&&_5d4!=_5d3){html.toggleClass(this._findHeaderCells()[_5d4],this.focusClass,false);}html.toggleClass(_5d2,this.focusClass,true);this._colHeadNode=_5d2;this._colHeadFocusIdx=_5d3;this._scrollHeader(this._colHeadFocusIdx);},scrollIntoView:function(){var info=(this.cell?this._scrollInfo(this.cell):null);if(!info||!info.s){return null;}var rt=this.grid.scroller.findScrollTop(this.rowIndex);if(info.n&&info.sr){if(info.n.offsetLeft+info.n.offsetWidth>info.sr.l+info.sr.w){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}}}if(info.r&&info.sr){if(rt+info.r.offsetHeight>info.sr.t+info.sr.h){this.grid.setScrollTop(rt+info.r.offsetHeight-info.sr.h);}else{if(rt<info.sr.t){this.grid.setScrollTop(rt);}}}return info.s.scrollLeft;},_scrollInfo:function(cell,_5d5){if(cell){var cl=cell,sbn=cl.view.scrollboxNode,sbnr={w:sbn.clientWidth,l:sbn.scrollLeft,t:sbn.scrollTop,h:sbn.clientHeight},rn=cl.view.getRowNode(this.rowIndex);return {c:cl,s:sbn,sr:sbnr,n:(_5d5?_5d5:cell.getNode(this.rowIndex)),r:rn};}return null;},_scrollHeader:function(_5d6){var info=null;if(this._colHeadNode){var cell=this.grid.getCell(_5d6);if(!cell){return;}info=this._scrollInfo(cell,cell.getNode(0));}if(info&&info.s&&info.sr&&info.n){var _5d7=info.sr.l+info.sr.w;if(info.n.offsetLeft+info.n.offsetWidth>_5d7){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}else{if(has("ie")<=7&&cell&&cell.view.headerNode){cell.view.headerNode.scrollLeft=info.s.scrollLeft;}}}}},_isHeaderHidden:function(){var _5d8=this.focusView;if(!_5d8){for(var i=0,_5d9;(_5d9=this.grid.views.views[i]);i++){if(_5d9.headerNode){_5d8=_5d9;break;}}}return (_5d8&&html.getComputedStyle(_5d8.headerNode).display=="none");},colSizeAdjust:function(e,_5da,_5db){var _5dc=this._findHeaderCells();var view=this.focusView;if(!view||!view.header.tableMap.map){for(var i=0,_5dd;(_5dd=this.grid.views.views[i]);i++){if(_5dd.header.tableMap.map){view=_5dd;break;}}}var _5de=_5dc[_5da];if(!view||(_5da==_5dc.length-1&&_5da===0)){return;}view.content.baseDecorateEvent(e);e.cellNode=_5de;e.cellIndex=view.content.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);if(view.header.canResize(e)){var _5df={l:_5db};var drag=view.header.colResizeSetup(e,false);view.header.doResizeColumn(drag,null,_5df);view.update();}},styleRow:function(_5e0){return;},setFocusIndex:function(_5e1,_5e2){this.setFocusCell(this.grid.getCell(_5e2),_5e1);},setFocusCell:function(_5e3,_5e4){if(_5e3&&!this.isFocusCell(_5e3,_5e4)){this.tabbingOut=false;if(this._colHeadNode){this.blurHeader();}this._colHeadNode=this._colHeadFocusIdx=null;this.focusGridView();this._focusifyCellNode(false);this.cell=_5e3;this.rowIndex=_5e4;this._focusifyCellNode(true);}if(has("opera")){setTimeout(lang.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);}else{this.grid.onCellFocus(this.cell,this.rowIndex);}},next:function(){if(this.cell){var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;if(col>cc){col=0;row++;}if(row>rc){col=cc;row=rc;}if(this.grid.edit.isEditing()){var _5e5=this.grid.getCell(col);if(!this.isLastFocusCell()&&(!_5e5.editable||this.grid.canEdit&&!this.grid.canEdit(_5e5,row))){this.cell=_5e5;this.rowIndex=row;this.next();return;}}this.setFocusIndex(row,col);}},previous:function(){if(this.cell){var row=(this.rowIndex||0),col=(this.cell.index||0)-1;if(col<0){col=this.grid.layout.cellCount-1;row--;}if(row<0){row=0;col=0;}if(this.grid.edit.isEditing()){var _5e6=this.grid.getCell(col);if(!this.isFirstFocusCell()&&!_5e6.editable){this.cell=_5e6;this.rowIndex=row;this.previous();return;}}this.setFocusIndex(row,col);}},move:function(_5e7,_5e8){var _5e9=_5e8<0?-1:1;if(this.isNavHeader()){var _5ea=this._findHeaderCells();var _5eb=currentIdx=_5c3.indexOf(_5ea,this._colHeadNode);currentIdx+=_5e8;while(currentIdx>=0&&currentIdx<_5ea.length&&_5ea[currentIdx].style.display=="none"){currentIdx+=_5e9;}if((currentIdx>=0)&&(currentIdx<_5ea.length)){this._setActiveColHeader(_5ea[currentIdx],currentIdx,_5eb);}}else{if(this.cell){var sc=this.grid.scroller,r=this.rowIndex,rc=this.grid.rowCount-1,row=Math.min(rc,Math.max(0,r+_5e7));if(_5e7){if(_5e7>0){if(row>sc.getLastPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop+sc.findScrollTop(row)-sc.findScrollTop(r));}}else{if(_5e7<0){if(row<=sc.getPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop-sc.findScrollTop(r)-sc.findScrollTop(row));}}}}var cc=this.grid.layout.cellCount-1,i=this.cell.index,col=Math.min(cc,Math.max(0,i+_5e8));var cell=this.grid.getCell(col);while(col>=0&&col<cc&&cell&&cell.hidden===true){col+=_5e9;cell=this.grid.getCell(col);}if(!cell||cell.hidden===true){col=i;}var n=cell.getNode(row);if(!n&&_5e7){if((row+_5e7)>=0&&(row+_5e7)<=rc){this.move(_5e7>0?++_5e7:--_5e7,_5e8);}return;}else{if((!n||html.style(n,"display")==="none")&&_5e8){if((col+_5e8)>=0&&(col+_5e8)<=cc){this.move(_5e7,_5e8>0?++_5e8:--_5e8);}return;}}this.setFocusIndex(row,col);if(_5e7){this.grid.updateRow(r);}}}},previousKey:function(e){if(this.grid.edit.isEditing()){_5c6.stop(e);this.previous();}else{if(!this.isNavHeader()&&!this._isHeaderHidden()){this.grid.domNode.focus();_5c6.stop(e);}else{this.tabOut(this.grid.domNode);if(this._colHeadFocusIdx!=null){html.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,false);this._colHeadFocusIdx=null;}this._focusifyCellNode(false);}}},nextKey:function(e){var _5ec=(this.grid.rowCount===0);if(e.target===this.grid.domNode&&this._colHeadFocusIdx==null){this.focusHeader();_5c6.stop(e);}else{if(this.isNavHeader()){this.blurHeader();if(!this.findAndFocusGridCell()){this.tabOut(this.grid.lastFocusNode);}this._colHeadNode=this._colHeadFocusIdx=null;}else{if(this.grid.edit.isEditing()){_5c6.stop(e);this.next();}else{this.tabOut(this.grid.lastFocusNode);}}}},tabOut:function(_5ed){this.tabbingOut=true;_5ed.focus();},focusGridView:function(){util.fire(this.focusView,"focus");},focusGrid:function(_5ee){this.focusGridView();this._focusifyCellNode(true);},findAndFocusGridCell:function(){var _5ef=true;var _5f0=(this.grid.rowCount===0);if(this.isNoFocusCell()&&!_5f0){var _5f1=0;var cell=this.grid.getCell(_5f1);if(cell.hidden){_5f1=this.isNavHeader()?this._colHeadFocusIdx:0;}this.setFocusIndex(0,_5f1);}else{if(this.cell&&!_5f0){if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){this.grid.scrollToRow(this.rowIndex);}this.focusGrid();}else{_5ef=false;}}this._colHeadNode=this._colHeadFocusIdx=null;return _5ef;},focusHeader:function(){var _5f2=this._findHeaderCells();var _5f3=this._colHeadFocusIdx;if(this._isHeaderHidden()){this.findAndFocusGridCell();}else{if(!this._colHeadFocusIdx){if(this.isNoFocusCell()){this._colHeadFocusIdx=0;}else{this._colHeadFocusIdx=this.cell.index;}}}this._colHeadNode=_5f2[this._colHeadFocusIdx];while(this._colHeadNode&&this._colHeadFocusIdx>=0&&this._colHeadFocusIdx<_5f2.length&&this._colHeadNode.style.display=="none"){this._colHeadFocusIdx++;this._colHeadNode=_5f2[this._colHeadFocusIdx];}if(this._colHeadNode&&this._colHeadNode.style.display!="none"){if(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode){this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode);this.headerMenu.bindDomNode(this.grid.domNode);this._contextMenuBindNode=this.grid.domNode;}this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,_5f3);this._scrollHeader(this._colHeadFocusIdx);this._focusifyCellNode(false);}else{this.findAndFocusGridCell();}},blurHeader:function(){html.removeClass(this._colHeadNode,this.focusClass);html.removeAttr(this.grid.domNode,"aria-activedescendant");if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){var _5f4=this.grid.viewsHeaderNode;this.headerMenu.unBindDomNode(this.grid.domNode);this.headerMenu.bindDomNode(_5f4);this._contextMenuBindNode=_5f4;}},doFocus:function(e){if(e&&e.target!=e.currentTarget){_5c6.stop(e);return;}if(this._clickFocus){return;}if(!this.tabbingOut){this.focusHeader();}this.tabbingOut=false;_5c6.stop(e);},doBlur:function(e){_5c6.stop(e);},doContextMenu:function(e){if(!this.headerMenu){_5c6.stop(e);}},doLastNodeFocus:function(e){if(this.tabbingOut){this._focusifyCellNode(false);}else{if(this.grid.rowCount>0){if(this.isNoFocusCell()){this.setFocusIndex(0,0);}this._focusifyCellNode(true);}else{this.focusHeader();}}this.tabbingOut=false;_5c6.stop(e);},doLastNodeBlur:function(e){_5c6.stop(e);},doColHeaderFocus:function(e){this._setActiveColHeader(e.target,html.attr(e.target,"idx"),this._colHeadFocusIdx);this._scrollHeader(this.getHeaderIndex());_5c6.stop(e);},doColHeaderBlur:function(e){html.toggleClass(e.target,this.focusClass,false);},_mouseDown:function(e){this._clickFocus=dojo.some(this.grid.views.views,function(v){return v.scrollboxNode===e.target;});},_mouseUp:function(e){this._clickFocus=false;}});});},"dojox/grid/_EditManager":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect","dojo/_base/sniff","./util"],function(lang,_5f5,_5f6,_5f7,has,util){return _5f6("dojox.grid._EditManager",null,{constructor:function(_5f8){this.grid=_5f8;this.connections=!has("ie")?[]:[_5f7.connect(document.body,"onfocus",lang.hitch(this,"_boomerangFocus"))];this.connections.push(_5f7.connect(this.grid,"onBlur",this,"apply"));this.connections.push(_5f7.connect(this.grid,"prerender",this,"_onPreRender"));},info:{},destroy:function(){_5f5.forEach(this.connections,_5f7.disconnect);},cellFocus:function(_5f9,_5fa){if(this.grid.singleClickEdit||this.isEditRow(_5fa)){this.setEditCell(_5f9,_5fa);}else{this.apply();}if(this.isEditing()||(_5f9&&_5f9.editable&&_5f9.alwaysEditing)){this._focusEditor(_5f9,_5fa);}},rowClick:function(e){if(this.isEditing()&&!this.isEditRow(e.rowIndex)){this.apply();}},styleRow:function(_5fb){if(_5fb.index==this.info.rowIndex){_5fb.customClasses+=" dojoxGridRowEditing";}},dispatchEvent:function(e){var c=e.cell,ed=(c&&c["editable"])?c:0;return ed&&ed.dispatchEvent(e.dispatch,e);},isEditing:function(){return this.info.rowIndex!==undefined;},isEditCell:function(_5fc,_5fd){return (this.info.rowIndex===_5fc)&&(this.info.cell.index==_5fd);},isEditRow:function(_5fe){return this.info.rowIndex===_5fe;},setEditCell:function(_5ff,_600){if(!this.isEditCell(_600,_5ff.index)&&this.grid.canEdit&&this.grid.canEdit(_5ff,_600)){this.start(_5ff,_600,this.isEditRow(_600)||_5ff.editable);}},_focusEditor:function(_601,_602){util.fire(_601,"focus",[_602]);},focusEditor:function(){if(this.isEditing()){this._focusEditor(this.info.cell,this.info.rowIndex);}},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>new Date().getTime();},_boomerangFocus:function(){if(this._shouldCatchBoomerang()){this.grid.focus.focusGrid();this.focusEditor();this._catchBoomerang=0;}},_doCatchBoomerang:function(){if(has("ie")){this._catchBoomerang=new Date().getTime()+this._boomerangWindow;}},start:function(_603,_604,_605){if(!this._isValidInput()){return;}this.grid.beginUpdate();this.editorApply();if(this.isEditing()&&!this.isEditRow(_604)){this.applyRowEdit();this.grid.updateRow(_604);}if(_605){this.info={cell:_603,rowIndex:_604};this.grid.doStartEdit(_603,_604);this.grid.updateRow(_604);}else{this.info={};}this.grid.endUpdate();this.grid.focus.focusGrid();this._focusEditor(_603,_604);this._doCatchBoomerang();},_editorDo:function(_606){var c=this.info.cell;if(c&&c.editable){c[_606](this.info.rowIndex);}},editorApply:function(){this._editorDo("apply");},editorCancel:function(){this._editorDo("cancel");},applyCellEdit:function(_607,_608,_609){if(this.grid.canEdit(_608,_609)){this.grid.doApplyCellEdit(_607,_609,_608.field);}},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field);},apply:function(){if(this.isEditing()&&this._isValidInput()){this.grid.beginUpdate();this.editorApply();this.applyRowEdit();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},cancel:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorCancel();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},save:function(_60a,_60b){var c=this.info.cell;if(this.isEditRow(_60a)&&(!_60b||c.view==_60b)&&c.editable){c.save(c,this.info.rowIndex);}},restore:function(_60c,_60d){var c=this.info.cell;if(this.isEditRow(_60d)&&c.view==_60c&&c.editable){c.restore(this.info.rowIndex);}},_isValidInput:function(){var w=(this.info.cell||{}).widget;if(!w||!w.isValid){return true;}w.focused=true;return w.isValid(true);},_onPreRender:function(){if(this.isEditing()){this.info.value=this.info.cell.getValue();}}});});},"dojox/grid/Selection":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr"],function(_60e,_60f,lang,_610){return _60e("dojox.grid.Selection",null,{constructor:function(_611){this.grid=_611;this.selected=[];this.setMode(_611.selectionMode);},mode:"extended",selected:null,updating:0,selectedIndex:-1,rangeStartIndex:-1,setMode:function(mode){if(this.selected.length){this.deselectAll();}if(mode!="extended"&&mode!="multiple"&&mode!="single"&&mode!="none"){this.mode="extended";}else{this.mode=mode;}},onCanSelect:function(_612){return this.grid.onCanSelect(_612);},onCanDeselect:function(_613){return this.grid.onCanDeselect(_613);},onSelected:function(_614){},onDeselected:function(_615){},onChanging:function(){},onChanged:function(){},isSelected:function(_616){if(this.mode=="none"){return false;}return this.selected[_616];},getFirstSelected:function(){if(!this.selected.length||this.mode=="none"){return -1;}for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getNextSelected:function(_617){if(this.mode=="none"){return -1;}for(var i=_617+1,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getSelected:function(){var _618=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_618.push(i);}}return _618;},getSelectedCount:function(){var c=0;for(var i=0;i<this.selected.length;i++){if(this.selected[i]){c++;}}return c;},_beginUpdate:function(){if(this.updating===0){this.onChanging();}this.updating++;},_endUpdate:function(){this.updating--;if(this.updating===0){this.onChanged();}},select:function(_619){if(this.mode=="none"){return;}if(this.mode!="multiple"){this.deselectAll(_619);this.addToSelection(_619);}else{this.toggleSelect(_619);}},addToSelection:function(_61a){if(this.mode=="none"){return;}if(lang.isArray(_61a)){_60f.forEach(_61a,this.addToSelection,this);return;}_61a=Number(_61a);if(this.selected[_61a]){this.selectedIndex=_61a;}else{if(this.onCanSelect(_61a)!==false){this.selectedIndex=_61a;var _61b=this.grid.getRowNode(_61a);if(_61b){_610.set(_61b,"aria-selected","true");}this._beginUpdate();this.selected[_61a]=true;this.onSelected(_61a);this._endUpdate();}}},deselect:function(_61c){if(this.mode=="none"){return;}if(lang.isArray(_61c)){_60f.forEach(_61c,this.deselect,this);return;}_61c=Number(_61c);if(this.selectedIndex==_61c){this.selectedIndex=-1;}if(this.selected[_61c]){if(this.onCanDeselect(_61c)===false){return;}var _61d=this.grid.getRowNode(_61c);if(_61d){_610.set(_61d,"aria-selected","false");}this._beginUpdate();delete this.selected[_61c];this.onDeselected(_61c);this._endUpdate();}},setSelected:function(_61e,_61f){this[(_61f?"addToSelection":"deselect")](_61e);},toggleSelect:function(_620){if(lang.isArray(_620)){_60f.forEach(_620,this.toggleSelect,this);return;}this.setSelected(_620,!this.selected[_620]);},_range:function(_621,inTo,func){var s=(_621>=0?_621:inTo),e=inTo;if(s>e){e=s;s=inTo;}for(var i=s;i<=e;i++){func(i);}},selectRange:function(_622,inTo){this._range(_622,inTo,lang.hitch(this,"addToSelection"));},deselectRange:function(_623,inTo){this._range(_623,inTo,lang.hitch(this,"deselect"));},insert:function(_624){this.selected.splice(_624,0,false);if(this.selectedIndex>=_624){this.selectedIndex++;}},remove:function(_625){this.selected.splice(_625,1);if(this.selectedIndex>=_625){this.selectedIndex--;}},deselectAll:function(_626){for(var i in this.selected){if((i!=_626)&&(this.selected[i]===true)){this.deselect(i);}}},clickSelect:function(_627,_628,_629){if(this.mode=="none"){return;}this._beginUpdate();if(this.mode!="extended"){this.select(_627);}else{if(!_629||this.rangeStartIndex<0){this.rangeStartIndex=_627;}if(!_628){this.deselectAll(_627);}if(_629){this.selectRange(this.rangeStartIndex,_627);}else{if(_628){this.toggleSelect(_627);}else{this.addToSelection(_627);}}}this._endUpdate();},clickSelectEvent:function(e){this.clickSelect(e.rowIndex,dojo.isCopyKey(e),e.shiftKey);},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate();}});});},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_62a,_62b,_62c,_62d){return _62a("dijit.CheckedMenuItem",_62c,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:_62d,checked:false,_setCheckedAttr:function(_62e){this.domNode.setAttribute("aria-checked",_62e?"true":"false");this._set("checked",_62e);},iconClass:"",role:"menuitemcheckbox",checkedChar:"&#10003;",onChange:function(){},_onClick:function(evt){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.onClick(evt);}});});},"dijit/MenuItem":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_62f,dom,_630,_631,_632,has,lang,_633,_634,_635,_636,_637){var _638=_62f("dijit.MenuItem"+(has("dojo-bidi")?"_NoBidi":""),[_633,_634,_635,_636],{templateString:_637,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this._set("label",val);var _639="";var text;var ndx=val.search(/{\S}/);if(ndx>=0){_639=val.charAt(ndx+1);var _63a=val.substr(0,ndx);var _63b=val.substr(ndx+3);text=_63a+_639+_63b;val=_63a+"<span class=\"dijitMenuItemShortcutKey\">"+_639+"</span>"+_63b;}else{text=val;}this.domNode.setAttribute("aria-label",text+" "+this.accelKey);this.containerNode.innerHTML=val;this._set("shortcutKey",_639);},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_63c){if(_63c&&!("label" in this.params)){this._set("label",_63c.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _63d=this.id+"_text";_630.set(this.containerNode,"id",_63d);if(this.accelKeyNode){_630.set(this.accelKeyNode,"id",this.id+"_accel");}dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_setSelected:function(_63e){_631.toggle(this.domNode,"dijitMenuItemSelected",_63e);},setLabel:function(_63f){_632.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_63f);},setDisabled:function(_640){_632.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_640);},_setDisabledAttr:function(_641){this.focusNode.setAttribute("aria-disabled",_641?"true":"false");this._set("disabled",_641);},_setAccelKeyAttr:function(_642){if(this.accelKeyNode){this.accelKeyNode.style.display=_642?"":"none";this.accelKeyNode.innerHTML=_642;_630.set(this.containerNode,"colSpan",_642?"1":"2");}this._set("accelKey",_642);}});if(has("dojo-bidi")){_638=_62f("dijit.MenuItem",_638,{_setLabelAttr:function(val){this.inherited(arguments);if(this.textDir==="auto"){this.applyTextDir(this.textDirNode);}}});}return _638;});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_643,_644){return _643("dijit._Contained",null,{_getSibling:function(_645){var node=this.domNode;do{node=node[_645+"Sibling"];}while(node&&node.nodeType!=1);return node&&_644.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(_646,_647,dom,_648,has,lang,on,_649,_64a,win,_64b,_64c){var _64d=_647("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_646.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes||{}){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_64e){if(!this.disabled){switch(_64e.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",true);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",false);break;}}},_setStateClass:function(){var _64f=this.baseClass.split(" ");function _650(_651){_64f=_64f.concat(_646.map(_64f,function(c){return c+_651;}),"dijit"+_651);};if(!this.isLeftToRight()){_650("Rtl");}var _652=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_650(_652);}if(this.state){_650(this.state);}if(this.selected){_650("Selected");}if(this._opened){_650("Opened");}if(this.disabled){_650("Disabled");}else{if(this.readOnly){_650("ReadOnly");}else{if(this.active){_650("Active");}else{if(this.hovering){_650("Hover");}}}}if(this.focused){_650("Focused");}var tn=this.stateNode||this.domNode,_653={};_646.forEach(tn.className.split(" "),function(c){_653[c]=true;});if("_stateClasses" in this){_646.forEach(this._stateClasses,function(c){delete _653[c];});}_646.forEach(_64f,function(c){_653[c]=true;});var _654=[];for(var c in _653){_654.push(c);}tn.className=_654.join(" ");this._stateClasses=_64f;},_subnodeCssMouseEvent:function(node,_655,evt){if(this.disabled||this.readOnly){return;}function _656(_657){_648.toggle(node,_655+"Hover",_657);};function _658(_659){_648.toggle(node,_655+"Active",_659);};function _65a(_65b){_648.toggle(node,_655+"Focused",_65b);};switch(evt.type){case "mouseover":case "MSPointerOver":case "pointerover":_656(true);break;case "mouseout":case "MSPointerOut":case "pointerout":_656(false);_658(false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":_658(true);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":_658(false);break;case "focus":case "focusin":_65a(true);break;case "blur":case "focusout":_65a(false);break;}},_trackMouseState:function(node,_65c){node._cssState=_65c;}});_649(function(){function _65d(evt,_65e,_65f){if(_65f&&dom.isDescendant(_65f,_65e)){return;}for(var node=_65e;node&&node!=_65f;node=node.parentNode){if(node._cssState){var _660=_64c.getEnclosingWidget(node);if(_660){if(node==_660.domNode){_660._cssMouseEvent(evt);}else{_660._subnodeCssMouseEvent(node,node._cssState,evt);}}}}};var body=win.body(),_661;on(body,_64a.over,function(evt){_65d(evt,evt.target,evt.relatedTarget);});on(body,_64a.out,function(evt){_65d(evt,evt.target,evt.relatedTarget);});on(body,_64b.press,function(evt){_661=evt.target;_65d(evt,_661);});on(body,_64b.release,function(evt){_65d(evt,_661);_661=null;});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _662=_64c.getEnclosingWidget(node);if(_662){_662._subnodeCssMouseEvent(node,node._cssState,evt);}}});});return _64d;});},"dojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(dojo,_663,has,_664,_665,lang,xhr,json,_666){has.add("dojo-preload-i18n-Api",1);1||has.add("dojo-v1x-i18n-Api",1);var _667=dojo.i18n={},_668=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_669=function(root,_66a,_66b,_66c){for(var _66d=[_66b+_66c],_66e=_66a.split("-"),_66f="",i=0;i<_66e.length;i++){_66f+=(_66f?"-":"")+_66e[i];if(!root||root[_66f]){_66d.push(_66b+_66f+"/"+_66c);_66d.specificity=_66f;}}return _66d;},_670={},_671=function(_672,_673,_674){_674=_674?_674.toLowerCase():dojo.locale;_672=_672.replace(/\./g,"/");_673=_673.replace(/\./g,"/");return (/root/i.test(_674))?(_672+"/nls/"+_673):(_672+"/nls/"+_674+"/"+_673);},_675=dojo.getL10nName=function(_676,_677,_678){return _676=_666.id+"!"+_671(_676,_677,_678);},_679=function(_67a,_67b,_67c,_67d,_67e,load){_67a([_67b],function(root){var _67f=lang.clone(root.root||root.ROOT),_680=_669(!root._v1x&&root,_67e,_67c,_67d);_67a(_680,function(){for(var i=1;i<_680.length;i++){_67f=lang.mixin(lang.clone(_67f),arguments[i]);}var _681=_67b+"/"+_67e;_670[_681]=_67f;_67f.$locale=_680.specificity;load();});});},_682=function(id,_683){return /^\./.test(id)?_683(id):id;},_684=function(_685){var list=_665.extraLocale||[];list=lang.isArray(list)?list:[list];list.push(_685);return list;},load=function(id,_686,load){if(has("dojo-preload-i18n-Api")){var _687=id.split("*"),_688=_687[1]=="preload";if(_688){if(!_670[id]){_670[id]=1;_689(_687[2],json.parse(_687[3]),1,_686);}load(1);}if(_688||_68a(id,_686,load)){return;}}var _68b=_668.exec(id),_68c=_68b[1]+"/",_68d=_68b[5]||_68b[4],_68e=_68c+_68d,_68f=(_68b[5]&&_68b[4]),_690=_68f||dojo.locale||"",_691=_68e+"/"+_690,_692=_68f?[_690]:_684(_690),_693=_692.length,_694=function(){if(!--_693){load(lang.delegate(_670[_691]));}};_664.forEach(_692,function(_695){var _696=_68e+"/"+_695;if(has("dojo-preload-i18n-Api")){_697(_696);}if(!_670[_696]){_679(_686,_68e,_68c,_68d,_695,_694);}else{_694();}});};if(has("dojo-unit-tests")){var _698=_667.unitTests=[];}if(has("dojo-preload-i18n-Api")||1){var _699=_667.normalizeLocale=function(_69a){var _69b=_69a?_69a.toLowerCase():dojo.locale;return _69b=="root"?"ROOT":_69b;},isXd=function(mid,_69c){return (1&&1)?_69c.isXdUrl(_663.toUrl(mid+".js")):true;},_69d=0,_69e=[],_689=_667._preloadLocalizations=function(_69f,_6a0,_6a1,_6a2){_6a2=_6a2||_663;function _6a3(mid,_6a4){if(isXd(mid,_6a2)||_6a1){_6a2([mid],_6a4);}else{_6be([mid],_6a4,_6a2);}};function _6a5(_6a6,func){var _6a7=_6a6.split("-");while(_6a7.length){if(func(_6a7.join("-"))){return;}_6a7.pop();}func("ROOT");};function _6a8(){_69d++;};function _6a9(){--_69d;while(!_69d&&_69e.length){load.apply(null,_69e.shift());}};function _6aa(path,name,loc,_6ab){return _6ab.toAbsMid(path+name+"/"+loc);};function _6ac(_6ad){_6ad=_699(_6ad);_6a5(_6ad,function(loc){if(_664.indexOf(_6a0,loc)>=0){var mid=_69f.replace(/\./g,"/")+"_"+loc;_6a8();_6a3(mid,function(_6ae){for(var p in _6ae){var _6af=_6ae[p],_6b0=p.match(/(.+)\/([^\/]+)$/),_6b1,_6b2;if(!_6b0){continue;}_6b1=_6b0[2];_6b2=_6b0[1]+"/";_6af._localized=_6af._localized||{};var _6b3;if(loc==="ROOT"){var root=_6b3=_6af._localized;delete _6af._localized;root.root=_6af;_670[_663.toAbsMid(p)]=root;}else{_6b3=_6af._localized;_670[_6aa(_6b2,_6b1,loc,_663)]=_6af;}if(loc!==_6ad){function _6b4(_6b5,_6b6,_6b7,_6b8){var _6b9=[],_6ba=[];_6a5(_6ad,function(loc){if(_6b8[loc]){_6b9.push(_663.toAbsMid(_6b5+loc+"/"+_6b6));_6ba.push(_6aa(_6b5,_6b6,loc,_663));}});if(_6b9.length){_6a8();_6a2(_6b9,function(){for(var i=0;i<_6b9.length;i++){_6b7=lang.mixin(lang.clone(_6b7),arguments[i]);_670[_6ba[i]]=_6b7;}_670[_6aa(_6b5,_6b6,_6ad,_663)]=lang.clone(_6b7);_6a9();});}else{_670[_6aa(_6b5,_6b6,_6ad,_663)]=_6b7;}};_6b4(_6b2,_6b1,_6af,_6b3);}}_6a9();});return true;}return false;});};_6ac();_664.forEach(dojo.config.extraLocale,_6ac);},_68a=function(id,_6bb,load){if(_69d){_69e.push([id,_6bb,load]);}return _69d;},_697=function(){};}if(1){var _6bc={},_6bd=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},"+"\t   require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return __amdValue;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_6be=function(deps,_6bf,_6c0){var _6c1=[];_664.forEach(deps,function(mid){var url=_6c0.toUrl(mid+".js");function load(text){var _6c2=_6bd(text,_697,mid,_6bc);if(_6c2===_6bc){_6c1.push(_670[url]=_6bc.result);}else{if(_6c2 instanceof Error){console.error("failed to evaluate i18n bundle; url="+url,_6c2);_6c2={};}_6c1.push(_670[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_6c2:{root:_6c2,_v1x:1}));}};if(_670[url]){_6c1.push(_670[url]);}else{var _6c3=_6c0.syncLoadNls(mid);if(_6c3){_6c1.push(_6c3);}else{if(!xhr){try{_6c0.getText(url,true,load);}catch(e){_6c1.push(_670[url]={});}}else{xhr.get({url:url,sync:true,load:load,error:function(){_6c1.push(_670[url]={});}});}}}});_6bf&&_6bf.apply(null,_6c1);};_697=function(_6c4){for(var _6c5,_6c6=_6c4.split("/"),_6c7=dojo.global[_6c6[0]],i=1;_6c7&&i<_6c6.length-1;_6c7=_6c7[_6c6[i++]]){}if(_6c7){_6c5=_6c7[_6c6[i]];if(!_6c5){_6c5=_6c7[_6c6[i].replace(/-/g,"_")];}if(_6c5){_670[_6c4]=_6c5;}}return _6c5;};_667.getLocalization=function(_6c8,_6c9,_6ca){var _6cb,_6cc=_671(_6c8,_6c9,_6ca);load(_6cc,(!isXd(_6cc,_663)?function(deps,_6cd){_6be(deps,_6cd,_663);}:_663),function(_6ce){_6cb=_6ce;});return _6cb;};if(has("dojo-unit-tests")){_698.push(function(doh){doh.register("tests.i18n.unit",function(t){var _6cf;_6cf=_6bd("{prop:1}",_697,"nonsense",_6bc);t.is({prop:1},_6cf);t.is(undefined,_6cf[1]);_6cf=_6bd("({prop:1})",_697,"nonsense",_6bc);t.is({prop:1},_6cf);t.is(undefined,_6cf[1]);_6cf=_6bd("{'prop-x':1}",_697,"nonsense",_6bc);t.is({"prop-x":1},_6cf);t.is(undefined,_6cf[1]);_6cf=_6bd("({'prop-x':1})",_697,"nonsense",_6bc);t.is({"prop-x":1},_6cf);t.is(undefined,_6cf[1]);_6cf=_6bd("define({'prop-x':1})",_697,"nonsense",_6bc);t.is(_6bc,_6cf);t.is({"prop-x":1},_6bc.result);_6cf=_6bd("define('some/module', {'prop-x':1})",_697,"nonsense",_6bc);t.is(_6bc,_6cf);t.is({"prop-x":1},_6bc.result);_6cf=_6bd("this is total nonsense and should throw an error",_697,"nonsense",_6bc);t.is(_6cf instanceof Error,true);});});}}return lang.mixin(_667,{dynamic:true,normalize:_682,load:load,cache:_670,getL10nName:_675});});},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(_6d0,_6d1,_6d2){return _6d0("dojox.grid.DataSelection",_6d2,{constructor:function(grid){if(grid.keepSelection){this.preserver=new _6d1(this);}},destroy:function(){if(this.preserver){this.preserver.destroy();}},getFirstSelected:function(){var idx=_6d2.prototype.getFirstSelected.call(this);if(idx==-1){return null;}return this.grid.getItem(idx);},getNextSelected:function(_6d3){var _6d4=this.grid.getItemIndex(_6d3);var idx=_6d2.prototype.getNextSelected.call(this,_6d4);if(idx==-1){return null;}return this.grid.getItem(idx);},getSelected:function(){var _6d5=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_6d5.push(this.grid.getItem(i));}}return _6d5;},addToSelection:function(_6d6){if(this.mode=="none"){return;}var idx=null;if(typeof _6d6=="number"||typeof _6d6=="string"){idx=_6d6;}else{idx=this.grid.getItemIndex(_6d6);}_6d2.prototype.addToSelection.call(this,idx);},deselect:function(_6d7){if(this.mode=="none"){return;}var idx=null;if(typeof _6d7=="number"||typeof _6d7=="string"){idx=_6d7;}else{idx=this.grid.getItemIndex(_6d7);}_6d2.prototype.deselect.call(this,idx);},deselectAll:function(_6d8){var idx=null;if(_6d8||typeof _6d8=="number"){if(typeof _6d8=="number"||typeof _6d8=="string"){idx=_6d8;}else{idx=this.grid.getItemIndex(_6d8);}_6d2.prototype.deselectAll.call(this,idx);}else{this.inherited(arguments);}}});});},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(_6d9,_6da,lang,_6db){return _6d9("dojox.grid._SelectionPreserver",null,{constructor:function(_6dc){this.selection=_6dc;var grid=this.grid=_6dc.grid;this.reset();this._connects=[_6da.connect(grid,"_setStore",this,"reset"),_6da.connect(grid,"_addItem",this,"_reSelectById"),_6da.connect(_6dc,"onSelected",lang.hitch(this,"_selectById",true)),_6da.connect(_6dc,"onDeselected",lang.hitch(this,"_selectById",false)),_6da.connect(_6dc,"deselectAll",this,"reset")];},destroy:function(){this.reset();_6db.forEach(this._connects,_6da.disconnect);delete this._connects;},reset:function(){this._selectedById={};},_reSelectById:function(item,_6dd){if(item&&this.grid._hasIdentity){this.selection.selected[_6dd]=this._selectedById[this.grid.store.getIdentity(item)];}},_selectById:function(_6de,_6df){if(this.selection.mode=="none"||!this.grid._hasIdentity){return;}var item=_6df,g=this.grid;if(typeof _6df=="number"||typeof _6df=="string"){var _6e0=g._by_idx[_6df];item=_6e0&&_6e0.item;}if(item){this._selectedById[g.store.getIdentity(item)]=!!_6de;}return item;}});});},"dijit/form/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_6e1,_6e2,_6e3,_6e4,lang,on,has,_6e5,_6e6,_6e7,_6e8){var _6e9=_6e1("dijit.form.TextBox"+(has("dojo-bidi")?"_NoBidi":""),[_6e5,_6e6],{templateString:_6e7,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<9){this.defer(function(){try{var s=_6e3.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _6ea=this.domNode.getElementsByTagName("INPUT");if(_6ea){for(var i=0;i<_6ea.length;i++){_6ea[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_6e2.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");this.own(on(this._phspan,"mousedown",function(evt){evt.preventDefault();}),on(this._phspan,"touchend, pointerup, MSPointerUp",lang.hitch(this,function(){this.focus();})));}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_onInput:function(evt){this.inherited(arguments);this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_6eb,_6ec,_6ed){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_6e4.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_6ee){_6e4.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_6ee);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();if(has("mozilla")){if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(has("ie")<9){_6e9.prototype._isTextSelected=function(){var _6ef=this.ownerDocument.selection.createRange();var _6f0=_6ef.parentElement();return _6f0==this.textbox&&_6ef.text.length>0;};_6e8._setSelectionRange=_6e6._setSelectionRange=function(_6f1,_6f2,stop){if(_6f1.createTextRange){var r=_6f1.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_6f2);r.moveEnd("character",stop-_6f2);r.select();}};}if(has("dojo-bidi")){_6e9=_6e1("dijit.form.TextBox",_6e9,{_setPlaceHolderAttr:function(v){this.inherited(arguments);this.applyTextDir(this._phspan);}});}return _6e9;});},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_6f3,has,_6f4,_6f5){return _6f3("dijit.form._FormValueWidget",[_6f4,_6f5],{_layoutHackIE7:function(){if(has("ie")==7){var _6f6=this.domNode;var _6f7=_6f6.parentNode;var _6f8=_6f6.firstChild||_6f6;var _6f9=_6f8.style.filter;var _6fa=this;while(_6f7&&_6f7.clientHeight==0){(function ping(){var _6fb=_6fa.connect(_6f7,"onscroll",function(){_6fa.disconnect(_6fb);_6f8.style.filter=(new Date()).getMilliseconds();_6fa.defer(function(){_6f8.style.filter=_6f9;});});})();_6f7=_6f7.parentNode;}}}});});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_6fc,has,_6fd,_6fe,_6ff,_700,_701,_702){if(has("dijit-legacy-requires")){_6fe(0,function(){var _703=["dijit/form/_FormValueWidget"];require(_703);});}return _6fc("dijit.form._FormWidget",[_6ff,_701,_700,_702],{setDisabled:function(_704){_6fd.deprecated("setDisabled("+_704+") is deprecated. Use set('disabled',"+_704+") instead.","","2.0");this.set("disabled",_704);},setValue:function(_705){_6fd.deprecated("dijit.form._FormWidget:setValue("+_705+") is deprecated.  Use set('value',"+_705+") instead.","","2.0");this.set("value",_705);},getValue:function(){_6fd.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);}});});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_706,_707,_708,_709,lang,_70a,on,has,_70b,a11y){return _707("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_70c){this._set("disabled",_70c);_708.set(this.focusNode,"disabled",_70c);if(this.valueNode){_708.set(this.valueNode,"disabled",_70c);}this.focusNode.setAttribute("aria-disabled",_70c?"true":"false");if(_70c){this._set("hovering",false);this._set("active",false);var _70d="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_706.forEach(lang.isArray(_70d)?_70d:[_70d],function(_70e){var node=this[_70e];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _70f=this.own(on(this.focusNode,"focus",function(){_710.remove();_70f.remove();}))[0];var _711=has("pointer-events")?"pointerup":has("MSPointer")?"MSPointerUp":has("touch-events")?"touchend, mouseup":"mouseup";var _710=this.own(on(this.ownerDocumentBody,_711,lang.hitch(this,function(evt){_710.remove();_70f.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_70b.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_709.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_712,_713){if(this._lastValueReported==undefined&&(_713===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_712;}this._pendingOnChange=this._pendingOnChange||(typeof _712!=typeof this._lastValueReported)||(this.compare(_712,this._lastValueReported)!=0);if((this.intermediateChanges||_713||_713===undefined)&&this._pendingOnChange){this._lastValueReported=_712;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_712);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","./_FormWidgetMixin"],function(_714,_715,keys,lang,on,_716){return _714("dijit.form._FormValueMixin",_716,{readOnly:false,_setReadOnlyAttr:function(_717){_715.set(this.focusNode,"readOnly",_717);this._set("readOnly",_717);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_718,_719){this._handleOnChange(_718,_719);},_handleOnChange:function(_71a,_71b){this._set("value",_71a);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});});},"dijit/form/_TextBoxMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_71c,_71d,dom,has,keys,lang,on,_71e){var _71f=_71d("dijit.form._TextBoxMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_720,_721,_722){var _723;if(_720!==undefined){_723=this.filter(_720);if(typeof _722!="string"){if(_723!==null&&((typeof _723!="number")||!isNaN(_723))){_722=this.filter(this.format(_723,this.constraints));}else{_722="";}if(this.compare(_723,this.filter(this.parse(_722,this.constraints)))!=0){_722=null;}}}if(_722!=null&&((typeof _722)!="number"||!isNaN(_722))&&this.textbox.value!=_722){this.textbox.value=_722;this._set("displayedValue",this.get("displayedValue"));}this.inherited(arguments,[_723,_721]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_724){if(_724==null){_724="";}else{if(typeof _724!="string"){_724=String(_724);}}this.textbox.value=_724;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_725){return _725==null?"":(_725.toString?_725.toString():_725);},parse:function(_726){return _726;},_refreshState:function(){},onInput:function(){},__skipInputEvent:false,_onInput:function(evt){this._processInput(evt);if(this.intermediateChanges){this.defer(function(){this._handleOnChange(this.get("value"),false);});}},_processInput:function(evt){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);function _727(e){var _728;if(e.type=="keydown"){_728=e.keyCode;switch(_728){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_728){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_728>=65&&_728<=90)||(_728>=48&&_728<=57)||_728==keys.SPACE){return;}var _729=false;for(var i in keys){if(keys[i]===e.keyCode){_729=true;break;}}if(!_729){return;}}}_728=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_728){_728=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_728){_728=229;}if(e.type=="keypress"){if(typeof _728!="string"){return;}if((_728>="a"&&_728<="z")||(_728>="A"&&_728<="Z")||(_728>="0"&&_728<="9")||(_728===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}if(e.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=false;return;}}else{this.__skipInputEvent=true;}var faux={faux:true},attr;for(attr in e){if(!/^(layer[XY]|returnValue|keyLocation)$/.test(attr)){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_728,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}this.defer(function(){this._onInput(faux);});};this.own(on(this.textbox,"keydown, keypress, paste, cut, input, compositionend",lang.hitch(this,_727)),on(this.domNode,"keypress",function(e){e.stopPropagation();}));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=on.once(this.domNode,"mouseup, touchend",lang.hitch(this,function(evt){if(!this._isTextSelected()){_71f.selectInputText(this.textbox);}}));this.own(this._selectOnClickHandle);this.defer(function(){if(this._selectOnClickHandle){this._selectOnClickHandle.remove();this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});if(has("dojo-bidi")){_71f=_71d("dijit.form._TextBoxMixin",_71f,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments);}});}_71f._setSelectionRange=_71e._setSelectionRange=function(_72a,_72b,stop){if(_72a.setSelectionRange){_72a.setSelectionRange(_72b,stop);}};_71f.selectInputText=_71e.selectInputText=function(_72c,_72d,stop){_72c=dom.byId(_72c);if(isNaN(_72d)){_72d=0;}if(isNaN(stop)){stop=_72c.value?_72c.value.length:0;}try{_72c.focus();_71f._setSelectionRange(_72c,_72d,stop);}catch(e){}};return _71f;});},"dijit/form/ValidationTextBox":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_72e,_72f,lang,i18n,_730,_731,_732){var _733;return _733=_72e("dijit.form.ValidationTextBox",_730,{templateString:_732,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,_734){if(_734!=_733.prototype[attr]){_72f.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");this.set("pattern",_734);}},_setRegExpGenAttr:function(_735){this._deprecateRegExp("regExpGen",_735);this._set("regExpGen",this._computeRegexp);},_setRegExpAttr:function(_736){this._deprecateRegExp("regExp",_736);},_setValueAttr:function(){this.inherited(arguments);this._refreshState();},validator:function(_737,_738){return (new RegExp("^(?:"+this._computeRegexp(_738)+")"+(this.required?"":"?")+"$")).test(_737)&&(!this.required||!this._isEmpty(_737))&&(this._isEmpty(_737)||this.parse(_737,_738)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"));},_isEmpty:function(_739){return (this.trim?/^\s*$/:/^$/).test(_739);},getErrorMessage:function(){var _73a=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _73b=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_73a:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_73b:_73a;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_73c){var _73d="";var _73e=this.disabled||this.isValid(_73c);if(_73e){this._maskValidSubsetError=true;}var _73f=this._isEmpty(this.textbox.value);var _740=!_73e&&_73c&&this._isValidSubset();this._set("state",_73e?"":(((((!this._hasBeenBlurred||_73c)&&_73f)||_740)&&(this._maskValidSubsetError||(_740&&!this._hasBeenBlurred&&_73c)))?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",this.state=="Error"?"true":"false");if(this.state=="Error"){this._maskValidSubsetError=_73c&&_740;_73d=this.getErrorMessage(_73c);}else{if(this.state=="Incomplete"){_73d=this.getPromptMessage(_73c);this._maskValidSubsetError=!this._hasBeenBlurred||_73c;}else{if(_73f){_73d=this.getPromptMessage(_73c);}}}this.set("message",_73d);return _73e;},displayMessage:function(_741){if(_741&&this.focused){_731.show(_741,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_731.hide(this.domNode);}},_refreshState:function(){if(this._created){this.validate(this.focused);}this.inherited(arguments);},constructor:function(_742){this.constraints=lang.clone(this.constraints);this.baseClass+=" dijitValidationTextBox";},startup:function(){this.inherited(arguments);this._refreshState();},_setConstraintsAttr:function(_743){if(!_743.locale&&this.lang){_743.locale=this.lang;}this._set("constraints",_743);this._refreshState();},_setPatternAttr:function(_744){this._set("pattern",_744);this._refreshState();},_computeRegexp:function(_745){var p=this.pattern;if(typeof p=="function"){p=p.call(this,_745);}if(p!=this._lastRegExp){var _746="";this._lastRegExp=p;if(p!=".*"){p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_746+=re;break;case ")":_746+="|$)";break;default:_746+="(?:"+re+"|$)";break;}});}try{"".search(_746);}catch(e){_746=this.pattern;console.warn("RegExp error in "+this.declaredClass+": "+this.pattern);}this._partialre="^(?:"+_746+")$";}return p;},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_747){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_748){this._set("required",_748);this.focusNode.setAttribute("aria-required",_748);this._refreshState();},_setMessageAttr:function(_749){this._set("message",_749);this.displayMessage(_749);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);},destroy:function(){_731.hide(this.domNode);this.inherited(arguments);}});});},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_74a,_74b,fx,dom,_74c,_74d,_74e,lang,_74f,on,has,_750,_751,_752,_753,_754,_755,_756){var _757=_74b("dijit._MasterTooltip",[_752,_753],{duration:_750.defaultDuration,templateString:_755,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _754(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_758,_759,_75a,rtl,_75b,_75c,_75d){if(this.aroundNode&&this.aroundNode===_759&&this.containerNode.innerHTML==_758){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_758;if(_75b){this.set("textDir",_75b);}this.containerNode.align=rtl?"right":"left";var pos=_751.around(this.domNode,_759,_75a&&_75a.length?_75a:_75e.defaultPosition,!rtl,lang.hitch(this,"orient"));var _75f=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_75f.y+((_75f.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_75f.x+((_75f.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_74e.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_759;this.onMouseEnter=_75c||noop;this.onMouseLeave=_75d||noop;},orient:function(node,_760,_761,_762,_763){this.connectorNode.style.top="";var _764=_762.h,_765=_762.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_760+"-"+_761];this.domNode.style.width="auto";var size=_74d.position(this.domNode);if(has("ie")||has("trident")){size.w+=2;}var _766=Math.min((Math.max(_765,1)),size.w);_74d.setMarginBox(this.domNode,{w:_766});if(_761.charAt(0)=="B"&&_760.charAt(0)=="B"){var bb=_74d.position(node);var _767=this.connectorNode.offsetHeight;if(bb.h>_764){var _768=_764-((_763.h+_767)>>1);this.connectorNode.style.top=_768+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_763.h/2-_767/2,0),bb.h-_767)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_765);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_769){if(this._onDeck&&this._onDeck[1]==_769){this._onDeck=null;}else{if(this.aroundNode===_769){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}this.onMouseEnter=this.onMouseLeave=noop;},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});if(has("dojo-bidi")){_757.extend({_setAutoTextDir:function(node){this.applyTextDir(node);_74a.forEach(node.children,function(_76a){this._setAutoTextDir(_76a);},this);},_setTextDirAttr:function(_76b){this._set("textDir",_76b);if(_76b=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});}_756.showTooltip=function(_76c,_76d,_76e,rtl,_76f,_770,_771){if(_76e){_76e=_74a.map(_76e,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_75e._masterTT){_756._masterTT=_75e._masterTT=new _757();}return _75e._masterTT.show(_76c,_76d,_76e,rtl,_76f,_770,_771);};_756.hideTooltip=function(_772){return _75e._masterTT&&_75e._masterTT.hide(_772);};var _773="DORMANT",_774="SHOW TIMER",_775="SHOWING",_776="HIDE TIMER";function noop(){};var _75e=_74b("dijit.Tooltip",_752,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_777){_74a.forEach(this._connections||[],function(_778){_74a.forEach(_778,function(_779){_779.remove();});},this);this._connectIds=_74a.filter(lang.isArrayLike(_777)?_777:(_777?[_777]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_74a.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_77a=this.selector,_77b=_77a?function(_77c){return on.selector(_77a,_77c);}:function(_77d){return _77d;},self=this;return [on(node,_77b(_74f.enter),function(){self._onHover(this);}),on(node,_77b("focusin"),function(){self._onHover(this);}),on(node,_77b(_74f.leave),lang.hitch(self,"_onUnHover")),on(node,_77b("focusout"),lang.hitch(self,"set","state",_773))];},this);this._set("connectId",_777);},addTarget:function(node){var id=node.id||node;if(_74a.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_74a.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_74c.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_74a.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},state:_773,_setStateAttr:function(val){if(this.state==val||(val==_774&&this.state==_775)||(val==_776&&this.state==_773)){return;}if(this._hideTimer){this._hideTimer.remove();delete this._hideTimer;}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}switch(val){case _773:if(this._connectNode){_75e.hide(this._connectNode);delete this._connectNode;this.onHide();}break;case _774:if(this.state!=_775){this._showTimer=this.defer(function(){this.set("state",_775);},this.showDelay);}break;case _775:var _77e=this.getContent(this._connectNode);if(!_77e){this.set("state",_773);return;}_75e.show(_77e,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,lang.hitch(this,"set","state",_775),lang.hitch(this,"set","state",_776));this.onShow(this._connectNode,this.position);break;case _776:this._hideTimer=this.defer(function(){this.set("state",_773);},this.hideDelay);break;}this._set("state",val);},_onHover:function(_77f){if(this._connectNode&&_77f!=this._connectNode){this.set("state",_773);}this._connectNode=_77f;this.set("state",_774);},_onUnHover:function(_780){this.set("state",_776);},open:function(_781){this.set("state",_773);this._connectNode=_781;this.set("state",_775);},close:function(){this.set("state",_773);},onShow:function(){},onHide:function(){},destroy:function(){this.set("state",_773);_74a.forEach(this._connections||[],function(_782){_74a.forEach(_782,function(_783){_783.remove();});},this);this.inherited(arguments);}});_75e._MasterTooltip=_757;_75e.show=_756.showTooltip;_75e.hide=_756.hideTooltip;_75e.defaultPosition=["after-centered","before-centered"];return _75e;});},"dijit/form/NumberTextBox":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/i18n","dojo/string","dojo/number","./RangeBoundTextBox"],function(_784,lang,i18n,_785,_786,_787){var _788=function(_789){var _789=_789||{},_78a=i18n.getLocalization("dojo.cldr","number",i18n.normalizeLocale(_789.locale)),_78b=_789.pattern?_789.pattern:_78a[(_789.type||"decimal")+"Format"];var _78c;if(typeof _789.places=="number"){_78c=_789.places;}else{if(typeof _789.places==="string"&&_789.places.length>0){_78c=_789.places.replace(/.*,/,"");}else{_78c=(_78b.indexOf(".")!=-1?_78b.split(".")[1].replace(/[^#0]/g,"").length:0);}}return {sep:_78a.decimal,places:_78c};};var _78d=_784("dijit.form.NumberTextBoxMixin",null,{pattern:function(_78e){return "("+(this.focused&&this.editOptions?this._regExpGenerator(lang.delegate(_78e,this.editOptions))+"|":"")+this._regExpGenerator(_78e)+")";},value:NaN,editOptions:{pattern:"#.######"},_formatter:_786.format,_regExpGenerator:_786.regexp,_decimalInfo:_788(),postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},_setConstraintsAttr:function(_78f){var _790=typeof _78f.places=="number"?_78f.places:0;if(_790){_790++;}if(typeof _78f.max!="number"){_78f.max=9*Math.pow(10,15-_790);}if(typeof _78f.min!="number"){_78f.min=-9*Math.pow(10,15-_790);}this.inherited(arguments,[_78f]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}this._decimalInfo=_788(_78f);},_onFocus:function(){if(this.disabled||this.readOnly){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _791=this.format(val,this.constraints);if(_791!==undefined){this.textbox.value=_791;}}this.inherited(arguments);},format:function(_792,_793){var _794=String(_792);if(typeof _792!="number"){return _794;}if(isNaN(_792)){return "";}if(!("rangeCheck" in this&&this.rangeCheck(_792,_793))&&_793.exponent!==false&&/\de[-+]?\d/i.test(_794)){return _794;}if(this.editOptions&&this.focused){_793=lang.mixin({},_793,this.editOptions);}return this._formatter(_792,_793);},_parser:_786.parse,parse:function(_795,_796){var v=this._parser(_795,lang.mixin({},_796,(this.editOptions&&this.focused)?this.editOptions:{}));if(this.editOptions&&this.focused&&isNaN(v)){v=this._parser(_795,_796);}return v;},_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(_797){if(_797==null||typeof _797=="string"&&_797==""){return NaN;}else{if(typeof _797=="number"&&!isNaN(_797)&&_797!=0){_797=_786.round(_797,this._decimalInfo.places);}}return this.inherited(arguments,[_797]);},serialize:function(_798,_799){return (typeof _798!="number"||isNaN(_798))?"":this.inherited(arguments);},_setBlurValue:function(){var val=lang.hitch(lang.delegate(this,{focused:true}),"get")("value");this._setValueAttr(val,true);},_setValueAttr:function(_79a,_79b,_79c){if(_79a!==undefined&&_79c===undefined){_79c=String(_79a);if(typeof _79a=="number"){if(isNaN(_79a)){_79c="";}else{if(("rangeCheck" in this&&this.rangeCheck(_79a,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_79c)){_79c=undefined;}}}else{if(!_79a){_79c="";_79a=NaN;}else{_79a=undefined;}}}this.inherited(arguments,[_79a,_79b,_79c]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+_786._realNumberRegexp(lang.delegate(this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_79d){if(!this.focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}},_isValidSubset:function(){var _79e=(typeof this.constraints.min=="number"),_79f=(typeof this.constraints.max=="number"),_7a0=this.get("value");if(isNaN(_7a0)||(!_79e&&!_79f)){return this.inherited(arguments);}var _7a1=_7a0|0,_7a2=_7a0<0,_7a3=this.textbox.value.indexOf(this._decimalInfo.sep)!=-1,_7a4=this.maxLength||20,_7a5=_7a4-this.textbox.value.length,_7a6=_7a3?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,""):"";var _7a7=_7a3?_7a1+"."+_7a6:_7a1+"";var _7a8=_785.rep("9",_7a5),_7a9=_7a0,_7aa=_7a0;if(_7a2){_7a9=Number(_7a7+_7a8);}else{_7aa=Number(_7a7+_7a8);}return !((_79e&&_7aa<this.constraints.min)||(_79f&&_7a9>this.constraints.max));}});var _7ab=_784("dijit.form.NumberTextBox",[_787,_78d],{baseClass:"dijitTextBox dijitNumberTextBox"});_7ab.Mixin=_78d;return _7ab;});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_7ac,_7ad,_7ae){var _7af={};lang.setObject("dojo.number",_7af);_7af.format=function(_7b0,_7b1){_7b1=lang.mixin({},_7b1||{});var _7b2=i18n.normalizeLocale(_7b1.locale),_7b3=i18n.getLocalization("dojo.cldr","number",_7b2);_7b1.customs=_7b3;var _7b4=_7b1.pattern||_7b3[(_7b1.type||"decimal")+"Format"];if(isNaN(_7b0)||Math.abs(_7b0)==Infinity){return null;}return _7af._applyPattern(_7b0,_7b4,_7b1);};_7af._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_7af._applyPattern=function(_7b5,_7b6,_7b7){_7b7=_7b7||{};var _7b8=_7b7.customs.group,_7b9=_7b7.customs.decimal,_7ba=_7b6.split(";"),_7bb=_7ba[0];_7b6=_7ba[(_7b5<0)?1:0]||("-"+_7bb);if(_7b6.indexOf("%")!=-1){_7b5*=100;}else{if(_7b6.indexOf("‰")!=-1){_7b5*=1000;}else{if(_7b6.indexOf("¤")!=-1){_7b8=_7b7.customs.currencyGroup||_7b8;_7b9=_7b7.customs.currencyDecimal||_7b9;_7b6=_7b6.replace(/\u00a4{1,3}/,function(_7bc){var prop=["symbol","currency","displayName"][_7bc.length-1];return _7b7[prop]||_7b7.currency||"";});}else{if(_7b6.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _7bd=_7af._numberPatternRE;var _7be=_7bb.match(_7bd);if(!_7be){throw new Error("unable to find a number expression in pattern: "+_7b6);}if(_7b7.fractional===false){_7b7.places=0;}return _7b6.replace(_7bd,_7af._formatAbsolute(_7b5,_7be[0],{decimal:_7b9,group:_7b8,places:_7b7.places,round:_7b7.round}));};_7af.round=function(_7bf,_7c0,_7c1){var _7c2=10/(_7c1||10);return (_7c2*+_7bf).toFixed(_7c0)/_7c2;};if((0.9).toFixed()==0){var _7c3=_7af.round;_7af.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _7c3(v,p,m)+(v>0?d:-d);};}_7af._formatAbsolute=function(_7c4,_7c5,_7c6){_7c6=_7c6||{};if(_7c6.places===true){_7c6.places=0;}if(_7c6.places===Infinity){_7c6.places=6;}var _7c7=_7c5.split("."),_7c8=typeof _7c6.places=="string"&&_7c6.places.indexOf(","),_7c9=_7c6.places;if(_7c8){_7c9=_7c6.places.substring(_7c8+1);}else{if(!(_7c9>=0)){_7c9=(_7c7[1]||[]).length;}}if(!(_7c6.round<0)){_7c4=_7af.round(_7c4,_7c9,_7c6.round);}var _7ca=String(Math.abs(_7c4)).split("."),_7cb=_7ca[1]||"";if(_7c7[1]||_7c6.places){if(_7c8){_7c6.places=_7c6.places.substring(0,_7c8);}var pad=_7c6.places!==undefined?_7c6.places:(_7c7[1]&&_7c7[1].lastIndexOf("0")+1);if(pad>_7cb.length){_7ca[1]=_7ad.pad(_7cb,pad,"0",true);}if(_7c9<_7cb.length){_7ca[1]=_7cb.substr(0,_7c9);}}else{if(_7ca[1]){_7ca.pop();}}var _7cc=_7c7[0].replace(",","");pad=_7cc.indexOf("0");if(pad!=-1){pad=_7cc.length-pad;if(pad>_7ca[0].length){_7ca[0]=_7ad.pad(_7ca[0],pad);}if(_7cc.indexOf("#")==-1){_7ca[0]=_7ca[0].substr(_7ca[0].length-pad);}}var _7cd=_7c7[0].lastIndexOf(","),_7ce,_7cf;if(_7cd!=-1){_7ce=_7c7[0].length-_7cd-1;var _7d0=_7c7[0].substr(0,_7cd);_7cd=_7d0.lastIndexOf(",");if(_7cd!=-1){_7cf=_7d0.length-_7cd-1;}}var _7d1=[];for(var _7d2=_7ca[0];_7d2;){var off=_7d2.length-_7ce;_7d1.push((off>0)?_7d2.substr(off):_7d2);_7d2=(off>0)?_7d2.slice(0,off):"";if(_7cf){_7ce=_7cf;delete _7cf;}}_7ca[0]=_7d1.reverse().join(_7c6.group||",");return _7ca.join(_7c6.decimal||".");};_7af.regexp=function(_7d3){return _7af._parseInfo(_7d3).regexp;};_7af._parseInfo=function(_7d4){_7d4=_7d4||{};var _7d5=i18n.normalizeLocale(_7d4.locale),_7d6=i18n.getLocalization("dojo.cldr","number",_7d5),_7d7=_7d4.pattern||_7d6[(_7d4.type||"decimal")+"Format"],_7d8=_7d6.group,_7d9=_7d6.decimal,_7da=1;if(_7d7.indexOf("%")!=-1){_7da/=100;}else{if(_7d7.indexOf("‰")!=-1){_7da/=1000;}else{var _7db=_7d7.indexOf("¤")!=-1;if(_7db){_7d8=_7d6.currencyGroup||_7d8;_7d9=_7d6.currencyDecimal||_7d9;}}}var _7dc=_7d7.split(";");if(_7dc.length==1){_7dc.push("-"+_7dc[0]);}var re=_7ae.buildGroupRE(_7dc,function(_7dd){_7dd="(?:"+_7ae.escapeString(_7dd,".")+")";return _7dd.replace(_7af._numberPatternRE,function(_7de){var _7df={signed:false,separator:_7d4.strict?_7d8:[_7d8,""],fractional:_7d4.fractional,decimal:_7d9,exponent:false},_7e0=_7de.split("."),_7e1=_7d4.places;if(_7e0.length==1&&_7da!=1){_7e0[1]="###";}if(_7e0.length==1||_7e1===0){_7df.fractional=false;}else{if(_7e1===undefined){_7e1=_7d4.pattern?_7e0[1].lastIndexOf("0")+1:Infinity;}if(_7e1&&_7d4.fractional==undefined){_7df.fractional=true;}if(!_7d4.places&&(_7e1<_7e0[1].length)){_7e1+=","+_7e0[1].length;}_7df.places=_7e1;}var _7e2=_7e0[0].split(",");if(_7e2.length>1){_7df.groupSize=_7e2.pop().length;if(_7e2.length>1){_7df.groupSize2=_7e2.pop().length;}}return "("+_7af._realNumberRegexp(_7df)+")";});},true);if(_7db){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_7e3,_7e4,_7e5,_7e6){var prop=["symbol","currency","displayName"][_7e5.length-1],_7e7=_7ae.escapeString(_7d4[prop]||_7d4.currency||"");_7e4=_7e4?"[\\s\\xa0]":"";_7e6=_7e6?"[\\s\\xa0]":"";if(!_7d4.strict){if(_7e4){_7e4+="*";}if(_7e6){_7e6+="*";}return "(?:"+_7e4+_7e7+_7e6+")?";}return _7e4+_7e7+_7e6;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_7d8,decimal:_7d9,factor:_7da};};_7af.parse=function(_7e8,_7e9){var info=_7af._parseInfo(_7e9),_7ea=(new RegExp("^"+info.regexp+"$")).exec(_7e8);if(!_7ea){return NaN;}var _7eb=_7ea[1];if(!_7ea[1]){if(!_7ea[2]){return NaN;}_7eb=_7ea[2];info.factor*=-1;}_7eb=_7eb.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _7eb*info.factor;};_7af._realNumberRegexp=function(_7ec){_7ec=_7ec||{};if(!("places" in _7ec)){_7ec.places=Infinity;}if(typeof _7ec.decimal!="string"){_7ec.decimal=".";}if(!("fractional" in _7ec)||/^0/.test(_7ec.places)){_7ec.fractional=[true,false];}if(!("exponent" in _7ec)){_7ec.exponent=[true,false];}if(!("eSigned" in _7ec)){_7ec.eSigned=[true,false];}var _7ed=_7af._integerRegexp(_7ec),_7ee=_7ae.buildGroupRE(_7ec.fractional,function(q){var re="";if(q&&(_7ec.places!==0)){re="\\"+_7ec.decimal;if(_7ec.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_7ec.places+"}";}}return re;},true);var _7ef=_7ae.buildGroupRE(_7ec.exponent,function(q){if(q){return "([eE]"+_7af._integerRegexp({signed:_7ec.eSigned})+")";}return "";});var _7f0=_7ed+_7ee;if(_7ee){_7f0="(?:(?:"+_7f0+")|(?:"+_7ee+"))";}return _7f0+_7ef;};_7af._integerRegexp=function(_7f1){_7f1=_7f1||{};if(!("signed" in _7f1)){_7f1.signed=[true,false];}if(!("separator" in _7f1)){_7f1.separator="";}else{if(!("groupSize" in _7f1)){_7f1.groupSize=3;}}var _7f2=_7ae.buildGroupRE(_7f1.signed,function(q){return q?"[-+]":"";},true);var _7f3=_7ae.buildGroupRE(_7f1.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_7ae.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=_7f1.groupSize,grp2=_7f1.groupSize2;if(grp2){var _7f4="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_7f4+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_7f4;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _7f2+_7f3;};return _7af;});},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){var _7f5={};lang.setObject("dojo.regexp",_7f5);_7f5.escapeString=function(str,_7f6){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(ch){if(_7f6&&_7f6.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};_7f5.buildGroupRE=function(arr,re,_7f7){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return _7f5.group(b.join("|"),_7f7);};_7f5.group=function(_7f8,_7f9){return "("+(_7f9?"?:":"")+_7f8+")";};return _7f5;});},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(_7fa,i18n,_7fb){var _7fc=_7fa("dijit.form.RangeBoundTextBox",_7fb,{rangeMessage:"",rangeCheck:function(_7fd,_7fe){return ("min" in _7fe?(this.compare(_7fd,_7fe.min)>=0):true)&&("max" in _7fe?(this.compare(_7fd,_7fe.max)<=0):true);},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");if(val==null){return false;}var _7ff=false;if("min" in this.constraints){var min=this.constraints.min;_7ff=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min)<0;}if(!_7ff&&("max" in this.constraints)){var max=this.constraints.max;_7ff=this.compare(val,((typeof max!="number")||max>0)?max:0)>0;}return _7ff;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_800){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_800));},getErrorMessage:function(_801){var v=this.get("value");if(v!=null&&v!==""&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_801)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}}});return _7fc;});},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(_802,has,_803,_804){return _802("dijit.form.MappedTextBox",_804,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:"valueNode",serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_803.place("<input type='hidden'"+((this.name&&!has("msapp"))?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"dijit/form/NumberSpinner":function(){define(["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(_805,keys,_806,_807){return _805("dijit.form.NumberSpinner",[_806,_807.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(val,_808){var tc=this.constraints,v=isNaN(val),_809=!isNaN(tc.max),_80a=!isNaN(tc.min);if(v&&_808!=0){val=(_808>0)?_80a?tc.min:_809?tc.max:0:_809?this.constraints.max:_80a?tc.min:0;}var _80b=val+_808;if(v||isNaN(_80b)){return val;}if(_809&&(_80b>tc.max)){_80b=tc.max;}if(_80a&&(_80b<tc.min)){_80b=tc.min;}return _80b;},_onKeyDown:function(e){if(this.disabled||this.readOnly){return;}if((e.keyCode==keys.HOME||e.keyCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var _80c=this.constraints[(e.keyCode==keys.HOME?"min":"max")];if(typeof _80c=="number"){this._setValueAttr(_80c,false);}e.stopPropagation();e.preventDefault();}}});});},"dijit/form/_Spinner":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/mouse","dojo/on","../typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(_80d,keys,lang,has,_80e,on,_80f,_810,_811,_812){return _80d("dijit.form._Spinner",_810,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:_811,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val){return val;},_arrowPressed:function(_813,_814,_815){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_814*_815),false);_812.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(){this._wheelTimer=null;},_typematicCallback:function(_816,node,evt){var inc=this.smallDelta;if(node==this.textbox){var key=evt.keyCode;inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_816==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){evt.stopPropagation();evt.preventDefault();var _817=evt.wheelDelta/120;if(Math.floor(_817)!=_817){_817=evt.wheelDelta>0?1:-1;}var _818=evt.detail?(evt.detail*-1):_817;if(_818!==0){var node=this[(_818>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_818,this.smallDelta);if(this._wheelTimer){this._wheelTimer.remove();}this._wheelTimer=this.defer(function(){this._arrowReleased(node);},50);}},_setConstraintsAttr:function(_819){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){this.focusNode.setAttribute("aria-valuemin",this.constraints.min);}else{this.focusNode.removeAttribute("aria-valuemin");}if(this.constraints.max!==undefined){this.focusNode.setAttribute("aria-valuemax",this.constraints.max);}else{this.focusNode.removeAttribute("aria-valuemax");}}},_setValueAttr:function(_81a,_81b){this.focusNode.setAttribute("aria-valuenow",_81a);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,_80e.wheel,lang.hitch(this,"_mouseWheeled")),_80f.addListener(this.upArrowNode,this.textbox,{keyCode:keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_80f.addListener(this.downArrowNode,this.textbox,{keyCode:keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_80f.addListener(this.upArrowNode,this.textbox,{keyCode:keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_80f.addListener(this.downArrowNode,this.textbox,{keyCode:keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_81c,lang,_81d,_81e,_81f,_820,html,_821,_822,_823,_824,dom,_825,_826,xhr,i18n,when){return _823("dijit.layout.ContentPane",[_81d,_81e,_81f],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_81c._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_827,node,ctor){var self=new ctor(_827,node);return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){return self;}):self;},create:function(_828,_829){if((!_828||!_828.template)&&_829&&!("href" in _828)&&!("content" in _828)){_829=dom.byId(_829);var df=_829.ownerDocument.createDocumentFragment();while(_829.firstChild){df.appendChild(_829.firstChild);}_828=lang.delegate(_828,{content:df});}this.inherited(arguments,[_828,_829]);},postMixInProperties:function(){this.inherited(arguments);var _82a=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_820.substitute(this.loadingMessage,_82a);this.errorMessage=_820.substitute(this.errorMessage,_82a);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){_822.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){_822.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){_822.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_81c.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _824(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_81c.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _824(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_82b){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _824(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _82c={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_82c,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_82c)),_82d;hand.then(function(html){_82d=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _82d;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_82e){if(this.isLoaded){this._onUnloadHandler();}var _82f=this._contentSetter;_822.forEach(this.getChildren(),function(_830){if(_830.destroyRecursive){_830.destroyRecursive(_82e);}else{if(_830.destroy){_830.destroy(_82e);}}_830._destroyed=true;});if(_82f){_822.forEach(_82f.parseResults,function(_831){if(!_831._destroyed){if(_831.destroyRecursive){_831.destroyRecursive(_82e);}else{if(_831.destroy){_831.destroy(_82e);}}_831._destroyed=true;}});delete _82f.parseResults;}if(!_82e){_826.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_832){this.destroyDescendants();var _833=this._contentSetter;if(!(_833&&_833 instanceof html._ContentSetter)){_833=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _834=this.onContentError(e);try{this.containerNode.innerHTML=_834;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _835=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_833.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_835);var self=this;return when(p&&p.then?p:_833.parseDeferred,function(){delete self._contentSetterParams;if(!_832){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},_onError:function(type,err,_836){this.onLoadDeferred.reject(err);var _837=this["on"+type+"Error"].call(this,err);if(_836){console.error(_836,err);}else{if(_837){this._setContent(_837,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_838,_839,_83a,_83b){return _839("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_83c,_83d){var _83e=this.containerNode;if(_83d>0){_83e=_83e.firstChild;while(_83d>0){if(_83e.nodeType==1){_83d--;}_83e=_83e.nextSibling;}if(_83e){_83d="before";}else{_83e=this.containerNode;_83d="last";}}_83a.place(_83c.domNode,_83e,_83d);if(this._started&&!_83c._started){_83c.startup();}},removeChild:function(_83f){if(typeof _83f=="number"){_83f=this.getChildren()[_83f];}if(_83f){var node=_83f.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_840,dir){_83b.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _841=this.getChildren(),idx=_838.indexOf(_841,_840);return _841[idx+dir];},getIndexOfChild:function(_842){return _838.indexOf(this.getChildren(),_842);}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(_843,_844,_845,_846,_847,lang,_848,_849,_84a,_84b){return _844("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _84c=this.getParent();this._childOfLayoutWidget=_84c&&_84c.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_84a.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){if(!this.doLayout){return;}var _84d=[],_84e=false;_848("> *",this.containerNode).some(function(node){var _84f=_849.byNode(node);if(_84f&&_84f.resize){_84d.push(_84f);}else{if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){_84e=true;}}});this._singleChild=_84d.length==1&&!_84e?_84d[0]:null;_845.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_850,_851){this._resizeCalled=true;this._scheduleLayout(_850,_851);},_scheduleLayout:function(_852,_853){if(this._isShown()){this._layout(_852,_853);}else{this._needLayout=true;this._changeSize=_852;this._resultSize=_853;}},_layout:function(_854,_855){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_854){_846.setMarginBox(this.domNode,_854);}var cn=this.containerNode;if(cn===this.domNode){var mb=_855||{};lang.mixin(mb,_854||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_846.getMarginBox(cn),mb);}this._contentBox=_84b.marginBox2contentBox(cn,mb);}else{this._contentBox=_846.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_846.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{var _856=this.getChildren(),_857,i=0;while(_857=_856[i++]){if(_857.resize){_857.resize();}}}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_858=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_845.contains(node,"dijitHidden")&&_858&&_858.style&&(_858.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(_859,_85a,_85b,_85c,lang){function _85d(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_85e,dim){var _85f=_85e.resize?_85e.resize(dim):_85b.setMarginBox(_85e.domNode,dim);if(_85f){lang.mixin(_85e,_85f);}else{lang.mixin(_85e,_85b.getMarginBox(_85e.domNode));lang.mixin(_85e,dim);}};var _860={marginBox2contentBox:function(node,mb){var cs=_85c.getComputedStyle(node);var me=_85b.getMarginExtents(node,cs);var pb=_85b.getPadBorderExtents(node,cs);return {l:_85c.toPixelValue(node,cs.paddingLeft),t:_85c.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};},layoutChildren:function(_861,dim,_862,_863,_864){dim=lang.mixin({},dim);_85a.add(_861,"dijitLayoutContainer");_862=_859.filter(_862,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_859.filter(_862,function(item){return item.region=="center"||item.layoutAlign=="client";}));_859.forEach(_862,function(_865){var elm=_865.domNode,pos=(_865.region||_865.layoutAlign);if(!pos){throw new Error("No region setting for "+_865.id);}var _866=elm.style;_866.left=dim.l+"px";_866.top=dim.t+"px";_866.position="absolute";_85a.add(elm,"dijitAlign"+_85d(pos));var _867={};if(_863&&_863==_865.id){_867[_865.region=="top"||_865.region=="bottom"?"h":"w"]=_864;}if(pos=="leading"){pos=_865.isLeftToRight()?"left":"right";}if(pos=="trailing"){pos=_865.isLeftToRight()?"right":"left";}if(pos=="top"||pos=="bottom"){_867.w=dim.w;size(_865,_867);dim.h-=_865.h;if(pos=="top"){dim.t+=_865.h;}else{_866.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_867.h=dim.h;size(_865,_867);dim.w-=_865.w;if(pos=="left"){dim.l+=_865.w;}else{_866.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_865,dim);}}}});}};lang.setObject("dijit.layout.utils",_860);return _860;});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_868,lang,_869,_86a,dom,_86b,_86c){var _86d=0;var html={_secureForInnerHtml:function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");},_emptyNode:_86b.empty,_setNodeContent:function(node,cont){_86b.empty(node);if(cont){if(typeof cont=="string"){cont=_86b.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _86e=cont.length,i=0;i<cont.length;i=_86e==cont.length?i+1:0){_86b.place(cont[i],node,"last");}}else{_86b.place(cont,node,"last");}}return node;},_ContentSetter:_86a("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_868._scopeName,startup:true,constructor:function(_86f,node){lang.mixin(this,_86f||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_86d++].join("_");}},set:function(cont,_870){if(undefined!==cont){this.content=cont;}if(_870){this._mixin(_870);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _871=this.onContentError(e);try{node.innerHTML=_871;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_869.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_86b.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var _872=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_872){cont=_872[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_873){var _874={},key;for(key in _873){if(key in _874){continue;}this[key]=_873[key];}},_parse:function(){var _875=this.node;try{var _876={};_869.forEach(["dir","lang","textDir"],function(name){if(this[name]){_876[name]=this[name];}},this);var self=this;this.parseDeferred=_86c.parse({rootNode:_875,noStart:!this.startup,inherited:_876,scope:this.parserScope}).then(function(_877){return self.parseResults=_877;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_878){var _879=this["on"+type+"Error"].call(this,err);if(_878){console.error(_878,err);}else{if(_879){html._setNodeContent(this.node,_879,true);}}}}),set:function(node,cont,_87a){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_87a){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_87a,{content:cont,node:node}));return op.set();}}};lang.setObject("dojo.html",html);return html;});},"dojo/parser":function(){define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_87b,dojo,_87c,_87d,_87e,dom,_87f,_880,_881,all,_882,_883,has,_884,don,_885){new Date("X");function _886(text){return eval("("+text+")");};var _887=0;_881.after(_87c,"extend",function(){_887++;},true);function _888(ctor){var map=ctor._nameCaseMap,_889=ctor.prototype;if(!map||map._extendCnt<_887){map=ctor._nameCaseMap={};for(var name in _889){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_887;}return map;};var _88a={};function _88b(_88c,_88d){var ts=_88c.join();if(!_88a[ts]){var _88e=[];for(var i=0,l=_88c.length;i<l;i++){var t=_88c[i];_88e[_88e.length]=(_88a[t]=_88a[t]||(_87c.getObject(t)||(~t.indexOf("/")&&(_88d?_88d(t):_87b(t)))));}var ctor=_88e.shift();_88a[ts]=_88e.length?(ctor.createSubclass?ctor.createSubclass(_88e):ctor.extend.apply(ctor,_88e)):ctor;}return _88a[ts];};var _88f={_clearCache:function(){_887++;_88a={};},_functionFromScript:function(_890,_891){var _892="",_893="",_894=(_890.getAttribute(_891+"args")||_890.getAttribute("args")),_895=_890.getAttribute("with");var _896=(_894||"").split(/\s*,\s*/);if(_895&&_895.length){_87d.forEach(_895.split(/\s*,\s*/),function(part){_892+="with("+part+"){";_893+="}";});}return new Function(_896,_892+_890.innerHTML+_893);},instantiate:function(_897,_898,_899){_898=_898||{};_899=_899||{};var _89a=(_899.scope||dojo._scopeName)+"Type",_89b="data-"+(_899.scope||dojo._scopeName)+"-",_89c=_89b+"type",_89d=_89b+"mixins";var list=[];_87d.forEach(_897,function(node){var type=_89a in _898?_898[_89a]:node.getAttribute(_89c)||node.getAttribute(_89a);if(type){var _89e=node.getAttribute(_89d),_89f=_89e?[type].concat(_89e.split(/\s*,\s*/)):[type];list.push({node:node,types:_89f});}});return this._instantiate(list,_898,_899);},_instantiate:function(_8a0,_8a1,_8a2,_8a3){var _8a4=_87d.map(_8a0,function(obj){var ctor=obj.ctor||_88b(obj.types,_8a2.contextRequire);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,_8a1,_8a2,obj.scripts,obj.inherited);},this);function _8a5(_8a6){if(!_8a1._started&&!_8a2.noStart){_87d.forEach(_8a6,function(_8a7){if(typeof _8a7.startup==="function"&&!_8a7._started){_8a7.startup();}});}return _8a6;};if(_8a3){return all(_8a4).then(_8a5);}else{return _8a5(_8a4);}},construct:function(ctor,node,_8a8,_8a9,_8aa,_8ab){var _8ac=ctor&&ctor.prototype;_8a9=_8a9||{};var _8ad={};if(_8a9.defaults){_87c.mixin(_8ad,_8a9.defaults);}if(_8ab){_87c.mixin(_8ad,_8ab);}var _8ae;if(has("dom-attributes-explicit")){_8ae=node.attributes;}else{if(has("dom-attributes-specified-flag")){_8ae=_87d.filter(node.attributes,function(a){return a.specified;});}else{var _8af=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_8b0=_8af.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_8ae=_87d.map(_8b0.split(/\s+/),function(name){var _8b1=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_8b1=="enctype"?node.getAttribute(_8b1):node.getAttributeNode(_8b1).value};});}}var _8b2=_8a9.scope||dojo._scopeName,_8b3="data-"+_8b2+"-",hash={};if(_8b2!=="dojo"){hash[_8b3+"props"]="data-dojo-props";hash[_8b3+"type"]="data-dojo-type";hash[_8b3+"mixins"]="data-dojo-mixins";hash[_8b2+"type"]="dojoType";hash[_8b3+"id"]="data-dojo-id";}var i=0,item,_8b4=[],_8b5,_8b6;while(item=_8ae[i++]){var name=item.name,_8b7=name.toLowerCase(),_8b8=item.value;switch(hash[_8b7]||_8b7){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":_8b6=_8b8;break;case "data-dojo-id":case "jsid":_8b5=_8b8;break;case "data-dojo-attach-point":case "dojoattachpoint":_8ad.dojoAttachPoint=_8b8;break;case "data-dojo-attach-event":case "dojoattachevent":_8ad.dojoAttachEvent=_8b8;break;case "class":_8ad["class"]=node.className;break;case "style":_8ad["style"]=node.style&&node.style.cssText;break;default:if(!(name in _8ac)){var map=_888(ctor);name=map[_8b7]||name;}if(name in _8ac){switch(typeof _8ac[name]){case "string":_8ad[name]=_8b8;break;case "number":_8ad[name]=_8b8.length?Number(_8b8):NaN;break;case "boolean":_8ad[name]=_8b8.toLowerCase()!="false";break;case "function":if(_8b8===""||_8b8.search(/[^\w\.]+/i)!=-1){_8ad[name]=new Function(_8b8);}else{_8ad[name]=_87c.getObject(_8b8,false)||new Function(_8b8);}_8b4.push(name);break;default:var pVal=_8ac[name];_8ad[name]=(pVal&&"length" in pVal)?(_8b8?_8b8.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_8b8==""?new Date(""):_8b8=="now"?new Date():_882.fromISOString(_8b8)):(pVal instanceof _880)?(dojo.baseUrl+_8b8):_886(_8b8);}}else{_8ad[name]=_8b8;}}}for(var j=0;j<_8b4.length;j++){var _8b9=_8b4[j].toLowerCase();node.removeAttribute(_8b9);node[_8b9]=null;}if(_8b6){try{_8b6=_886.call(_8a9.propsThis,"{"+_8b6+"}");_87c.mixin(_8ad,_8b6);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_8b6+"'");}}_87c.mixin(_8ad,_8a8);if(!_8aa){_8aa=(ctor&&(ctor._noScript||_8ac._noScript)?[]:_884("> script[type^='dojo/']",node));}var _8ba=[],_8bb=[],_8bc=[],ons=[];if(_8aa){for(i=0;i<_8aa.length;i++){var _8bd=_8aa[i];node.removeChild(_8bd);var _8be=(_8bd.getAttribute(_8b3+"event")||_8bd.getAttribute("event")),prop=_8bd.getAttribute(_8b3+"prop"),_8bf=_8bd.getAttribute(_8b3+"method"),_8c0=_8bd.getAttribute(_8b3+"advice"),_8c1=_8bd.getAttribute("type"),nf=this._functionFromScript(_8bd,_8b3);if(_8be){if(_8c1=="dojo/connect"){_8ba.push({method:_8be,func:nf});}else{if(_8c1=="dojo/on"){ons.push({event:_8be,func:nf});}else{_8ad[_8be]=nf;}}}else{if(_8c1=="dojo/aspect"){_8ba.push({method:_8bf,advice:_8c0,func:nf});}else{if(_8c1=="dojo/watch"){_8bc.push({prop:prop,func:nf});}else{_8bb.push(nf);}}}}}var _8c2=ctor.markupFactory||_8ac.markupFactory;var _8c3=_8c2?_8c2(_8ad,node,ctor):new ctor(_8ad,node);function _8c4(_8c5){if(_8b5){_87c.setObject(_8b5,_8c5);}for(i=0;i<_8ba.length;i++){_881[_8ba[i].advice||"after"](_8c5,_8ba[i].method,_87c.hitch(_8c5,_8ba[i].func),true);}for(i=0;i<_8bb.length;i++){_8bb[i].call(_8c5);}for(i=0;i<_8bc.length;i++){_8c5.watch(_8bc[i].prop,_8bc[i].func);}for(i=0;i<ons.length;i++){don(_8c5,ons[i].event,ons[i].func);}return _8c5;};if(_8c3.then){return _8c3.then(_8c4);}else{return _8c4(_8c3);}},scan:function(root,_8c6){var list=[],mids=[],_8c7={};var _8c8=(_8c6.scope||dojo._scopeName)+"Type",_8c9="data-"+(_8c6.scope||dojo._scopeName)+"-",_8ca=_8c9+"type",_8cb=_8c9+"textdir",_8cc=_8c9+"mixins";var node=root.firstChild;var _8cd=_8c6.inherited;if(!_8cd){function _8ce(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_8ce(node.parentNode,attr));};_8cd={dir:_8ce(root,"dir"),lang:_8ce(root,"lang"),textDir:_8ce(root,_8cb)};for(var key in _8cd){if(!_8cd[key]){delete _8cd[key];}}}var _8cf={inherited:_8cd};var _8d0;var _8d1;function _8d2(_8d3){if(!_8d3.inherited){_8d3.inherited={};var node=_8d3.node,_8d4=_8d2(_8d3.parent);var _8d5={dir:node.getAttribute("dir")||_8d4.dir,lang:node.getAttribute("lang")||_8d4.lang,textDir:node.getAttribute(_8cb)||_8d4.textDir};for(var key in _8d5){if(_8d5[key]){_8d3.inherited[key]=_8d5[key];}}}return _8d3.inherited;};while(true){if(!node){if(!_8cf||!_8cf.node){break;}node=_8cf.node.nextSibling;_8d1=false;_8cf=_8cf.parent;_8d0=_8cf.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_8d0&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_8d0.push(node);}node=node.nextSibling;continue;}if(_8d1){node=node.nextSibling;continue;}var type=node.getAttribute(_8ca)||node.getAttribute(_8c8);var _8d6=node.firstChild;if(!type&&(!_8d6||(_8d6.nodeType==3&&!_8d6.nextSibling))){node=node.nextSibling;continue;}var _8d7;var ctor=null;if(type){var _8d8=node.getAttribute(_8cc),_8d9=_8d8?[type].concat(_8d8.split(/\s*,\s*/)):[type];try{ctor=_88b(_8d9,_8c6.contextRequire);}catch(e){}if(!ctor){_87d.forEach(_8d9,function(t){if(~t.indexOf("/")&&!_8c7[t]){_8c7[t]=true;mids[mids.length]=t;}});}var _8da=ctor&&!ctor.prototype._noScript?[]:null;_8d7={types:_8d9,ctor:ctor,parent:_8cf,node:node,scripts:_8da};_8d7.inherited=_8d2(_8d7);list.push(_8d7);}else{_8d7={node:node,scripts:_8d0,parent:_8cf};}_8d0=_8da;_8d1=node.stopParser||(ctor&&ctor.prototype.stopParser&&!(_8c6.template));_8cf=_8d7;node=_8d6;}var d=new _883();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}var r=_8c6.contextRequire||_87b;r(mids,function(){d.resolve(_87d.filter(list,function(_8db){if(!_8db.ctor){try{_8db.ctor=_88b(_8db.types,_8c6.contextRequire);}catch(e){}}var _8dc=_8db.parent;while(_8dc&&!_8dc.types){_8dc=_8dc.parent;}var _8dd=_8db.ctor&&_8db.ctor.prototype;_8db.instantiateChildren=!(_8dd&&_8dd.stopParser&&!(_8c6.template));_8db.instantiate=!_8dc||(_8dc.instantiate&&_8dc.instantiateChildren);return _8db.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_8de,_8df){var hash=_886("{"+_8de.innerHTML+"}"),vars=[],mids=[],d=new _883();var _8e0=(_8df&&_8df.contextRequire)||_87b;for(var name in hash){vars.push(name);mids.push(hash[name]);}_8e0(mids,function(){for(var i=0;i<vars.length;i++){_87c.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root,_8e1){var _8e2=new _883(),_8e3=_8e2.promise;_8e2.resolve(true);var self=this;_884("script[type='dojo/require']",root).forEach(function(node){_8e3=_8e3.then(function(){return self._require(node,_8e1);});node.parentNode.removeChild(node);});return _8e3;},parse:function(_8e4,_8e5){var root;if(!_8e5&&_8e4&&_8e4.rootNode){_8e5=_8e4;root=_8e5.rootNode;}else{if(_8e4&&_87c.isObject(_8e4)&&!("nodeType" in _8e4)){_8e5=_8e4;}else{root=_8e4;}}root=root?dom.byId(root):_87f.body();_8e5=_8e5||{};var _8e6=_8e5.template?{template:true}:{},_8e7=[],self=this;var p=this._scanAmd(root,_8e5).then(function(){return self.scan(root,_8e5);}).then(function(_8e8){return self._instantiate(_8e8,_8e6,_8e5,true);}).then(function(_8e9){return _8e7=_8e7.concat(_8e9);}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});_87c.mixin(_8e7,p);return _8e7;}};if(1){dojo.parser=_88f;}if(_87e.parseOnLoad){_885(100,_88f,"parse");}return _88f;});},"dojo/_base/url":function(){define(["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_8ea=function(){var n=null,_8eb=arguments,uri=[_8eb[0]];for(var i=1;i<_8eb.length;i++){if(!_8eb[i]){continue;}var _8ec=new _8ea(_8eb[i]+""),_8ed=new _8ea(uri[0]+"");if(_8ec.path==""&&!_8ec.scheme&&!_8ec.authority&&!_8ec.query){if(_8ec.fragment!=n){_8ed.fragment=_8ec.fragment;}_8ec=_8ed;}else{if(!_8ec.scheme){_8ec.scheme=_8ed.scheme;if(!_8ec.authority){_8ec.authority=_8ed.authority;if(_8ec.path.charAt(0)!="/"){var path=_8ed.path.substring(0,_8ed.path.lastIndexOf("/")+1)+_8ec.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_8ec.path=segs.join("/");}}}}uri=[];if(_8ec.scheme){uri.push(_8ec.scheme,":");}if(_8ec.authority){uri.push("//",_8ec.authority);}uri.push(_8ec.path);if(_8ec.query){uri.push("?",_8ec.query);}if(_8ec.fragment){uri.push("#",_8ec.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_8ea.prototype.toString=function(){return this.uri;};return dojo._Url=_8ea;});},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(_8ee,_8ef,when){"use strict";var some=_8ee.some;return function all(_8f0){var _8f1,_8ee;if(_8f0 instanceof Array){_8ee=_8f0;}else{if(_8f0&&typeof _8f0==="object"){_8f1=_8f0;}}var _8f2;var _8f3=[];if(_8f1){_8ee=[];for(var key in _8f1){if(Object.hasOwnProperty.call(_8f1,key)){_8f3.push(key);_8ee.push(_8f1[key]);}}_8f2={};}else{if(_8ee){_8f2=[];}}if(!_8ee||!_8ee.length){return new _8ef().resolve(_8f2);}var _8f4=new _8ef();_8f4.promise.always(function(){_8f2=_8f3=null;});var _8f5=_8ee.length;some(_8ee,function(_8f6,_8f7){if(!_8f1){_8f3.push(_8f7);}when(_8f6,function(_8f8){if(!_8f4.isFulfilled()){_8f2[_8f3[_8f7]]=_8f8;if(--_8f5===0){_8f4.resolve(_8f2);}}},_8f4.reject);return _8f4.isFulfilled();});return _8f4.promise;};});},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(lang,_8f9){var _8fa={};lang.setObject("dojo.date.stamp",_8fa);_8fa.fromISOString=function(_8fb,_8fc){if(!_8fa._isoRegExp){_8fa._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _8fd=_8fa._isoRegExp.exec(_8fb),_8fe=null;if(_8fd){_8fd.shift();if(_8fd[1]){_8fd[1]--;}if(_8fd[6]){_8fd[6]*=1000;}if(_8fc){_8fc=new Date(_8fc);_8f9.forEach(_8f9.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _8fc["get"+prop]();}),function(_8ff,_900){_8fd[_900]=_8fd[_900]||_8ff;});}_8fe=new Date(_8fd[0]||1970,_8fd[1]||0,_8fd[2]||1,_8fd[3]||0,_8fd[4]||0,_8fd[5]||0,_8fd[6]||0);if(_8fd[0]<100){_8fe.setFullYear(_8fd[0]||1970);}var _901=0,_902=_8fd[7]&&_8fd[7].charAt(0);if(_902!="Z"){_901=((_8fd[8]||0)*60)+(Number(_8fd[9])||0);if(_902!="-"){_901*=-1;}}if(_902){_901-=_8fe.getTimezoneOffset();}if(_901){_8fe.setTime(_8fe.getTime()+_901*60000);}}return _8fe;};_8fa.toISOString=function(_903,_904){var _905=function(n){return (n<10)?"0"+n:n;};_904=_904||{};var _906=[],_907=_904.zulu?"getUTC":"get",date="";if(_904.selector!="time"){var year=_903[_907+"FullYear"]();date=["0000".substr((year+"").length)+year,_905(_903[_907+"Month"]()+1),_905(_903[_907+"Date"]())].join("-");}_906.push(date);if(_904.selector!="date"){var time=[_905(_903[_907+"Hours"]()),_905(_903[_907+"Minutes"]()),_905(_903[_907+"Seconds"]())].join(":");var _908=_903[_907+"Milliseconds"]();if(_904.milliseconds){time+="."+(_908<100?"0":"")+_905(_908);}if(_904.zulu){time+="Z";}else{if(_904.selector!="time"){var _909=_903.getTimezoneOffset();var _90a=Math.abs(_909);time+=(_909>0?"-":"+")+_905(Math.floor(_90a/60))+":"+_905(_90a%60);}}_906.push(time);}return _906.join("T");};return _8fa;});},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_90b,_90c,_90d,lang,_90e){return _90c("dijit.tree.ForestStoreModel",_90e,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_90f){this.root={store:this,root:true,id:_90f.rootId,label:_90f.rootLabel,children:_90f.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_910,_911,_912){if(_910===this.root){if(this.root.children){_911(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_913){this.root.children=_913;_911(_913);}),onError:_912});}}else{this.inherited(arguments);}},isItem:function(_914){return (_914===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_915){if(_915.identity==this.root.id){var _916=_915.scope||_90d.global;if(_915.onItem){_915.onItem.call(_916,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_917,_918){if(_917===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_919,_91a,_91b,_91c,_91d){if(_91a===this.root){if(!_91c){this.onLeaveRoot(_919);}}this.inherited(arguments,[_919,_91a===this.root?null:_91a,_91b===this.root?null:_91b,_91c,_91d]);if(_91b===this.root){this.onAddToRoot(_919);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _91e=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_91f){this.root.children=_91f;if(_91e.length!=_91f.length||_90b.some(_91e,function(item,idx){return _91f[idx]!=item;})){this.onChildrenChange(this.root,_91f);}})});},onNewItem:function(item,_920){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_90b.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_921,_922,_923){this._requeryTop();this.inherited(arguments);}});});},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_924,_925,_926,lang){return _926("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){lang.mixin(this,args);this.connects=[];var _927=this.store;if(!_927.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");}if(_927.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_925.after(_927,"onNew",lang.hitch(this,"onNewItem"),true),_925.after(_927,"onDelete",lang.hitch(this,"onDeleteItem"),true),_925.after(_927,"onSet",lang.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_928,_929){if(this.root){_928(this.root);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_92a){if(_92a.length!=1){throw new Error("dijit.tree.TreeStoreModel: root query returned "+_92a.length+" items, but must return exactly one");}this.root=_92a[0];_928(this.root);}),onError:_929});}},mayHaveChildren:function(item){return _924.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_92b,_92c,_92d){var _92e=this.store;if(!_92e.isItemLoaded(_92b)){var _92f=lang.hitch(this,arguments.callee);_92e.loadItem({item:_92b,onItem:function(_930){_92f(_930,_92c,_92d);},onError:_92d});return;}var _931=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_92e.getValues(_92b,this.childrenAttrs[i]);_931=_931.concat(vals);}var _932=0;if(!this.deferItemLoadingUntilExpand){_924.forEach(_931,function(item){if(!_92e.isItemLoaded(item)){_932++;}});}if(_932==0){_92c(_931);}else{_924.forEach(_931,function(item,idx){if(!_92e.isItemLoaded(item)){_92e.loadItem({item:item,onItem:function(item){_931[idx]=item;if(--_932==0){_92c(_931);}},onError:_92d});}});}},isItem:function(_933){return this.store.isItem(_933);},fetchItemByIdentity:function(_934){this.store.fetchItemByIdentity(_934);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_935,_936){var _937={parent:_935,attribute:this.childrenAttrs[0]},_938;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_935,true,_936);}else{_938=this.store.newItem(args,_937);if(_938&&(_936!=undefined)){this.pasteItem(_938,_935,_935,false,_936);}}}});}else{_938=this.store.newItem(args,_937);if(_938&&(_936!=undefined)){this.pasteItem(_938,_935,_935,false,_936);}}},pasteItem:function(_939,_93a,_93b,_93c,_93d){var _93e=this.store,_93f=this.childrenAttrs[0];if(_93a){_924.forEach(this.childrenAttrs,function(attr){if(_93e.containsValue(_93a,attr,_939)){if(!_93c){var _940=_924.filter(_93e.getValues(_93a,attr),function(x){return x!=_939;});_93e.setValues(_93a,attr,_940);}_93f=attr;}});}if(_93b){if(typeof _93d=="number"){var _941=_93e.getValues(_93b,_93f).slice();_941.splice(_93d,0,_939);_93e.setValues(_93b,_93f,_941);}else{_93e.setValues(_93b,_93f,_93e.getValues(_93b,_93f).concat(_939));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(item,_942){if(!_942){return;}this.getChildren(_942.item,lang.hitch(this,function(_943){this.onChildrenChange(_942.item,_943);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_944){if(_924.indexOf(this.childrenAttrs,_944)!=-1){this.getChildren(item,lang.hitch(this,function(_945){this.onChildrenChange(item,_945);}));}else{this.onChange(item);}}});});},"dijit/Tree":function(){define(["dojo/_base/array","dojo/aspect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/promise/all","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/errors/create","dojo/fx","dojo/has","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./a11yclick","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","./_KeyNavMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector","dojo/query!css2"],function(_946,_947,_948,_949,_94a,all,dom,_94b,_94c,_94d,_94e,_94f,has,_950,keys,lang,on,_951,_952,when,_953,_954,_955,_956,_957,_958,_959,_95a,_95b,_95c,_95d,_95e,_95f,_960,_961){function _962(d){return lang.delegate(d.promise||d,{addCallback:function(_963){this.then(_963);},addErrback:function(_964){this.otherwise(_964);}});};var _965=_949("dijit._TreeNode",[_957,_958,_959,_95a,_95b],{item:null,isTreeNode:true,label:"",_setLabelAttr:function(val){this.labelNode[this.labelType=="html"?"innerHTML":"innerText" in this.labelNode?"innerText":"textContent"]=val;this._set("label",val);},labelType:"text",isExpandable:null,isExpanded:false,state:"NotLoaded",templateString:_95d,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_966){var _967=(Math.max(_966,0)*this.tree._nodePixelIndent)+"px";_94d.set(this.domNode,"backgroundPosition",_967+" 0px");_94d.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_967);_946.forEach(this.getChildren(),function(_968){_968.set("indent",_966+1);});this._set("indent",_966);},markProcessing:function(){this.state="Loading";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_969=tree.model;if(tree._v10Compat&&item===_969.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");this.tree._startPaint(true);},_applyClassAndStyle:function(item,_96a,_96b){var _96c="_"+_96a+"Class";var _96d=_96a+"Node";var _96e=this[_96c];this[_96c]=this.tree["get"+_96b+"Class"](item,this.isExpanded);_94b.replace(this[_96d],this[_96c]||"",_96e||"");_94d.set(this[_96d],this.tree["get"+_96b+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _96f=this.getParent(),_970=!_96f||!_96f.rowNode||_96f.rowNode.style.display=="none";_94b.toggle(this.domNode,"dijitTreeIsRoot",_970);_94b.toggle(this.domNode,"dijitTreeIsLast",!_970&&!this.getNextSibling());},_setExpando:function(_971){var _972=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_973=["*","-","+","*"],idx=_971?0:(this.isExpandable?(this.isExpanded?1:2):3);_94b.replace(this.expandoNode,_972[idx],_972);this.expandoNodeText.innerHTML=_973[idx];},expand:function(){if(this._expandDeferred){return _962(this._expandDeferred);}if(this._collapseDeferred){this._collapseDeferred.cancel();delete this._collapseDeferred;}this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group");}_94b.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","true");}var _974=_94f.wipeIn({node:this.containerNode,duration:_956.defaultDuration});var def=(this._expandDeferred=new _94a(function(){_974.stop();}));_947.after(_974,"onEnd",function(){def.resolve(true);},true);_974.play();return _962(def);},collapse:function(){if(this._collapseDeferred){return _962(this._collapseDeferred);}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","false");}_94b.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var _975=_94f.wipeOut({node:this.containerNode,duration:_956.defaultDuration});var def=(this._collapseDeferred=new _94a(function(){_975.stop();}));_947.after(_975,"onEnd",function(){def.resolve(true);},true);_975.play();return _962(def);},indent:0,setChildItems:function(_976){var tree=this.tree,_977=tree.model,defs=[];var _978=tree.focusedChild;var _979=this.getChildren();_946.forEach(_979,function(_97a){_959.prototype.removeChild.call(this,_97a);},this);this.defer(function(){_946.forEach(_979,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);function _97b(node){var id=_977.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var _97c=_946.indexOf(ary,node);if(_97c!=-1){ary.splice(_97c,1);}}_946.forEach(node.getChildren(),_97b);};_97b(node);if(tree.persist){var _97d=_946.map(node.getTreePath(),function(item){return tree.model.getIdentity(item);}).join("/");for(var path in tree._openedNodes){if(path.substr(0,_97d.length)==_97d){delete tree._openedNodes[path];}}tree._saveExpandedNodes();}if(tree.lastFocusedChild&&!dom.isDescendant(tree.lastFocusedChild,tree.domNode)){delete tree.lastFocusedChild;}if(_978&&!dom.isDescendant(_978,tree.domNode)){tree.focus();}node.destroyRecursive();}});});this.state="Loaded";if(_976&&_976.length>0){this.isExpandable=true;_946.forEach(_976,function(item){var id=_977.getIdentity(item),_97e=tree._itemNodesMap[id],node;if(_97e){for(var i=0;i<_97e.length;i++){if(_97e[i]&&!_97e[i].getParent()){node=_97e[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_977.mayHaveChildren(item),label:tree.getLabel(item),labelType:(tree.model&&tree.model.labelType)||"text",tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_97e){_97e.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_946.forEach(this.getChildren(),function(_97f){_97f._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);var def=all(defs);this.tree._startPaint(def);return _962(def);},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _980=this.getChildren();if(_980.length==0){this.isExpandable=false;this.collapse();}_946.forEach(_980,function(_981){_981._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},setSelected:function(_982){this.labelNode.setAttribute("aria-selected",_982?"true":"false");_94b.toggle(this.rowNode,"dijitTreeRowSelected",_982);},focus:function(){_954.focus(this.focusNode);}});if(has("dojo-bidi")){_965.extend({_setTextDirAttr:function(_983){if(_983&&((this.textDir!=_983)||!this._created)){this._set("textDir",_983);this.applyTextDir(this.labelNode);_946.forEach(this.getChildren(),function(_984){_984.set("textDir",_983);},this);}}});}var Tree=_949("dijit.Tree",[_957,_95c,_958,_95b],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_95e,persist:false,autoExpand:false,dndController:_961,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_985,_986){_951.publish(this.id,lang.mixin({tree:this,event:_985},_986||{}));},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie";}this.expandChildrenDeferred=new _94a();this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments);},postCreate:function(){this._initState();var self=this;this.own(on(this.containerNode,on.selector(".dijitTreeNode",_952.enter),function(evt){self._onNodeMouseEnter(_955.byNode(this),evt);}),on(this.containerNode,on.selector(".dijitTreeNode",_952.leave),function(evt){self._onNodeMouseLeave(_955.byNode(this),evt);}),on(this.containerNode,on.selector(".dijitTreeRow",_953.press),function(evt){self._onNodePress(_955.getEnclosingWidget(this),evt);}),on(this.containerNode,on.selector(".dijitTreeRow",_953),function(evt){self._onClick(_955.getEnclosingWidget(this),evt);}),on(this.containerNode,on.selector(".dijitTreeRow","dblclick"),function(evt){self._onDblClick(_955.getEnclosingWidget(this),evt);}));if(!this.model){this._store2model();}this.own(_947.after(this.model,"onChange",lang.hitch(this,"_onItemChange"),true),_947.after(this.model,"onChildrenChange",lang.hitch(this,"_onItemChildrenChange"),true),_947.after(this.model,"onDelete",lang.hitch(this,"_onItemDelete"),true));this.inherited(arguments);if(this.dndController){if(lang.isString(this.dndController)){this.dndController=lang.getObject(this.dndController);}var _987={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_987[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_987);}this._load();this.onLoadDeferred=_962(this.pendingCommandsPromise);this.onLoadDeferred.then(lang.hitch(this,"onLoad"));},_store2model:function(){this._v10Compat=true;_950.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _988={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_988.mayHaveChildren=lang.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_988.getChildren=lang.hitch(this,function(item,_989,_98a){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_989,_98a);});}this.model=new _960(_988);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(lang.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");this.domNode.removeAttribute("aria-expanded");this.domNode.removeAttribute("aria-multiselectable");if(this["aria-label"]){rn.containerNode.setAttribute("aria-label",this["aria-label"]);this.domNode.removeAttribute("aria-label");}else{if(this["aria-labelledby"]){rn.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]);this.domNode.removeAttribute("aria-labelledby");}}rn.labelNode.setAttribute("role","presentation");rn.containerNode.setAttribute("role","tree");rn.containerNode.setAttribute("aria-expanded","true");rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);}else{this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);this.rootLoadingIndicator.style.display="none";}this.containerNode.appendChild(rn.domNode);var _98b=this.model.getIdentity(item);if(this._itemNodesMap[_98b]){this._itemNodesMap[_98b].push(rn);}else{this._itemNodesMap[_98b]=[rn];}rn._updateLayout();this._expandNode(rn).then(lang.hitch(this,function(){if(!this._destroyed){this.rootLoadingIndicator.style.display="none";this.expandChildrenDeferred.resolve(true);}}));}),lang.hitch(this,function(err){console.error(this,": error loading root: ",err);}));},getNodesByItem:function(item){if(!item){return [];}var _98c=lang.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_98c]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(_98d){var tree=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(lang.hitch(this,function(){var _98e=_946.map(_98d,function(item){return (!item||lang.isString(item))?item:tree.model.getIdentity(item);});var _98f=[];_946.forEach(_98e,function(id){_98f=_98f.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",_98f);}));},_setPathAttr:function(path){if(path.length){return _962(this.set("paths",[path]).then(function(_990){return _990[0];}));}else{return _962(this.set("paths",[]).then(function(_991){return _991[0];}));}},_setPathsAttr:function(_992){var tree=this;function _993(path,_994){var _995=path.shift();var _996=_946.filter(_994,function(node){return node.getIdentity()==_995;})[0];if(!!_996){if(path.length){return tree._expandNode(_996).then(function(){return _993(path,_996.getChildren());});}else{return _996;}}else{throw new Tree.PathError("Could not expand path at "+_995);}};return _962(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return all(_946.map(_992,function(path){path=_946.map(path,function(item){return lang.isString(item)?item:tree.model.getIdentity(item);});if(path.length){return _993(path,[tree.rootNode]);}else{throw new Tree.PathError("Empty path");}}));}).then(function setNodes(_997){tree.set("selectedNodes",_997);return tree.paths;}));},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(_998){this.dndController.setSelection(_998);},expandAll:function(){var _999=this;function _99a(node){return _999._expandNode(node).then(function(){var _99b=_946.filter(node.getChildren()||[],function(node){return node.isExpandable;});return all(_946.map(_99b,_99a));});};return _962(_99a(this.rootNode));},collapseAll:function(){var _99c=this;function _99d(node){var _99e=_946.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=all(_946.map(_99e,_99d));if(!node.isExpanded||(node==_99c.rootNode&&!_99c.showRoot)){return defs;}else{return defs.then(function(){return _99c._collapseNode(node);});}};return _962(_99d(this.rootNode));},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_99f){return (!item||this.model.mayHaveChildren(item))?(_99f?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return "";},_onDownArrow:function(evt,node){var _9a0=this._getNext(node);if(_9a0&&_9a0.isTreeNode){this.focusNode(_9a0);}},_onUpArrow:function(evt,node){var _9a1=node.getPreviousSibling();if(_9a1){node=_9a1;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _9a2=node.getChildren();node=_9a2[_9a2.length-1];}}else{var _9a3=node.getParent();if(!(!this.showRoot&&_9a3===this.rootNode)){node=_9a3;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(evt,node){if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(evt,node){if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _9a4=node.getParent();if(_9a4&&_9a4.isTreeNode&&!(!this.showRoot&&_9a4===this.rootNode)){this.focusNode(_9a4);}}},focusLastChild:function(){var node=this._getLast();if(node&&node.isTreeNode){this.focusNode(node);}},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_getLast:function(){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();if(!c.length){break;}node=c[c.length-1];}return node;},_getNext:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _9a5=node.getNextSibling();if(_9a5){return _9a5;}node=node.getParent();}return null;}},childSelector:".dijitTreeRow",isExpandoNode:function(node,_9a6){return dom.isDescendant(node,_9a6.expandoNode)||dom.isDescendant(node,_9a6.expandoNodeText);},_onNodePress:function(_9a7,e){this.focusNode(_9a7);},__click:function(_9a8,e,_9a9,func){var _9aa=e.target,_9ab=this.isExpandoNode(_9aa,_9a8);if(_9a8.isExpandable&&(_9a9||_9ab)){this._onExpandoClick({node:_9a8});}else{this._publish("execute",{item:_9a8.item,node:_9a8,evt:e});this[func](_9a8.item,_9a8,e);this.focusNode(_9a8);}e.stopPropagation();e.preventDefault();},_onClick:function(_9ac,e){this.__click(_9ac,e,this.openOnClick,"onClick");},_onDblClick:function(_9ad,e){this.__click(_9ad,e,this.openOnDblClick,"onDblClick");},_onExpandoClick:function(_9ae){var node=_9ae.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(node){_950.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(node);},_getRootOrFirstNode:function(){_950.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst();},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.state=="Loading"){return;}if(node.isExpanded){var ret=node.collapse();this.onClose(node.item,node);this._state(node,false);this._startPaint(ret);return ret;}},_expandNode:function(node){if(node._expandNodeDeferred){return node._expandNodeDeferred;}var _9af=this.model,item=node.item,_9b0=this;if(!node._loadDeferred){node.markProcessing();node._loadDeferred=new _94a();_9af.getChildren(item,function(_9b1){node.unmarkProcessing();node.setChildItems(_9b1).then(function(){node._loadDeferred.resolve(_9b1);});},function(err){console.error(_9b0,": error loading "+node.label+" children: ",err);node._loadDeferred.reject(err);});}var def=node._loadDeferred.then(lang.hitch(this,function(){var def2=node.expand();this.onOpen(node.item,node);this._state(node,true);return def2;}));this._startPaint(def);return def;},focusNode:function(node){var _9b2=this.domNode.scrollLeft;this.focusChild(node);this.domNode.scrollLeft=_9b2;},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(item){var _9b3=this.model,_9b4=_9b3.getIdentity(item),_9b5=this._itemNodesMap[_9b4];if(_9b5){var _9b6=this.getLabel(item),_9b7=this.getTooltip(item);_946.forEach(_9b5,function(node){node.set({item:item,label:_9b6,tooltip:_9b7});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_9b8,_9b9){var _9ba=this.model,_9bb=_9ba.getIdentity(_9b8),_9bc=this._itemNodesMap[_9bb];if(_9bc){_946.forEach(_9bc,function(_9bd){_9bd.setChildItems(_9b9);});}},_onItemDelete:function(item){var _9be=this.model,_9bf=_9be.getIdentity(item),_9c0=this._itemNodesMap[_9bf];if(_9c0){_946.forEach(_9c0,function(node){this.dndController.removeTreeNode(node);var _9c1=node.getParent();if(_9c1){_9c1.removeChild(node);}if(this.lastFocusedChild&&!dom.isDescendant(this.lastFocusedChild,this.domNode)){delete this.lastFocusedChild;}if(this.focusedChild&&!dom.isDescendant(this.focusedChild,this.domNode)){this.focus();}node.destroyRecursive();},this);delete this._itemNodesMap[_9bf];}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var oreo=_948(this.cookieName);if(oreo){_946.forEach(oreo.split(","),function(item){this._openedNodes[item]=true;},this);}}},_state:function(node,_9c2){if(!this.persist){return false;}var path=_946.map(node.getTreePath(),function(item){return this.model.getIdentity(item);},this).join("/");if(arguments.length===1){return this._openedNodes[path];}else{if(_9c2){this._openedNodes[path]=true;}else{delete this._openedNodes[path];}this._saveExpandedNodes();}},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var ary=[];for(var id in this._openedNodes){ary.push(id);}_948(this.cookieName,ary.join(","),{expires:365});}},destroy:function(){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!lang.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_9c3){if(_9c3){_94c.setMarginBox(this.domNode,_9c3);}this._nodePixelIndent=_94c.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(lang.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths();}));},_outstandingPaintOperations:0,_startPaint:function(p){this._outstandingPaintOperations++;if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var oc=lang.hitch(this,function(){this._outstandingPaintOperations--;if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){this._adjustWidthsTimer=this.defer("_adjustWidths");}});when(p,oc,oc);},_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%";},_createTreeNode:function(args){return new _965(args);},focus:function(){if(this.lastFocusedChild){this.focusNode(this.lastFocusedChild);}else{this.focusFirstChild();}}});if(has("dojo-bidi")){Tree.extend({_setTextDirAttr:function(_9c4){if(_9c4&&this.textDir!=_9c4){this._set("textDir",_9c4);this.rootNode.set("textDir",_9c4);}}});}Tree.PathError=_94e("TreePathError");Tree._TreeNode=_965;return Tree;});},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(dojo,_9c5){dojo.cookie=function(name,_9c6,_9c7){var c=document.cookie,ret;if(arguments.length==1){var _9c8=c.match(new RegExp("(?:^|; )"+_9c5.escapeString(name)+"=([^;]*)"));ret=_9c8?decodeURIComponent(_9c8[1]):undefined;}else{_9c7=_9c7||{};var exp=_9c7.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_9c7.expires=d;}if(exp&&exp.toUTCString){_9c7.expires=exp.toUTCString();}_9c6=encodeURIComponent(_9c6);var _9c9=name+"="+_9c6,_9ca;for(_9ca in _9c7){_9c9+="; "+_9ca;var _9cb=_9c7[_9ca];if(_9cb!==true){_9c9+="="+_9cb;}}document.cookie=_9c9;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_9cc,dojo,_9cd,_9ce,_9cf,dom,_9d0,geom,_9d1,_9d2){if(!dojo.isAsync){_9d1(0,function(){var _9d3=["./fx/Toggler"];_9d2(_9d3);});}var _9d4=dojo.fx={};var _9d5={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _9d6=function(_9d7){this._index=-1;this._animations=_9d7||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_9cd.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_9d6.prototype=new _9cc();lang.extend(_9d6,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_9ce.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);this._onEndCtx=_9ce.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play(0,true);}},play:function(_9d8,_9d9){if(!this._current){this._current=this._animations[this._index=0];}if(!_9d9&&this._current.status()=="playing"){return this;}var _9da=_9ce.after(this._current,"beforeBegin",lang.hitch(this,function(){this._fire("beforeBegin");}),true),_9db=_9ce.after(this._current,"onBegin",lang.hitch(this,function(arg){this._fire("onBegin",arguments);}),true),_9dc=_9ce.after(this._current,"onPlay",lang.hitch(this,function(arg){this._fire("onPlay",arguments);_9da.remove();_9db.remove();_9dc.remove();}));if(this._onAnimateCtx){this._onAnimateCtx.remove();}this._onAnimateCtx=_9ce.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);if(this._onEndCtx){this._onEndCtx.remove();}this._onEndCtx=_9ce.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_9ce.after(this._current,"onPause",lang.hitch(this,function(arg){this._fire("onPause",arguments);e.remove();}),true);this._current.pause();}return this;},gotoPercent:function(_9dd,_9de){this.pause();var _9df=this.duration*_9dd;this._current=null;_9cd.some(this._animations,function(a,_9e0){if(_9df<=a.duration){this._current=a;this._index=_9e0;return true;}_9df-=a.duration;return false;},this);if(this._current){this._current.gotoPercent(_9df/this._current.duration);}if(_9de){this.play();}return this;},stop:function(_9e1){if(this._current){if(_9e1){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_9ce.after(this._current,"onStop",lang.hitch(this,function(arg){this._fire("onStop",arguments);e.remove();}),true);this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){this.stop();if(this._onAnimateCtx){this._onAnimateCtx.remove();}if(this._onEndCtx){this._onEndCtx.remove();}}});lang.extend(_9d6,_9d5);_9d4.chain=function(_9e2){return new _9d6(_9e2);};var _9e3=function(_9e4){this._animations=_9e4||[];this._connects=[];this._finished=0;this.duration=0;_9cd.forEach(_9e4,function(a){var _9e5=a.duration;if(a.delay){_9e5+=a.delay;}if(this.duration<_9e5){this.duration=_9e5;}this._connects.push(_9ce.after(a,"onEnd",lang.hitch(this,"_onEnd"),true));},this);this._pseudoAnimation=new _9cf.Animation({curve:[0,1],duration:this.duration});var self=this;_9cd.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_9ce.after(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);},true));});};lang.extend(_9e3,{_doAction:function(_9e6,args){_9cd.forEach(this._animations,function(a){a[_9e6].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_9e7,args){var t=this._pseudoAnimation;t[_9e7].apply(t,args);},play:function(_9e8,_9e9){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_9ea,_9eb){var ms=this.duration*_9ea;_9cd.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_9eb);});this._call("gotoPercent",arguments);return this;},stop:function(_9ec){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){this.stop();_9cd.forEach(this._connects,function(_9ed){_9ed.remove();});}});lang.extend(_9e3,_9d5);_9d4.combine=function(_9ee){return new _9e3(_9ee);};_9d4.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_9cf.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _9ef=_9d0.get(node,"height");return Math.max(_9ef,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_9ce.after(anim,"onStop",fini,true);_9ce.after(anim,"onEnd",fini,true);return anim;};_9d4.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_9cf.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_9ce.after(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";},true);var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_9ce.after(anim,"onStop",fini,true);_9ce.after(anim,"onEnd",fini,true);return anim;};_9d4.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_9d0.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_9cf.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_9ce.after(anim,"beforeBegin",init,true);return anim;};return _9d4;});},"dijit/_KeyNavMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(_9f0,_9f1,_9f2,keys,lang,on,_9f3,_9f4){return _9f1("dijit._KeyNavMixin",_9f4,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);_9f2.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var _9f5=this._keyNavCodes={};_9f5[keys.HOME]=lang.hitch(this,"focusFirstChild");_9f5[keys.END]=lang.hitch(this,"focusLastChild");_9f5[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]=lang.hitch(this,"_onLeftArrow");_9f5[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]=lang.hitch(this,"_onRightArrow");_9f5[keys.UP_ARROW]=lang.hitch(this,"_onUpArrow");_9f5[keys.DOWN_ARROW]=lang.hitch(this,"_onDownArrow");}var self=this,_9f6=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.domNode,"keypress",lang.hitch(this,"_onContainerKeypress")),on(this.domNode,"keydown",lang.hitch(this,"_onContainerKeydown")),on(this.domNode,"focus",lang.hitch(this,"_onContainerFocus")),on(this.containerNode,on.selector(_9f6,"focusin"),function(evt){self._onChildFocus(_9f3.getEnclosingWidget(this),evt);}));},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild();},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusChild:function(_9f7,last){if(!_9f7){return;}if(this.focusedChild&&_9f7!==this.focusedChild){this._onChildBlur(this.focusedChild);}_9f7.set("tabIndex",this.tabIndex);_9f7.focus(last?"end":"start");},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focus();},_onFocus:function(){_9f2.set(this.domNode,"tabIndex","-1");this.inherited(arguments);},_onBlur:function(evt){_9f2.set(this.domNode,"tabIndex",this.tabIndex);if(this.focusedChild){this.focusedChild.set("tabIndex","-1");this.lastFocusedChild=this.focusedChild;this._set("focusedChild",null);}this.inherited(arguments);},_onChildFocus:function(_9f8){if(_9f8&&_9f8!=this.focusedChild){if(this.focusedChild&&!this.focusedChild._destroyed){this.focusedChild.set("tabIndex","-1");}_9f8.set("tabIndex",this.tabIndex);this.lastFocused=_9f8;this._set("focusedChild",_9f8);}},_searchString:"",multiCharSearchDuration:1000,onKeyboardSearch:function(item,evt,_9f9,_9fa){if(item){this.focusChild(item);}},_keyboardSearchCompare:function(item,_9fb){var _9fc=item.domNode,text=item.label||(_9fc.focusNode?_9fc.focusNode.label:"")||_9fc.innerText||_9fc.textContent||"",_9fd=text.replace(/^\s+/,"").substr(0,_9fb.length).toLowerCase();return (!!_9fb.length&&_9fd==_9fb)?-1:0;},_onContainerKeydown:function(evt){var func=this._keyNavCodes[evt.keyCode];if(func){func(evt,this.focusedChild);evt.stopPropagation();evt.preventDefault();this._searchString="";}else{if(evt.keyCode==keys.SPACE&&this._searchTimer&&!(evt.ctrlKey||evt.altKey||evt.metaKey)){evt.stopImmediatePropagation();evt.preventDefault();this._keyboardSearch(evt," ");}}},_onContainerKeypress:function(evt){if(evt.charCode<=keys.SPACE||evt.ctrlKey||evt.altKey||evt.metaKey){return;}evt.preventDefault();evt.stopPropagation();this._keyboardSearch(evt,String.fromCharCode(evt.charCode).toLowerCase());},_keyboardSearch:function(evt,_9fe){var _9ff=null,_a00,_a01=0,_a02=lang.hitch(this,function(){if(this._searchTimer){this._searchTimer.remove();}this._searchString+=_9fe;var _a03=/^(.)\1*$/.test(this._searchString);var _a04=_a03?1:this._searchString.length;_a00=this._searchString.substr(0,_a04);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString="";},this.multiCharSearchDuration);var _a05=this.focusedChild||null;if(_a04==1||!_a05){_a05=this._getNextFocusableChild(_a05,1);if(!_a05){return;}}var stop=_a05;do{var rc=this._keyboardSearchCompare(_a05,_a00);if(!!rc&&_a01++==0){_9ff=_a05;}if(rc==-1){_a01=-1;break;}_a05=this._getNextFocusableChild(_a05,1);}while(_a05!=stop);});_a02();this.onKeyboardSearch(_9ff,evt,_a00,_a01);},_onChildBlur:function(){},_getNextFocusableChild:function(_a06,dir){var _a07=_a06;do{if(!_a06){_a06=this[dir>0?"_getFirst":"_getLast"]();if(!_a06){break;}}else{_a06=this._getNext(_a06,dir);}if(_a06!=null&&_a06!=_a07&&_a06.isFocusable()){return _a06;}}while(_a06!=_a07);return null;},_getFirst:function(){return null;},_getLast:function(){return null;},_getNext:function(_a08,dir){if(_a08){_a08=_a08.domNode;while(_a08){_a08=_a08[dir<0?"previousSibling":"nextSibling"];if(_a08&&"getAttribute" in _a08){var w=_9f3.byNode(_a08);if(w){return w;}}}}return null;}});});},"dijit/tree/_dndSelector":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/dnd/common","dojo/dom","dojo/mouse","dojo/on","dojo/touch","../a11yclick","./_dndContainer"],function(_a09,_a0a,_a0b,lang,_a0c,dom,_a0d,on,_a0e,_a0f,_a10){return _a0a("dijit.tree._dndSelector",_a10,{constructor:function(){this.selection={};this.anchor=null;this.events.push(on(this.tree.domNode,_a0e.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_a0e.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_a0e.move,lang.hitch(this,"onMouseMove")),on(this.tree.domNode,_a0f.press,lang.hitch(this,"onClickPress")),on(this.tree.domNode,_a0f.release,lang.hitch(this,"onClickRelease")));},singular:false,getSelectedTreeNodes:function(){var _a11=[],sel=this.selection;for(var i in sel){_a11.push(sel[i]);}return _a11;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_a12){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_a12){this.anchor=node;}return node;},removeTreeNode:function(node){var _a13=_a09.filter(this.getSelectedTreeNodes(),function(_a14){return !dom.isDescendant(_a14.domNode,node.domNode);});this.setSelection(_a13);return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_a15){var _a16=this.getSelectedTreeNodes();_a09.forEach(this._setDifference(_a16,_a15),lang.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));_a09.forEach(this._setDifference(_a15,_a16),lang.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){_a09.forEach(ys,function(y){y.__exclude__=true;});var ret=_a09.filter(xs,function(x){return !x.__exclude__;});_a09.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _a17=this.getSelectedTreeNodes();var _a18=[],_a19=[];_a09.forEach(_a17,function(node){var ary=node.getTreePath();_a19.push(node);_a18.push(ary);},this);var _a1a=_a09.map(_a19,function(node){return node.item;});this.tree._set("paths",_a18);this.tree._set("path",_a18[0]||[]);this.tree._set("selectedNodes",_a19);this.tree._set("selectedNode",_a19[0]||null);this.tree._set("selectedItems",_a1a);this.tree._set("selectedItem",_a1a[0]||null);},onClickPress:function(e){if(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(e.target,this.current)){return;}if(e.type=="mousedown"&&_a0d.isLeft(e)){e.preventDefault();}var _a1b=e.type=="keydown"?this.tree.focusedChild:this.current;if(!_a1b){return;}var copy=_a0c.getCopyKeyState(e),id=_a1b.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_a1b,copy,e.shiftKey);},onClickRelease:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(e.type=="keyup"?this.tree.focusedChild:this.current,_a0c.getCopyKeyState(e),e.shiftKey);},onMouseMove:function(){this._doDeselect=false;},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}},userSelect:function(node,_a1c,_a1d){if(this.singular){if(this.anchor==node&&_a1c){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_a1d&&this.anchor){var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_a1e,end,_a1f=this.anchor;if(cr<0){_a1e=_a1f;end=node;}else{_a1e=node;end=_a1f;}var _a20=[];while(_a1e!=end){_a20.push(_a1e);_a1e=this.tree._getNext(_a1e);}_a20.push(end);this.setSelection(_a20);}else{if(this.selection[node.id]&&_a1c){this.removeTreeNode(node);}else{if(_a1c){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},getItem:function(key){var _a21=this.selection[key];return {data:_a21,type:["treeNode"]};},forInSelectedItems:function(f,o){o=o||_a0b.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});});},"dijit/tree/_dndContainer":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/touch"],function(_a22,_a23,_a24,lang,on,_a25){return _a23("dijit.tree._dndContainer",null,{constructor:function(tree,_a26){this.tree=tree;this.node=tree.domNode;lang.mixin(this,_a26);this.containerState="";_a24.add(this.node,"dojoDndContainer");this.events=[on(this.node,_a25.enter,lang.hitch(this,"onOverEvent")),on(this.node,_a25.leave,lang.hitch(this,"onOutEvent")),_a22.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_a22.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart, selectstart",function(evt){evt.preventDefault();})];},destroy:function(){var h;while(h=this.events.pop()){h.remove();}this.node=this.parent=null;},onMouseOver:function(_a27){this.current=_a27;},onMouseOut:function(){this.current=null;},_changeState:function(type,_a28){var _a29="dojoDnd"+type;var _a2a=type.toLowerCase()+"State";_a24.replace(this.node,_a29+_a28,_a29+this[_a2a]);this[_a2a]=_a28;},_addItemClass:function(node,type){_a24.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_a24.remove(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});});},"dijit/tree/dndSource":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dnd/common","dojo/dom-class","dojo/dom-geometry","dojo/_base/lang","dojo/on","dojo/touch","dojo/topic","dojo/dnd/Manager","./_dndSelector"],function(_a2b,_a2c,_a2d,_a2e,_a2f,lang,on,_a30,_a31,_a32,_a33){var _a34=_a2c("dijit.tree.dndSource",_a33,{isSource:true,accept:["text","treeNode"],copyOnly:false,dragThreshold:5,betweenThreshold:0,generateText:true,constructor:function(tree,_a35){if(!_a35){_a35={};}lang.mixin(this,_a35);var type=_a35.accept instanceof Array?_a35.accept:["text","treeNode"];this.accept=null;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.dropPosition="";this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){_a2e.add(this.node,"dojoDndSource");}this.targetState="";if(this.accept){_a2e.add(this.node,"dojoDndTarget");}this.topics=[_a31.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),_a31.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),_a31.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),_a31.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];},checkAcceptance:function(){return true;},copyState:function(_a36){return this.copyOnly||_a36;},destroy:function(){this.inherited(arguments);var h;while(h=this.topics.pop()){h.remove();}this.targetAnchor=null;},_onDragMouse:function(e,_a37){var m=_a32.manager(),_a38=this.targetAnchor,_a39=this.current,_a3a=this.dropPosition;var _a3b="Over";if(_a39&&this.betweenThreshold>0){if(!this.targetBox||_a38!=_a39){this.targetBox=_a2f.position(_a39.rowNode,true);}if((e.pageY-this.targetBox.y)<=this.betweenThreshold){_a3b="Before";}else{if((e.pageY-this.targetBox.y)>=(this.targetBox.h-this.betweenThreshold)){_a3b="After";}}}if(_a37||_a39!=_a38||_a3b!=_a3a){if(_a38){this._removeItemClass(_a38.rowNode,_a3a);}if(_a39){this._addItemClass(_a39.rowNode,_a3b);}if(!_a39){m.canDrop(false);}else{if(_a39==this.tree.rootNode&&_a3b!="Over"){m.canDrop(false);}else{var _a3c=false,_a3d=false;if(m.source==this){_a3d=(_a3b==="Over");for(var _a3e in this.selection){var _a3f=this.selection[_a3e];if(_a3f.item===_a39.item){_a3c=true;break;}if(_a3f.getParent().id!==_a39.id){_a3d=false;}}}m.canDrop(!_a3c&&!_a3d&&!this._isParentChildDrop(m.source,_a39.rowNode)&&this.checkItemAcceptance(_a39.rowNode,m.source,_a3b.toLowerCase()));}}this.targetAnchor=_a39;this.dropPosition=_a3b;}},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}this.inherited(arguments);var m=_a32.manager();if(this.isDragging){this._onDragMouse(e);}else{if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>=this.dragThreshold||Math.abs(e.pageY-this._lastY)>=this.dragThreshold)){var _a40=this.getSelectedTreeNodes();if(_a40.length){if(_a40.length>1){var seen=this.selection,i=0,r=[],n,p;nextitem:while((n=_a40[i++])){for(p=n.getParent();p&&p!==this.tree;p=p.getParent()){if(seen[p.id]){continue nextitem;}}r.push(n);}_a40=r;}_a40=_a2b.map(_a40,function(n){return n.domNode;});m.startDrag(this,_a40,this.copyState(_a2d.getCopyKeyState(e)));this._onDragMouse(e,true);}}}},onMouseDown:function(e){this.mouseDown=true;this.mouseButton=e.button;this._lastX=e.pageX;this._lastY=e.pageY;this.inherited(arguments);},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;this.inherited(arguments);}},onMouseOut:function(){this.inherited(arguments);this._unmarkTargetAnchor();},checkItemAcceptance:function(){return true;},onDndSourceOver:function(_a41){if(this!=_a41){this.mouseDown=false;this._unmarkTargetAnchor();}else{if(this.isDragging){var m=_a32.manager();m.canDrop(false);}}},onDndStart:function(_a42,_a43,copy){if(this.isSource){this._changeState("Source",this==_a42?(copy?"Copied":"Moved"):"");}var _a44=this.checkAcceptance(_a42,_a43);this._changeState("Target",_a44?"":"Disabled");if(this==_a42){_a32.manager().overSource(this);}this.isDragging=true;},itemCreator:function(_a45){return _a2b.map(_a45,function(node){return {"id":node.id,"name":node.textContent||node.innerText||""};});},onDndDrop:function(_a46,_a47,copy){if(this.containerState=="Over"){var tree=this.tree,_a48=tree.model,_a49=this.targetAnchor;this.isDragging=false;var _a4a;var _a4b;var _a4c;_a4a=(_a49&&_a49.item)||tree.item;if(this.dropPosition=="Before"||this.dropPosition=="After"){_a4a=(_a49.getParent()&&_a49.getParent().item)||tree.item;_a4b=_a49.getIndexInParent();if(this.dropPosition=="After"){_a4b=_a49.getIndexInParent()+1;_a4c=_a49.getNextSibling()&&_a49.getNextSibling().item;}else{_a4c=_a49.item;}}else{_a4a=(_a49&&_a49.item)||tree.item;}var _a4d;_a2b.forEach(_a47,function(node,idx){var _a4e=_a46.getItem(node.id);if(_a2b.indexOf(_a4e.type,"treeNode")!=-1){var _a4f=_a4e.data,_a50=_a4f.item,_a51=_a4f.getParent().item;}if(_a46==this){if(typeof _a4b=="number"){if(_a4a==_a51&&_a4f.getIndexInParent()<_a4b){_a4b-=1;}}_a48.pasteItem(_a50,_a51,_a4a,copy,_a4b,_a4c);}else{if(_a48.isItem(_a50)){_a48.pasteItem(_a50,_a51,_a4a,copy,_a4b,_a4c);}else{if(!_a4d){_a4d=this.itemCreator(_a47,_a49.rowNode,_a46);}_a48.newItem(_a4d[idx],_a4a,_a4b,_a4c);}}},this);this.tree._expandNode(_a49);}this.onDndCancel();},onDndCancel:function(){this._unmarkTargetAnchor();this.isDragging=false;this.mouseDown=false;delete this.mouseButton;this._changeState("Source","");this._changeState("Target","");},onOverEvent:function(){this.inherited(arguments);_a32.manager().overSource(this);},onOutEvent:function(){this._unmarkTargetAnchor();var m=_a32.manager();if(this.isDragging){m.canDrop(false);}m.outSource(this);this.inherited(arguments);},_isParentChildDrop:function(_a52,_a53){if(!_a52.tree||_a52.tree!=this.tree){return false;}var root=_a52.tree.domNode;var ids=_a52.selection;var node=_a53.parentNode;while(node!=root&&!ids[node.id]){node=node.parentNode;}return node.id&&ids[node.id];},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor.rowNode,this.dropPosition);this.targetAnchor=null;this.targetBox=null;this.dropPosition=null;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");}});return _a34;});},"dijit/tree/ObjectStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/_base/lang","dojo/when","../Destroyable"],function(_a54,_a55,_a56,_a57,lang,when,_a58){return _a56("dijit.tree.ObjectStoreModel",_a58,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(args){lang.mixin(this,args);this.childrenCache={};},getRoot:function(_a59,_a5a){if(this.root){_a59(this.root);}else{var res=this.store.query(this.query);if(res.then){this.own(res);}when(res,lang.hitch(this,function(_a5b){if(_a5b.length!=1){throw new Error("dijit.tree.ObjectStoreModel: root query returned "+_a5b.length+" items, but must return exactly one");}this.root=_a5b[0];_a59(this.root);if(res.observe){res.observe(lang.hitch(this,function(obj){this.onChange(obj);}),true);}}),_a5a);}},mayHaveChildren:function(){return true;},getChildren:function(_a5c,_a5d,_a5e){var id=this.store.getIdentity(_a5c);if(this.childrenCache[id]){when(this.childrenCache[id],_a5d,_a5e);return;}var res=this.childrenCache[id]=this.store.getChildren(_a5c);if(res.then){this.own(res);}if(res.observe){this.own(res.observe(lang.hitch(this,function(obj,_a5f,_a60){this.onChange(obj);if(_a5f!=_a60){when(res,lang.hitch(this,"onChildrenChange",_a5c));}}),true));}when(res,_a5d,_a5e);},isItem:function(){return true;},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){return item[this.labelAttr];},newItem:function(args,_a61,_a62,_a63){return this.store.put(args,{parent:_a61,before:_a63});},pasteItem:function(_a64,_a65,_a66,_a67,_a68,_a69){var d=new _a57();if(_a65===_a66&&!_a67&&!_a69){d.resolve(true);return d;}if(_a65&&!_a67){this.getChildren(_a65,lang.hitch(this,function(_a6a){_a6a=[].concat(_a6a);var _a6b=_a54.indexOf(_a6a,_a64);_a6a.splice(_a6b,1);this.onChildrenChange(_a65,_a6a);d.resolve(this.store.put(_a64,{overwrite:true,parent:_a66,oldParent:_a65,before:_a69}));}));}else{d.resolve(this.store.put(_a64,{overwrite:true,parent:_a66,oldParent:_a65,before:_a69}));}return d;},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}});});},"dojox/layout/ContentPane":function(){define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(lang,_a6c,_a6d,_a6e,_a6f){return _a6f("dojox.layout.ContentPane",_a6d,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,ioMethod:_a6c.get,ioArgs:{},onExecError:function(e){},_setContent:function(cont){var _a70=this._contentSetter;if(!(_a70&&_a70 instanceof _a6e._ContentSetter)){_a70=this._contentSetter=new _a6e._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _a71=this.onContentError(e);try{this.containerNode.innerHTML=_a71;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};return this.inherited("_setContent",arguments);},destroy:function(){var _a72=this._contentSetter;if(_a72){_a72.tearDown();}this.inherited(arguments);}});});},"dojox/html/_base":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/dom-construct","dojo/html","dojo/_base/kernel","dojo/_base/lang","dojo/ready","dojo/_base/sniff","dojo/_base/url","dojo/_base/xhr","dojo/when","dojo/_base/window"],function(_a73,_a74,_a75,_a76,_a77,lang,_a78,has,_a79,_a7a,when,_a7b){var html=_a77.getObject("dojox.html",true);if(has("ie")){var _a7c=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _a7d=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _a7e=html._adjustCssPaths=function(_a7f,_a80){if(!_a80||!_a7f){return;}if(_a7c){_a80=_a80.replace(_a7c,function(_a81,pre,_a82,url,post){return pre+(new _a79(_a7f,"./"+url).toString())+post;});}return _a80.replace(_a7d,function(_a83,_a84,_a85,_a86,_a87,_a88){if(_a85){return "@import \""+(new _a79(_a7f,"./"+_a85).toString())+"\""+_a88;}else{return "url("+(new _a79(_a7f,"./"+_a87).toString())+")"+_a88;}});};var _a89=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _a8a=html._adjustHtmlPaths=function(_a8b,cont){var url=_a8b||"./";return cont.replace(_a89,function(tag,_a8c,name,_a8d,_a8e,_a8f,_a90,end){return _a8c+(name?(name+"="+_a8d+(new _a79(url,_a8e).toString())+_a8d):("style="+_a8f+_a7e(url,_a90)+_a8f))+end;});};var _a91=html._snarfStyles=function(_a92,cont,_a93){_a93.attributes=[];cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_a94){return _a94.replace(/<(\/?)style\b/ig,"&lt;$1Style").replace(/<(\/?)link\b/ig,"&lt;$1Link").replace(/@import "/ig,"@ import \"");});return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_a95,_a96,_a97,_a98,_a99,href){var i,attr=(_a96||_a98||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_a97){i=_a93.push(_a92?_a7e(_a92,_a97):_a97);}else{i=_a93.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var _a9a={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");_a9a[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_a93.attributes[i-1]=_a9a;}return "";});};var _a9b=html._snarfScripts=function(cont,_a9c){_a9c.code="";cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_a9d){return _a9d.replace(/<(\/?)script\b/ig,"&lt;$1Script");});function _a9e(src){if(_a9c.downloadRemote){src=src.replace(/&([a-z0-9#]+);/g,function(m,name){switch(name){case "amp":return "&";case "gt":return ">";case "lt":return "<";default:return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";}});_a7a.get({url:src,sync:true,load:function(code){_a9c.code+=code+";";},error:_a9c.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,function(_a9f,_aa0,src,code){if(src){_a9e(src);}else{_a9c.code+=code;}return "";});};var _aa1=html.evalInGlobal=function(code,_aa2){_aa2=_aa2||_a7b.doc.body;var n=_aa2.ownerDocument.createElement("script");n.type="text/javascript";_aa2.appendChild(n);n.text=code;};html._ContentSetter=_a73(_a76._ContentSetter,{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_aa3){this._styleNodes=[];var st,att,_aa4,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_aa3.length;i<e;i++){_aa4=_aa3[i];att=_aa3.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_aa4;}else{st.appendChild(doc.createTextNode(_aa4));}}},empty:function(){this.inherited("empty",arguments);this._styles=[];},onBegin:function(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _aa5=this._styles;if(lang.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_a8a(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_a91(this.referencePath,cont,_aa5);}if(this.executeScripts){var _aa6=this;var _aa7={downloadRemote:true,errBack:function(e){_aa6._onError.call(_aa6,"Exec","Error downloading remote script in \""+_aa6.id+"\"",e);}};cont=_a9b(cont,_aa7);this._code=_aa7.code;}}this.content=cont;},onEnd:function(){var code=this._code,_aa8=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_a75.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_aa8&&_aa8.length){this._renderStyles(_aa8);}var d=new _a74();var _aa9=this.getInherited(arguments),args=arguments,_aaa=lang.hitch(this,function(){_aa9.apply(this,args);when(this.parseDeferred,function(){d.resolve();});});if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_aa1(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}_a78(_aaa);}else{_aaa();}return d.promise;},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_a75.destroy(this._styleNodes.pop());}}delete this._styleNodes;lang.mixin(this,html._ContentSetter.prototype);}});html.set=function(node,cont,_aab){if(!_aab){return _a76._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_aab,{content:cont,node:node}));return op.set();}};return html;});},"dijit/layout/BorderContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(_aac,_aad,_aae,_aaf,_ab0,_ab1,_ab2,keys,lang,on,_ab3,_ab4,_ab5,_ab6,_ab7,_ab8){var _ab9=_aae("dijit.layout._Splitter",[_ab5,_ab6],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_aaf.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _aba=_aad(this._cookieName);if(_aba){this.child.domNode.style[this.horizontal?"height":"width"]=_aba;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_abb=_ab1.getMarginBox(this.child.domNode)[dim],_abc=_aac.filter(this.container.getChildren(),function(_abd){return _abd.region=="center";})[0];var _abe=_ab1.getContentBox(_abc.domNode)[dim]-10;return Math.min(this.child.maxSize,_abb+_abe);},_startDrag:function(e){if(!this.cover){this.cover=_ab0.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_aaf.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_ab0.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_aaf.add(this.domNode,"dijitSplitterShadow");_ab0.place(this.fake,this.domNode,"after");}_aaf.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_aaf.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _abf=this._factor,_ac0=this.horizontal,axis=_ac0?"pageY":"pageX",_ac1=e[axis],_ac2=this.domNode.style,dim=_ac0?"h":"w",_ac3=_ab2.getComputedStyle(this.child.domNode),_ac4=_ab1.getMarginBox(this.child.domNode,_ac3)[dim],max=this._computeMaxSize(),min=Math.max(this.child.minSize,_ab1.getPadBorderExtents(this.child.domNode,_ac3)[dim]+10),_ac5=this.region,_ac6=_ac5=="top"||_ac5=="bottom"?"top":"left",_ac7=parseInt(_ac2[_ac6],10),_ac8=this._resize,_ac9=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,_ab3.move,this._drag=function(e,_aca){var _acb=e[axis]-_ac1,_acc=_abf*_acb+_ac4,_acd=Math.max(Math.min(_acc,max),min);if(_ac8||_aca){_ac9(_acd);}_ac2[_ac6]=_acb+_ac7+_abf*(_acd-_acc)+"px";}),on(de,"dragstart",function(e){e.stopPropagation();e.preventDefault();}),on(this.ownerDocumentBody,"selectstart",function(e){e.stopPropagation();e.preventDefault();}),on(de,_ab3.release,lang.hitch(this,"_stopDrag"))]);e.stopPropagation();e.preventDefault();},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_aaf.toggle(this.domNode,"dijitSplitterHover",o);_aaf.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_aaf.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_ab0.destroy(this.fake);}_aaf.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_aad(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyDown:function(e){this._resize=true;var _ace=this.horizontal;var tick=1;switch(e.keyCode){case _ace?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _ace?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _acf=_ab1.getMarginSize(this.child.domNode)[_ace?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_acf,this._computeMaxSize()),this.child.minSize));e.stopPropagation();e.preventDefault();},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _ad0=_aae("dijit.layout._Gutter",[_ab5,_ab6],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_aaf.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _ad1=_aae("dijit.layout.BorderContainer",_ab7,{gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_ab9,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},_setupChild:function(_ad2){this.inherited(arguments);var _ad3=_ad2.region,ltr=_ad2.isLeftToRight();if(_ad3=="leading"){_ad3=ltr?"left":"right";}if(_ad3=="trailing"){_ad3=ltr?"right":"left";}if(_ad3){if(_ad3!="center"&&(_ad2.splitter||this.gutters)&&!_ad2._splitterWidget){var _ad4=_ad2.splitter?this._splitterClass:_ad0;if(lang.isString(_ad4)){_ad4=lang.getObject(_ad4);}var _ad5=new _ad4({id:_ad2.id+"_splitter",container:this,child:_ad2,region:_ad3,live:this.liveSplitters});_ad5.isSplitter=true;_ad2._splitterWidget=_ad5;var _ad6=_ad3=="bottom"||_ad3==(this.isLeftToRight()?"right":"left");_ab0.place(_ad5.domNode,_ad2.domNode,_ad6?"before":"after");_ad5.startup();}}},layout:function(){this._layoutChildren();},removeChild:function(_ad7){var _ad8=_ad7._splitterWidget;if(_ad8){_ad8.destroy();delete _ad7._splitterWidget;}this.inherited(arguments);},getChildren:function(){return _aac.filter(this.inherited(arguments),function(_ad9){return !_ad9.isSplitter;});},getSplitter:function(_ada){return _aac.filter(this.getChildren(),function(_adb){return _adb.region==_ada;})[0]._splitterWidget;},resize:function(_adc,_add){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_ab2.getComputedStyle(node);this.pe=_ab1.getPadExtents(node,this.cs);this.pe.r=_ab2.toPixelValue(node,this.cs.paddingRight);this.pe.b=_ab2.toPixelValue(node,this.cs.paddingBottom);_ab2.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_ade,_adf){if(!this._borderBox||!this._borderBox.h){return;}var _ae0=[];_aac.forEach(this._getOrderedChildren(),function(pane){_ae0.push(pane);if(pane._splitterWidget){_ae0.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_ab8.layoutChildren(this.domNode,dim,_ae0,_ade,_adf);},destroyRecursive:function(){_aac.forEach(this.getChildren(),function(_ae1){var _ae2=_ae1._splitterWidget;if(_ae2){_ae2.destroy();}delete _ae1._splitterWidget;});this.inherited(arguments);}});_ad1.ChildWidgetProperties={splitter:false,minSize:0,maxSize:Infinity};lang.mixin(_ad1.ChildWidgetProperties,_ab7.ChildWidgetProperties);lang.extend(_ab4,_ad1.ChildWidgetProperties);_ad1._Splitter=_ab9;_ad1._Gutter=_ad0;return _ad1;});},"dijit/layout/LayoutContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(_ae3,_ae4,_ae5,_ae6,lang,_ae7,_ae8,_ae9){var _aea=_ae4("dijit.layout.LayoutContainer",_ae8,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){if(this._started){return;}_ae3.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_aeb){this.inherited(arguments);var _aec=_aeb.region;if(_aec){_ae5.add(_aeb.domNode,this.baseClass+"Pane");}},_getOrderedChildren:function(){var _aed=_ae3.map(this.getChildren(),function(_aee,idx){return {pane:_aee,weight:[_aee.region=="center"?Infinity:0,_aee.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(_aee.region)?1:-1),idx]};},this);_aed.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});return _ae3.map(_aed,function(w){return w.pane;});},layout:function(){_ae9.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren());},addChild:function(_aef,_af0){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_af1){this.inherited(arguments);if(this._started){this.layout();}_ae5.remove(_af1.domNode,this.baseClass+"Pane");_ae6.set(_af1.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_ae6.set(_af1.domNode,/top|bottom/.test(_af1.region)?"width":"height","auto");}});_aea.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};lang.extend(_ae7,_aea.ChildWidgetProperties);return _aea;});},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_af2,_af3,_af4,_af5,_af6,_af7,_af8,_af9){return _af6("dijit.layout._LayoutWidget",[_af2,_af3,_af4],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);_af7.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _afa=this.getParent&&this.getParent();if(!(_afa&&_afa.isLayoutContainer)){this.resize();this.own(_af5.on("resize",lang.hitch(this,"resize")));}},resize:function(_afb,_afc){var node=this.domNode;if(_afb){_af8.setMarginBox(node,_afb);}var mb=_afc||{};lang.mixin(mb,_afb||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_af8.getMarginBox(node),mb);}var cs=_af9.getComputedStyle(node);var me=_af8.getMarginExtents(node,cs);var be=_af8.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_af8.getPadExtents(node,cs);this._contentBox={l:_af9.toPixelValue(node,cs.paddingLeft),t:_af9.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_afd){var cls=this.baseClass+"-child "+(_afd.baseClass?this.baseClass+"-"+_afd.baseClass:"");_af7.add(_afd.domNode,cls);},addChild:function(_afe,_aff){this.inherited(arguments);if(this._started){this._setupChild(_afe);}},removeChild:function(_b00){var cls=this.baseClass+"-child"+(_b00.baseClass?" "+this.baseClass+"-"+_b00.baseClass:"");_af7.remove(_b00.domNode,cls);this.inherited(arguments);}});});},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_b01,_b02,_b03,_b04){return _b01("dijit.layout.TabContainer",_b02,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_b05){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_b03=typeof this.controllerWidget=="string"?lang.getObject(this.controllerWidget):this.controllerWidget;return new _b03({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_b05);},postMixInProperties:function(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?_b04:_b03;}}});});},"dijit/layout/_TabContainerBase":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","./StackContainer","./utils","../registry","../_TemplatedMixin","dojo/text!./templates/TabContainer.html"],function(_b06,_b07,_b08,_b09,_b0a,_b0b,_b0c,_b0d,_b0e){return _b06("dijit.layout._TabContainerBase",[_b0a,_b0d],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_b0e,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&_b09.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){_b07.add(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){_b07.add(this.domNode,"dijitTabContainerNested");_b07.add(this.tablist.containerNode,"dijitTabContainerTabListNested");_b07.add(this.tablistSpacer,"dijitTabContainerSpacerNested");_b07.add(this.containerNode,"dijitTabPaneWrapperNested");}else{_b07.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function(tab){_b07.add(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _b0f=this.tabPosition.replace(/-h/,"");this.tablist.region=_b0f;var _b10=[this.tablist,{domNode:this.tablistSpacer,region:_b0f},{domNode:this.containerNode,region:"center"}];_b0b.layoutChildren(this.domNode,this._contentBox,_b10);this._containerContentBox=_b0b.marginBox2contentBox(this.containerNode,_b10[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var _b11=_b08.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:_b11});}if(sc&&sc.resize){sc.resize();}}},destroy:function(_b12){if(this.tablist){this.tablist.destroy(_b12);}this.inherited(arguments);},selectChild:function(page,_b13){if(this._focused){page=_b0c.byId(page);this.tablist.pane2button(page.id).focus();}return this.inherited(arguments);}});});},"dijit/layout/StackContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/topic","dojo/when","../registry","../_WidgetBase","./_LayoutWidget"],function(_b14,_b15,_b16,_b17,_b18,has,lang,on,_b19,_b1a,when,_b1b,_b1c,_b1d){if(has("dijit-legacy-requires")){_b19(0,function(){var _b1e=["dijit/layout/StackController"];require(_b1e);});}var _b1f=_b16("dijit.layout.StackContainer",_b1d,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_b17.add(this.domNode,"dijitLayoutContainer");},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));},startup:function(){if(this._started){return;}var _b20=this.getChildren();_b14.forEach(_b20,this._setupChild,this);if(this.persist){this.selectedChildWidget=_b1b.byId(_b15(this.id+"_selectedChild"));}else{_b14.some(_b20,function(_b21){if(_b21.selected){this.selectedChildWidget=_b21;}return _b21.selected;},this);}var _b22=this.selectedChildWidget;if(!_b22&&_b20[0]){_b22=this.selectedChildWidget=_b20[0];_b22.selected=true;}_b1a.publish(this.id+"-startup",{children:_b20,selected:_b22,textDir:this.textDir});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _b23=this.selectedChildWidget;if(_b23){this._showChild(_b23);}}this.inherited(arguments);},_setupChild:function(_b24){var _b25=_b24.domNode,_b26=_b18.place("<div role='tabpanel' class='"+this.baseClass+"ChildWrapper dijitHidden'>",_b24.domNode,"replace"),_b27=_b24["aria-label"]||_b24.title||_b24.label;if(_b27){_b26.setAttribute("aria-label",_b27);}_b18.place(_b25,_b26);_b24._wrapper=_b26;this.inherited(arguments);if(_b25.style.display=="none"){_b25.style.display="block";}_b24.domNode.removeAttribute("title");},addChild:function(_b28,_b29){this.inherited(arguments);if(this._started){_b1a.publish(this.id+"-addChild",_b28,_b29);this.layout();if(!this.selectedChildWidget){this.selectChild(_b28);}}},removeChild:function(page){var idx=_b14.indexOf(this.getChildren(),page);this.inherited(arguments);_b18.destroy(page._wrapper);delete page._wrapper;if(this._started){_b1a.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _b2a=this.getChildren();if(_b2a.length){this.selectChild(_b2a[Math.max(idx-1,0)]);}}}if(this._started){this.layout();}},selectChild:function(page,_b2b){var d;page=_b1b.byId(page);if(this.selectedChildWidget!=page){d=this._transition(page,this.selectedChildWidget,_b2b);this._set("selectedChildWidget",page);_b1a.publish(this.id+"-selectChild",page);if(this.persist){_b15(this.id+"_selectedChild",this.selectedChildWidget.id);}}return when(d||true);},_transition:function(_b2c,_b2d){if(_b2d){this._hideChild(_b2d);}var d=this._showChild(_b2c);if(_b2c.resize){if(this.doLayout){_b2c.resize(this._containerContentBox||this._contentBox);}else{_b2c.resize();}}return d;},_adjacent:function(_b2e){var _b2f=this.getChildren();var _b30=_b14.indexOf(_b2f,this.selectedChildWidget);_b30+=_b2e?1:_b2f.length-1;return _b2f[_b30%_b2f.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyDown:function(e){_b1a.publish(this.id+"-containerKeyDown",{e:e,page:this});},layout:function(){var _b31=this.selectedChildWidget;if(_b31&&_b31.resize){if(this.doLayout){_b31.resize(this._containerContentBox||this._contentBox);}else{_b31.resize();}}},_showChild:function(page){var _b32=this.getChildren();page.isFirstChild=(page==_b32[0]);page.isLastChild=(page==_b32[_b32.length-1]);page._set("selected",true);if(page._wrapper){_b17.replace(page._wrapper,"dijitVisible","dijitHidden");}return (page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);if(page._wrapper){_b17.replace(page._wrapper,"dijitHidden","dijitVisible");}page.onHide&&page.onHide();},closeChild:function(page){var _b33=page.onClose&&page.onClose(this,page);if(_b33){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_b34){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;_b14.forEach(this.getChildren(),function(_b35){if(!_b34){this.removeChild(_b35);}_b35.destroyRecursive(_b34);},this);this._descendantsBeingDestroyed=false;}});_b1f.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};lang.extend(_b1c,_b1f.ChildWidgetProperties);return _b1f;});},"dijit/layout/TabController":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/has","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_b36,dom,_b37,_b38,has,i18n,lang,_b39,_b3a,Menu,_b3b,_b3c){var _b3d=_b36("dijit.layout._TabButton"+(has("dojo-bidi")?"_NoBidi":""),_b39.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_b3c,_setNameAttr:"focusNode",scrollOnFocus:false,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.containerNode,false);},startup:function(){this.inherited(arguments);var n=this.domNode;this.defer(function(){n.className=n.className;},1);},_setCloseButtonAttr:function(disp){this._set("closeButton",disp);_b38.toggle(this.domNode,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _b3e=i18n.getLocalization("dijit","common");if(this.closeNode){_b37.set(this.closeNode,"title",_b3e.itemClose);}}},_setDisabledAttr:function(_b3f){this.inherited(arguments);if(this.closeNode){if(_b3f){_b37.remove(this.closeNode,"title");}else{var _b40=i18n.getLocalization("dijit","common");_b37.set(this.closeNode,"title",_b40.itemClose);}}},_setLabelAttr:function(_b41){this.inherited(arguments);if(!this.showLabel&&!this.params.title){this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_b3d=_b36("dijit.layout._TabButton",_b3d,{_setLabelAttr:function(_b42){this.inherited(arguments);this.applyTextDir(this.iconNode,this.iconNode.alt);}});}var _b43=_b36("dijit.layout.TabController",_b39,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'></div>",tabPosition:"top",buttonWidget:_b3d,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var _b44=new Menu({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(node){return _b38.contains(node,"dijitClosable")&&!_b38.contains(node,"dijitTabDisabled");}});this.own(_b44);var _b45=i18n.getLocalization("dijit","common"),_b46=this;_b44.addChild(new _b3b({label:_b45.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(evt){var _b47=_b3a.byNode(this.getParent().currentTarget);_b46.onCloseButtonClick(_b47.page);}}));}});_b43.TabButton=_b3d;return _b43;});},"dijit/layout/StackController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/touch"],function(_b48,_b49,_b4a,_b4b,keys,lang,on,_b4c,_b4d,_b4e,_b4f,_b50,_b51,_b52){var _b53=_b49("dijit.layout._StackButton",_b52,{tabIndex:"-1",closeButton:false,_aria_attr:"aria-selected",buildRendering:function(evt){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab");}});var _b54=_b49("dijit.layout.StackController",[_b4f,_b50,_b51],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeydown'></span>",containerId:"",buttonWidget:_b53,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(id){return _b4e.byId(this.id+"_"+id);},postCreate:function(){this.inherited(arguments);this.own(_b4c.subscribe(this.containerId+"-startup",lang.hitch(this,"onStartup")),_b4c.subscribe(this.containerId+"-addChild",lang.hitch(this,"onAddChild")),_b4c.subscribe(this.containerId+"-removeChild",lang.hitch(this,"onRemoveChild")),_b4c.subscribe(this.containerId+"-selectChild",lang.hitch(this,"onSelectChild")),_b4c.subscribe(this.containerId+"-containerKeyDown",lang.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=true;this.own(on(this.containerNode,"click",lang.hitch(this,function(evt){var _b55=_b4e.getEnclosingWidget(evt.target);if(_b55!=this.containerNode&&!_b55.disabled&&_b55.page){for(var _b56=evt.target;_b56!==this.containerNode;_b56=_b56.parentNode){if(_b4a.contains(_b56,this.buttonWidgetCloseClass)){this.onCloseButtonClick(_b55.page);break;}else{if(_b56==_b55.domNode){this.onButtonClick(_b55.page);break;}}}}})));},onStartup:function(info){this.textDir=info.textDir;_b48.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}var _b57=_b4e.byId(this.containerId).containerNode,_b58=lang.hitch(this,"pane2button"),_b59={"title":"label","showtitle":"showLabel","iconclass":"iconClass","closable":"closeButton","tooltip":"title","disabled":"disabled","textdir":"textdir"},_b5a=function(attr,_b5b){return on(_b57,"attrmodified-"+attr,function(evt){var _b5c=_b58(evt.detail&&evt.detail.widget&&evt.detail.widget.id);if(_b5c){_b5c.set(_b5b,evt.detail.newValue);}});};for(var attr in _b59){this.own(_b5a(attr,_b59[attr]));}},destroy:function(_b5d){this.destroyDescendants(_b5d);this.inherited(arguments);},onAddChild:function(page,_b5e){var Cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;var _b5f=new Cls({id:this.id+"_"+page.id,name:this.id+"_"+page.id,label:page.title,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir||this.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip,page:page});this.addChild(_b5f,_b5e);page.controlButton=_b5f;if(!this._currentChild){this.onSelectChild(page);}var _b60=page._wrapper.getAttribute("aria-labelledby")?page._wrapper.getAttribute("aria-labelledby")+" "+_b5f.id:_b5f.id;page._wrapper.removeAttribute("aria-label");page._wrapper.setAttribute("aria-labelledby",_b60);},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}var _b61=this.pane2button(page.id);if(_b61){this.removeChild(_b61);_b61.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _b62=this.pane2button(this._currentChild.id);_b62.set("checked",false);_b62.focusNode.setAttribute("tabIndex","-1");}var _b63=this.pane2button(page.id);_b63.set("checked",true);this._currentChild=page;_b63.focusNode.setAttribute("tabIndex","0");var _b64=_b4e.byId(this.containerId);},onButtonClick:function(page){var _b65=this.pane2button(page.id);_b4d.focus(_b65.focusNode);if(this._currentChild&&this._currentChild.id===page.id){_b65.set("checked",true);}var _b66=_b4e.byId(this.containerId);_b66.selectChild(page);},onCloseButtonClick:function(page){var _b67=_b4e.byId(this.containerId);_b67.closeChild(page);if(this._currentChild){var b=this.pane2button(this._currentChild.id);if(b){_b4d.focus(b.focusNode||b.domNode);}}},adjacent:function(_b68){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_b68=!_b68;}var _b69=this.getChildren();var idx=_b48.indexOf(_b69,this.pane2button(this._currentChild.id)),_b6a=_b69[idx];var _b6b;do{idx=(idx+(_b68?1:_b69.length-1))%_b69.length;_b6b=_b69[idx];}while(_b6b.disabled&&_b6b!=_b6a);return _b6b;},onkeydown:function(e,_b6c){if(this.disabled||e.altKey){return;}var _b6d=null;if(e.ctrlKey||!e._djpage){switch(e.keyCode){case keys.LEFT_ARROW:case keys.UP_ARROW:if(!e._djpage){_b6d=false;}break;case keys.PAGE_UP:if(e.ctrlKey){_b6d=false;}break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:if(!e._djpage){_b6d=true;}break;case keys.PAGE_DOWN:if(e.ctrlKey){_b6d=true;}break;case keys.HOME:var _b6e=this.getChildren();for(var idx=0;idx<_b6e.length;idx++){var _b6f=_b6e[idx];if(!_b6f.disabled){this.onButtonClick(_b6f.page);break;}}e.stopPropagation();e.preventDefault();break;case keys.END:var _b6e=this.getChildren();for(var idx=_b6e.length-1;idx>=0;idx--){var _b6f=_b6e[idx];if(!_b6f.disabled){this.onButtonClick(_b6f.page);break;}}e.stopPropagation();e.preventDefault();break;case keys.DELETE:case "W".charCodeAt(0):if(this._currentChild.closable&&(e.keyCode==keys.DELETE||e.ctrlKey)){this.onCloseButtonClick(this._currentChild);e.stopPropagation();e.preventDefault();}break;case keys.TAB:if(e.ctrlKey){this.onButtonClick(this.adjacent(!e.shiftKey).page);e.stopPropagation();e.preventDefault();}break;}if(_b6d!==null){this.onButtonClick(this.adjacent(_b6d).page);e.stopPropagation();e.preventDefault();}}},onContainerKeyDown:function(info){info.e._djpage=info.page;this.onkeydown(info.e);}});_b54.StackButton=_b53;return _b54;});},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_b70,_b71,_b72,_b73){return _b70("dijit.form.ToggleButton",[_b72,_b73],{baseClass:"dijitToggleButton",setChecked:function(_b74){_b71.deprecated("setChecked("+_b74+") is deprecated. Use set('checked',"+_b74+") instead.","","2.0");this.set("checked",_b74);}});});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html","../a11yclick"],function(_b75,_b76,_b77,has,_b78,lang,_b79,_b7a,_b7b,_b7c){if(has("dijit-legacy-requires")){_b79(0,function(){var _b7d=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_b75(_b7d);});}var _b7e=_b76("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_b7a,_b7b],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_b7c,_setValueAttr:"valueNode",_setNameAttr:function(name){if(this.valueNode){this.valueNode.setAttribute("name",name);}},_fillContent:function(_b7f){if(_b7f&&(!this.params||!("label" in this.params))){var _b80=lang.trim(_b7f.innerHTML);if(_b80){this.label=_b80;}}},_setShowLabelAttr:function(val){if(this.containerNode){_b77.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_b81){_b78.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_b81);},_setLabelAttr:function(_b82){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_b7e=_b76("dijit.form.Button",_b7e,{_setLabelAttr:function(_b83){this.inherited(arguments);if(this.titleNode.title){this.applyTextDir(this.titleNode,this.titleNode.title);}},_setTextDirAttr:function(_b84){if(this._created&&this.textDir!=_b84){this._set("textDir",_b84);this._setLabelAttr(this.label);}}});}return _b7e;});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_b85,dom,has,_b86){var _b87=_b85("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}var _b88=e.defaultPrevented;if(!_b88&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _b89=_b86.byNode(node);if(_b89&&typeof _b89._onSubmit=="function"){_b89._onSubmit(e);e.preventDefault();_b88=true;break;}}}return !_b88;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_b8a){this._set("label",_b8a);var _b8b=this.containerNode||this.focusNode;_b8b.innerHTML=_b8a;}});if(has("dojo-bidi")){_b87=_b85("dijit.form._ButtonMixin",_b87,{_setLabelAttr:function(){this.inherited(arguments);var _b8c=this.containerNode||this.focusNode;this.applyTextDir(_b8c);}});}return _b87;});},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_b8d,_b8e){return _b8d("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _b8f=this.checked;this._set("checked",!_b8f);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_b8f);return ret;},_setCheckedAttr:function(_b90,_b91){this._set("checked",_b90);var node=this.focusNode||this.domNode;if(this._created){if(_b8e.get(node,"checked")!=!!_b90){_b8e.set(node,"checked",!!_b90);}}node.setAttribute(this._aria_attr,String(_b90));this._handleOnChange(_b90,_b91);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.checked;}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dijit/Menu":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_b92,_b93,_b94,dom,_b95,_b96,_b97,keys,lang,on,has,win,_b98,pm,_b99,_b9a){if(has("dijit-legacy-requires")){_b9a(0,function(){var _b9b=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_b92(_b9b);});}return _b94("dijit.Menu",_b99,{constructor:function(){this._bindings=[];},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(this.ownerDocumentBody);}else{_b93.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_b9c){return _b98.get(this._iframeContentDocument(_b9c))||this._iframeContentDocument(_b9c)["__parent__"]||(_b9c.name&&document.frames[_b9c.name])||null;},_iframeContentDocument:function(_b9d){return _b9d.contentDocument||(_b9d.contentWindow&&_b9d.contentWindow.document)||(_b9d.name&&document.frames[_b9d.name]&&document.frames[_b9d.name].document)||null;},bindDomNode:function(node){node=dom.byId(node,this.ownerDocument);var cn;if(node.tagName.toLowerCase()=="iframe"){var _b9e=node,_b9f=this._iframeContentWindow(_b9e);cn=win.body(_b9f.document);}else{cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);}var _ba0={node:node,iframe:_b9e};_b95.set(node,"_dijitMenu"+this.id,this._bindings.push(_ba0));var _ba1=lang.hitch(this,function(cn){var _ba2=this.selector,_ba3=_ba2?function(_ba4){return on.selector(_ba2,_ba4);}:function(_ba5){return _ba5;},self=this;return [on(cn,_ba3(this.leftClickToOpen?"click":"contextmenu"),function(evt){evt.stopPropagation();evt.preventDefault();if((new Date()).getTime()<this._lastKeyDown+500){return;}self._scheduleOpen(this,_b9e,{x:evt.pageX,y:evt.pageY},evt.target);}),on(cn,_ba3("keydown"),function(evt){if(evt.keyCode==93||(evt.shiftKey&&evt.keyCode==keys.F10)||(this.leftClickToOpen&&evt.keyCode==keys.SPACE)){evt.stopPropagation();evt.preventDefault();self._scheduleOpen(this,_b9e,null,evt.target);this._lastKeyDown=(new Date()).getTime();}})];});_ba0.connects=cn?_ba1(cn):[];if(_b9e){_ba0.onloadHandler=lang.hitch(this,function(){var _ba6=this._iframeContentWindow(_b9e),cn=win.body(_ba6.document);_ba0.connects=_ba1(cn);});if(_b9e.addEventListener){_b9e.addEventListener("load",_ba0.onloadHandler,false);}else{_b9e.attachEvent("onload",_ba0.onloadHandler);}}},unBindDomNode:function(_ba7){var node;try{node=dom.byId(_ba7,this.ownerDocument);}catch(e){return;}var _ba8="_dijitMenu"+this.id;if(node&&_b95.has(node,_ba8)){var bid=_b95.get(node,_ba8)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _ba9=b.iframe;if(_ba9){if(_ba9.removeEventListener){_ba9.removeEventListener("load",b.onloadHandler,false);}else{_ba9.detachEvent("onload",b.onloadHandler);}}_b95.remove(node,_ba8);delete this._bindings[bid];}},_scheduleOpen:function(_baa,_bab,_bac,_bad){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_bad,delegatedTarget:_baa,iframe:_bab,coords:_bac});},1);}},_openMyself:function(args){var _bae=args.target,_baf=args.iframe,_bb0=args.coords,_bb1=!_bb0;this.currentTarget=args.delegatedTarget;if(_bb0){if(_baf){var ifc=_b96.position(_baf,true),_bb2=this._iframeContentWindow(_baf),_bb3=_b96.docScroll(_bb2.document);var cs=_b97.getComputedStyle(_baf),tp=_b97.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_baf,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_baf,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_baf,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_baf,cs.borderTopWidth):0);_bb0.x+=ifc.x+left-_bb3.x;_bb0.y+=ifc.y+top-_bb3.y;}}else{_bb0=_b96.position(_bae,true);_bb0.x+=10;_bb0.y+=10;}var self=this;var _bb4=this._focusManager.get("prevNode");var _bb5=this._focusManager.get("curNode");var _bb6=!_bb5||(dom.isDescendant(_bb5,this.domNode))?_bb4:_bb5;function _bb7(){if(self.refocus&&_bb6){_bb6.focus();}pm.close(self);};pm.open({popup:this,x:_bb0.x,y:_bb0.y,onExecute:_bb7,onCancel:_bb7,orient:this.isLeftToRight()?"L":"R"});this.focus();if(!_bb1){this.defer(function(){this._cleanUp(true);});}this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},destroy:function(){_b93.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(_bb8,keys,_bb9,_bba){return _bb8("dijit.DropDownMenu",_bba,{templateString:_bb9,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev();},_onDownArrow:function(){this.focusNext();},_onRightArrow:function(evt){this._moveToPopup(evt);evt.stopPropagation();evt.preventDefault();},_onLeftArrow:function(evt){if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{evt.stopPropagation();evt.preventDefault();}}});});},"dijit/_MenuBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(_bbb,_bbc,dom,_bbd,_bbe,lang,_bbf,on,_bc0,_bc1,_bc2,_bc3,_bc4,_bc5,_bc6){return _bbc("dijit._MenuBase",[_bc3,_bc6,_bc5,_bc4],{selected:null,_setSelectedAttr:function(item){if(this.selected!=item){if(this.selected){this.selected._setSelected(false);this._onChildDeselect(this.selected);}if(item){item._setSelected(true);}this._set("selected",item);}},activated:false,_setActivatedAttr:function(val){_bbe.toggle(this.domNode,"dijitMenuActive",val);_bbe.toggle(this.domNode,"dijitMenuPassive",!val);this._set("activated",val);},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:false,childSelector:function(node){var _bc7=_bc2.byNode(node);return node.parentNode==this.containerNode&&_bc7&&_bc7.focus;},postCreate:function(){var self=this,_bc8=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_bc8,_bbf.enter),function(){self.onItemHover(_bc2.byNode(this));}),on(this.containerNode,on.selector(_bc8,_bbf.leave),function(){self.onItemUnhover(_bc2.byNode(this));}),on(this.containerNode,on.selector(_bc8,_bc1),function(evt){self.onItemClick(_bc2.byNode(this),evt);evt.stopPropagation();}),on(this.containerNode,on.selector(_bc8,"focusin"),function(){self._onItemFocus(_bc2.byNode(this));}));this.inherited(arguments);},onKeyboardSearch:function(item,evt,_bc9,_bca){this.inherited(arguments);if(!!item&&(_bca==-1||(!!item.popup&&_bca==1))){this.onItemClick(item,evt);}},_keyboardSearchCompare:function(item,_bcb){if(!!item.shortcutKey){return _bcb==item.shortcutKey.toLowerCase()?-1:0;}return this.inherited(arguments)?1:0;},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _bcc=this._getTopMenu();if(_bcc&&_bcc._isMenuBar){_bcc.focusNext();}}},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer();},onItemHover:function(item){if(this.activated){this.set("selected",item);if(item.popup&&!item.disabled&&!this.hover_timer){this.hover_timer=this.defer(function(){this._openItemPopup(item);},this.popupDelay);}}else{if(this.passivePopupDelay<Infinity){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.passive_hover_timer=this.defer(function(){this.onItemClick(item,{type:"click"});},this.passivePopupDelay);}}this._hoveredChild=item;item._set("hovering",true);},_onChildDeselect:function(item){this._stopPopupTimer();if(this.currentPopupItem==item){this._stopPendingCloseTimer();this._pendingClose_timer=this.defer(function(){this._pendingClose_timer=null;this.currentPopupItem=null;item._closePopup();},this.popupDelay);}},onItemUnhover:function(item){if(this._hoveredChild==item){this._hoveredChild=null;}if(this.passive_hover_timer){this.passive_hover_timer.remove();this.passive_hover_timer=null;}item._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(){if(this._pendingClose_timer){this._pendingClose_timer=this._pendingClose_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this.set("selected",item);this.set("activated",true);var _bcd=/^key/.test(evt._origType||evt.type)||(evt.clientX==0&&evt.clientY==0);this._openItemPopup(item,_bcd);}else{this.onExecute();item._onClick?item._onClick(evt):item.onClick(evt);}},_openItemPopup:function(_bce,_bcf){if(_bce==this.currentPopupItem){return;}if(this.currentPopupItem){this._stopPendingCloseTimer();this.currentPopupItem._closePopup();}this._stopPopupTimer();var _bd0=_bce.popup;_bd0.parentMenu=this;this.own(this._mouseoverHandle=on.once(_bd0.domNode,"mouseover",lang.hitch(this,"_onPopupHover")));var self=this;_bce._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){if(_bcf){self.focusChild(_bce);}self._cleanUp();},onExecute:lang.hitch(this,"_cleanUp",true),onClose:function(){if(self._mouseoverHandle){self._mouseoverHandle.remove();delete self._mouseoverHandle;}}},_bcf);this.currentPopupItem=_bce;},onOpen:function(){this.isShowingNow=true;this.set("activated",true);},onClose:function(){this.set("activated",false);this.set("selected",null);this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopupItem){if(this.focused){_bbd.set(this.selected.focusNode,"tabIndex",this.tabIndex);this.selected.focusNode.focus();}this.currentPopupItem._closePopup();this.currentPopupItem=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this.onItemUnhover(this._hoveredChild);}this.set("selected",item);},_onBlur:function(){this._cleanUp(true);this.inherited(arguments);},_cleanUp:function(_bd1){this._closeChild();if(typeof this.isShowingNow=="undefined"){this.set("activated",false);}if(_bd1){this.set("selected",null);}}});});},"dijit/_KeyNavContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(_bd2,_bd3,_bd4,_bd5,keys,lang,_bd6,_bd7,_bd8,_bd9){return _bd3("dijit._KeyNavContainer",[_bd8,_bd9,_bd7],{connectKeyNavHandlers:function(_bda,_bdb){var _bdc=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_bd2.forEach(_bda,function(code){_bdc[code]=prev;});_bd2.forEach(_bdb,function(code){_bdc[code]=next;});_bdc[keys.HOME]=lang.hitch(this,"focusFirstChild");_bdc[keys.END]=lang.hitch(this,"focusLastChild");},startupKeyNavChildren:function(){_bd5.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_bd2.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_bdd,_bde){this.inherited(arguments);this._startupChild(_bdd);},_startupChild:function(_bdf){_bdf.set("tabIndex","-1");},_getFirst:function(){var _be0=this.getChildren();return _be0.length?_be0[0]:null;},_getLast:function(){var _be1=this.getChildren();return _be1.length?_be1[_be1.length-1]:null;},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},childSelector:function(node){var node=_bd6.byNode(node);return node&&node.getParent()==this;}});});},"dijit/layout/ScrollingTabController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom","../a11yclick"],function(_be2,_be3,_be4,_be5,_be6,fx,lang,on,_be7,has,_be8,_be9,_bea,_beb,_bec,_bed,Menu,_bee,_bef,_bf0){var _bf1=_be3("dijit.layout.ScrollingTabController",[_beb,_bed],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_be9,useMenu:true,useSlider:true,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";_be4.add(n,"tabStrip-disabled");}_be4.add(this.tablistWrapper,this.tabStripClass);},onStartup:function(){this.inherited(arguments);_be6.set(this.domNode,"visibility","");this._postStartup=true;this.own(on(this.containerNode,"attrmodified-label, attrmodified-iconclass",lang.hitch(this,function(evt){if(this._dim){this.resize(this._dim);}})));},onAddChild:function(page,_bf2){this.inherited(arguments);_be6.set(this.containerNode,"width",(_be6.get(this.containerNode,"width")+200)+"px");},onRemoveChild:function(page,_bf3){var _bf4=this.pane2button(page.id);if(this._selectedTab===_bf4.domNode){this._selectedTab=null;}this.inherited(arguments);},_initButtons:function(){this._btnWidth=0;this._buttons=_be7("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=_be5.getMarginSize(btn).w;return true;}else{_be6.set(btn,"display","none");return false;}},this);},_getTabsWidth:function(){var _bf5=this.getChildren();if(_bf5.length){var _bf6=_bf5[this.isLeftToRight()?0:_bf5.length-1].domNode,_bf7=_bf5[this.isLeftToRight()?_bf5.length-1:0].domNode;return _bf7.offsetLeft+_bf7.offsetWidth-_bf6.offsetLeft;}else{return 0;}},_enableBtn:function(_bf8){var _bf9=this._getTabsWidth();_bf8=_bf8||_be6.get(this.scrollNode,"width");return _bf9>0&&_bf8<_bf9;},resize:function(dim){this._dim=dim;this.scrollNode.style.height="auto";var cb=this._contentBox=_bec.marginBox2contentBox(this.domNode,{h:0,w:dim.w});cb.h=this.scrollNode.offsetHeight;_be5.setContentSize(this.domNode,cb);var _bfa=this._enableBtn(this._contentBox.w);this._buttons.style("display",_bfa?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";_bec.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());}this._setButtonClass(this._getScroll());this._postResize=true;return {h:this._contentBox.h,w:dim.w};},_getScroll:function(){return (this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_be6.get(this.containerNode,"width")-_be6.get(this.scrollNode,"width")+(has("ie")>=8?-1:1)*this.scrollNode.scrollLeft;},_convertToScrollLeft:function(val){if(this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit")){return val;}else{var _bfb=_be6.get(this.containerNode,"width")-_be6.get(this.scrollNode,"width");return (has("ie")>=8?-1:1)*(val-_bfb);}},onSelectChild:function(page){var tab=this.pane2button(page.id);if(!tab){return;}var node=tab.domNode;if(node!=this._selectedTab){this._selectedTab=node;if(this._postResize){var sl=this._getScroll();if(sl>node.offsetLeft||sl+_be6.get(this.scrollNode,"width")<node.offsetLeft+_be6.get(node,"width")){this.createSmoothScroll().play();}}}this.inherited(arguments);},_getScrollBounds:function(){var _bfc=this.getChildren(),_bfd=_be6.get(this.scrollNode,"width"),_bfe=_be6.get(this.containerNode,"width"),_bff=_bfe-_bfd,_c00=this._getTabsWidth();if(_bfc.length&&_c00>_bfd){return {min:this.isLeftToRight()?0:_bfc[_bfc.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_bfc[_bfc.length-1].domNode.offsetLeft+_bfc[_bfc.length-1].domNode.offsetWidth)-_bfd:_bff};}else{var _c01=this.isLeftToRight()?0:_bff;return {min:_c01,max:_c01};}},_getScrollForSelectedTab:function(){var w=this.scrollNode,n=this._selectedTab,_c02=_be6.get(this.scrollNode,"width"),_c03=this._getScrollBounds();var pos=(n.offsetLeft+_be6.get(n,"width")/2)-_c02/2;pos=Math.min(Math.max(pos,_c03.min),_c03.max);return pos;},createSmoothScroll:function(x){if(arguments.length>0){var _c04=this._getScrollBounds();x=Math.min(Math.max(x,_c04.min),_c04.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var self=this,w=this.scrollNode,anim=new fx.Animation({beforeBegin:function(){if(this.curve){delete this.curve;}var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);anim.curve=new fx._Line(oldS,newS);},onAnimate:function(val){w.scrollLeft=val;}});this._anim=anim;this._setButtonClass(x);return anim;},_getBtnNode:function(e){var n=e.target;while(n&&!_be4.contains(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function(_c05,node){if(node&&_be4.contains(node,"dijitTabDisabled")){return;}var _c06=_be6.get(this.scrollNode,"width");var d=(_c06*0.75)*_c05;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function(_c07){var _c08=this._getScrollBounds();this._leftBtn.set("disabled",_c07<=_c08.min);this._rightBtn.set("disabled",_c07>=_c08.max);}});var _c09=_be3("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_bea,tabIndex:"",isFocusable:function(){return false;}});_be3("dijit.layout._ScrollingTabControllerButton",[_bef,_c09]);_be3("dijit.layout._ScrollingTabControllerMenuButton",[_bef,_bf0,_c09],{containerId:"",tabIndex:"-1",isLoaded:function(){return false;},loadDropDown:function(_c0a){this.dropDown=new Menu({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var _c0b=_be8.byId(this.containerId);_be2.forEach(_c0b.getChildren(),function(page){var _c0c=new _bee({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir||_c0b.textDir,onClick:function(){_c0b.selectChild(page);}});this.dropDown.addChild(_c0c);},this);_c0a();},closeDropDown:function(_c0d){this.inherited(arguments);if(this.dropDown){this._popupStateNode.removeAttribute("aria-owns");this.dropDown.destroyRecursive();delete this.dropDown;}}});return _bf1;});},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(_c0e,_c0f,_c10,lang,_c11){return _c10("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;if(this.containerNode&&!this.searchContainerNode){this.containerNode.stopParser=true;}_c11.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(lang.hitch(this,function(_c12){this._startupWidgets=_c12;for(var i=0;i<_c12.length;i++){this._processTemplateNode(_c12[i],function(n,p){return n[p];},function(_c13,type,_c14){if(type in _c13){return _c13.connect(_c13,type,_c14);}else{return _c13.on(type,_c14,true);}});}if(this.containerNode&&this.containerNode.stopParser){delete this.containerNode.stopParser;}}));if(!this._startupWidgets){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}}},_processTemplateNode:function(_c15,_c16,_c17){if(_c16(_c15,"dojoType")||_c16(_c15,"data-dojo-type")){return true;}return this.inherited(arguments);},startup:function(){_c0e.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this._startupWidgets=null;this.inherited(arguments);}});});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_c18,_c19,dom,_c1a,_c1b,_c1c,_c1d,has,keys,lang,on,_c1e,_c1f,_c20,_c21,_c22){return _c18("dijit._HasDropDown",_c22,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"&&e.type!="pointerdown"){e.preventDefault();}this.own(on.once(this.ownerDocument,_c1e.release,lang.hitch(this,"_onDropDownMouseUp")));this.toggleDropDown();},_onDropDownMouseUp:function(e){var _c23=this.dropDown,_c24=false;if(e&&this._opened){var c=_c1c.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_c24){if(_c1b.contains(t,"dijitPopup")){_c24=true;}else{t=t.parentNode;}}if(_c24){t=e.target;if(_c23.onItemClick){var _c25;while(t&&!(_c25=_c1f.byNode(t))){t=t.parentNode;}if(_c25&&_c25.onClick&&_c25.getParent){_c25.getParent().onItemClick(_c25,e);}}return;}}}if(this._opened){if(_c23.focus&&(_c23.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_c23.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}},_onDropDownClick:function(e){if(this._stopClickEvents){e.stopPropagation();e.preventDefault();}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _c26={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_c1b.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_c26+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _c27=this.focusNode||this.domNode;this.own(on(this._buttonNode,_c1e.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_c27,"keydown",lang.hitch(this,"_onKey")),on(_c27,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_c28=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){e.stopPropagation();e.preventDefault();return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();e.stopPropagation();e.preventDefault();}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_c28.tagName||"").toLowerCase()!=="input"||(_c28.type&&_c28.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;e.stopPropagation();e.preventDefault();}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_c29){_c29();},loadAndOpenDropDown:function(){var d=new _c19(),_c2a=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_c2a);}else{_c2a();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown(true);}},openDropDown:function(){var _c2b=this.dropDown,_c2c=_c2b.domNode,_c2d=this._aroundNode||this.domNode,self=this;var _c2e=_c21.open({parent:this,popup:_c2b,around:_c2d,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_c1a.set(self._popupStateNode,"popupActive",false);_c1b.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});if(this.forceWidth||(this.autoWidth&&_c2d.offsetWidth>_c2b._popupWrapper.offsetWidth)){var _c2f=_c2d.offsetWidth-_c2b._popupWrapper.offsetWidth;var _c30={w:_c2b.domNode.offsetWidth+_c2f};if(lang.isFunction(_c2b.resize)){_c2b.resize(_c30);}else{_c1c.setMarginBox(_c2c,_c30);}if(_c2e.corner[1]=="R"){_c2b._popupWrapper.style.left=(_c2b._popupWrapper.style.left.replace("px","")-_c2f)+"px";}}_c1a.set(this._popupStateNode,"popupActive","true");_c1b.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_c2b.id);if(_c2c.getAttribute("role")!=="presentation"&&!_c2c.getAttribute("aria-labelledby")){_c2c.setAttribute("aria-labelledby",this.id);}return _c2e;},closeDropDown:function(_c31){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(_c31&&this.focus){this.focus();}_c21.close(this.dropDown);this._opened=false;}}});});},"dijit/layout/AccordionContainer":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/topic","../focus","../_base/manager","dojo/ready","../_Widget","../_Container","../_TemplatedMixin","../_CssStateMixin","./StackContainer","./ContentPane","dojo/text!./templates/AccordionButton.html","../a11yclick"],function(_c32,_c33,_c34,fx,dom,_c35,_c36,_c37,_c38,keys,lang,has,_c39,_c3a,_c3b,_c3c,_c3d,_c3e,_c3f,_c40,_c41,_c42,_c43){var _c44=_c34("dijit.layout._AccordionButton",[_c3d,_c3f,_c40],{templateString:_c43,label:"",_setLabelAttr:{node:"titleTextNode",type:"innerHTML"},title:"",_setTitleAttr:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClassAttr:"",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitAccordionTitle",getParent:function(){return this.parent;},buildRendering:function(){this.inherited(arguments);var _c45=this.id.replace(" ","_");_c35.set(this.titleTextNode,"id",_c45+"_title");this.focusNode.setAttribute("aria-labelledby",_c35.get(this.titleTextNode,"id"));dom.setSelectable(this.domNode,false);},getTitleHeight:function(){return _c38.getMarginSize(this.domNode).h;},_onTitleClick:function(){var _c46=this.getParent();_c46.selectChild(this.contentWidget,true);_c3a.focus(this.focusNode);},_onTitleKeyDown:function(evt){return this.getParent()._onKeyDown(evt,this.contentWidget);},_setSelectedAttr:function(_c47){this._set("selected",_c47);this.focusNode.setAttribute("aria-expanded",_c47?"true":"false");this.focusNode.setAttribute("aria-selected",_c47?"true":"false");this.focusNode.setAttribute("tabIndex",_c47?"0":"-1");}});if(has("dojo-bidi")){_c44.extend({_setLabelAttr:function(_c48){this._set("label",_c48);_c35.set(this.titleTextNode,"innerHTML",_c48);this.applyTextDir(this.titleTextNode);},_setTitleAttr:function(_c49){this._set("title",_c49);_c35.set(this.titleTextNode,"title",_c49);this.applyTextDir(this.titleTextNode);}});}var _c4a=_c34("dijit.layout._AccordionInnerContainer"+(has("dojo-bidi")?"_NoBidi":""),[_c3d,_c40],{baseClass:"dijitAccordionInnerContainer",isLayoutContainer:true,buildRendering:function(){this.domNode=_c37.place("<div class='"+this.baseClass+"' role='presentation'>",this.contentWidget.domNode,"after");var _c4b=this.contentWidget,cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;this.button=_c4b._buttonWidget=(new cls({contentWidget:_c4b,label:_c4b.title,title:_c4b.tooltip,dir:_c4b.dir,lang:_c4b.lang,textDir:_c4b.textDir||this.textDir,iconClass:_c4b.iconClass,id:_c4b.id+"_button",parent:this.parent})).placeAt(this.domNode);this.containerNode=_c37.place("<div class='dijitAccordionChildWrapper' role='tabpanel' style='display:none'>",this.domNode);this.containerNode.setAttribute("aria-labelledby",this.button.id);_c37.place(this.contentWidget.domNode,this.containerNode);},postCreate:function(){this.inherited(arguments);var _c4c=this.button,cw=this.contentWidget;this._contentWidgetWatches=[cw.watch("title",lang.hitch(this,function(name,_c4d,_c4e){_c4c.set("label",_c4e);})),cw.watch("tooltip",lang.hitch(this,function(name,_c4f,_c50){_c4c.set("title",_c50);})),cw.watch("iconClass",lang.hitch(this,function(name,_c51,_c52){_c4c.set("iconClass",_c52);}))];},_setSelectedAttr:function(_c53){this._set("selected",_c53);this.button.set("selected",_c53);if(_c53){var cw=this.contentWidget;if(cw.onSelected){cw.onSelected();}}},startup:function(){this.contentWidget.startup();},destroy:function(){this.button.destroyRecursive();_c33.forEach(this._contentWidgetWatches||[],function(w){w.unwatch();});delete this.contentWidget._buttonWidget;delete this.contentWidget._wrapperWidget;this.inherited(arguments);},destroyDescendants:function(_c54){this.contentWidget.destroyRecursive(_c54);}});if(has("dojo-bidi")){_c4a=_c34("dijit.layout._AccordionInnerContainer",_c4a,{postCreate:function(){this.inherited(arguments);var _c55=this.button;this._contentWidgetWatches.push(this.contentWidget.watch("textDir",function(name,_c56,_c57){_c55.set("textDir",_c57);}));}});}var _c58=_c34("dijit.layout.AccordionContainer",_c41,{duration:_c3b.defaultDuration,buttonWidget:_c44,baseClass:"dijitAccordionContainer",buildRendering:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";this.domNode.setAttribute("role","tablist");},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.selectedChildWidget){this.selectedChildWidget._wrapperWidget.set("selected",true);}},layout:function(){var _c59=this.selectedChildWidget;if(!_c59){return;}var _c5a=_c59._wrapperWidget.domNode,_c5b=_c38.getMarginExtents(_c5a),_c5c=_c38.getPadBorderExtents(_c5a),_c5d=_c59._wrapperWidget.containerNode,_c5e=_c38.getMarginExtents(_c5d),_c5f=_c38.getPadBorderExtents(_c5d),_c60=this._contentBox;var _c61=0;_c33.forEach(this.getChildren(),function(_c62){if(_c62!=_c59){_c61+=_c38.getMarginSize(_c62._wrapperWidget.domNode).h;}});this._verticalSpace=_c60.h-_c61-_c5b.h-_c5c.h-_c5e.h-_c5f.h-_c59._buttonWidget.getTitleHeight();this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-_c5b.w-_c5c.w-_c5e.w-_c5f.w};if(_c59){_c59.resize(this._containerContentBox);}},_setupChild:function(_c63){_c63._wrapperWidget=_c4a({contentWidget:_c63,buttonWidget:this.buttonWidget,id:_c63.id+"_wrapper",dir:_c63.dir,lang:_c63.lang,textDir:_c63.textDir||this.textDir,parent:this});this.inherited(arguments);_c37.place(_c63.domNode,_c63._wrapper,"replace");},removeChild:function(_c64){if(_c64._wrapperWidget){_c37.place(_c64.domNode,_c64._wrapperWidget.domNode,"after");_c64._wrapperWidget.destroy();delete _c64._wrapperWidget;}_c36.remove(_c64.domNode,"dijitHidden");this.inherited(arguments);},getChildren:function(){return _c33.map(this.inherited(arguments),function(_c65){return _c65.declaredClass=="dijit.layout._AccordionInnerContainer"?_c65.contentWidget:_c65;},this);},destroy:function(){if(this._animation){this._animation.stop();}_c33.forEach(this.getChildren(),function(_c66){if(_c66._wrapperWidget){_c66._wrapperWidget.destroy();}else{_c66.destroyRecursive();}});this.inherited(arguments);},_showChild:function(_c67){_c67._wrapperWidget.containerNode.style.display="block";return this.inherited(arguments);},_hideChild:function(_c68){_c68._wrapperWidget.containerNode.style.display="none";this.inherited(arguments);},_transition:function(_c69,_c6a,_c6b){if(has("ie")<8){_c6b=false;}if(this._animation){this._animation.stop(true);delete this._animation;}var self=this;if(_c69){_c69._wrapperWidget.set("selected",true);var d=this._showChild(_c69);if(this.doLayout&&_c69.resize){_c69.resize(this._containerContentBox);}}if(_c6a){_c6a._wrapperWidget.set("selected",false);if(!_c6b){this._hideChild(_c6a);}}if(_c6b){var _c6c=_c69._wrapperWidget.containerNode,_c6d=_c6a._wrapperWidget.containerNode;var _c6e=_c69._wrapperWidget.containerNode,_c6f=_c38.getMarginExtents(_c6e),_c70=_c38.getPadBorderExtents(_c6e),_c71=_c6f.h+_c70.h;_c6d.style.height=(self._verticalSpace-_c71)+"px";this._animation=new fx.Animation({node:_c6c,duration:this.duration,curve:[1,this._verticalSpace-_c71-1],onAnimate:function(_c72){_c72=Math.floor(_c72);_c6c.style.height=_c72+"px";_c6d.style.height=(self._verticalSpace-_c71-_c72)+"px";},onEnd:function(){delete self._animation;_c6c.style.height="auto";_c6a._wrapperWidget.containerNode.style.display="none";_c6d.style.height="auto";self._hideChild(_c6a);}});this._animation.onStop=this._animation.onEnd;this._animation.play();}return d;},_onKeyDown:function(e,_c73){if(this.disabled||e.altKey||!(_c73||e.ctrlKey)){return;}var c=e.keyCode;if((_c73&&(c==keys.LEFT_ARROW||c==keys.UP_ARROW))||(e.ctrlKey&&c==keys.PAGE_UP)){this._adjacent(false)._buttonWidget._onTitleClick();e.stopPropagation();e.preventDefault();}else{if((_c73&&(c==keys.RIGHT_ARROW||c==keys.DOWN_ARROW))||(e.ctrlKey&&(c==keys.PAGE_DOWN||c==keys.TAB))){this._adjacent(true)._buttonWidget._onTitleClick();e.stopPropagation();e.preventDefault();}}}});if(has("dijit-legacy-requires")){_c3c(0,function(){var _c74=["dijit/layout/AccordionPane"];_c32(_c74);});}_c58._InnerContainer=_c4a;_c58._Button=_c44;return _c58;});},"dijit/layout/AccordionPane":function(){define(["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(_c75,_c76,_c77){return _c75("dijit.layout.AccordionPane",_c77,{constructor:function(){_c76.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0");},onSelected:function(){}});});},"dojox/widget/Dialog":function(){define(["dojo","dojox","dojo/text!./Dialog/Dialog.html","dijit/Dialog","dojo/window","dojox/fx","./DialogSimple"],function(dojo,_c78,_c79){dojo.getObject("widget",true,_c78);return dojo.declare("dojox.widget.Dialog",_c78.widget.DialogSimple,{templateString:_c79,sizeToViewport:false,viewportPadding:35,dimensions:null,easing:null,sizeDuration:dijit._defaultDuration,sizeMethod:"chain",showTitle:false,draggable:false,modal:false,constructor:function(_c7a,node){this.easing=_c7a.easing||dojo._defaultEasing;this.dimensions=_c7a.dimensions||[300,300];},_setup:function(){this.inherited(arguments);if(!this._alreadyInitialized){this._navIn=dojo.fadeIn({node:this.closeButtonNode});this._navOut=dojo.fadeOut({node:this.closeButtonNode});if(!this.showTitle){dojo.addClass(this.domNode,"dojoxDialogNoTitle");}}},layout:function(e){this._setSize();this.inherited(arguments);},_setSize:function(){this._vp=dojo.window.getBox();var tc=this.containerNode,_c7b=this.sizeToViewport;return this._displaysize={w:_c7b?tc.scrollWidth:this.dimensions[0],h:_c7b?tc.scrollHeight:this.dimensions[1]};},show:function(){if(this.open){return;}this._setSize();dojo.style(this.closeButtonNode,"opacity",0);dojo.style(this.domNode,{overflow:"hidden",opacity:0,width:"1px",height:"1px"});dojo.style(this.containerNode,{opacity:0,overflow:"hidden"});this.inherited(arguments);if(this.modal){this._modalconnects.push(dojo.connect(dojo.body(),"onkeypress",function(e){if(e.charOrCode==dojo.keys.ESCAPE){dojo.stopEvent(e);}}));}else{this._modalconnects.push(dojo.connect(dijit._underlay.domNode,"onclick",this,"onCancel"));}this._modalconnects.push(dojo.connect(this.domNode,"onmouseenter",this,"_handleNav"));this._modalconnects.push(dojo.connect(this.domNode,"onmouseleave",this,"_handleNav"));},_handleNav:function(e){var _c7c="_navOut",_c7d="_navIn",_c7e=(e.type=="mouseout"?_c7d:_c7c),_c7f=(e.type=="mouseout"?_c7c:_c7d);this[_c7e].stop();this[_c7f].play();},_position:function(){if(!this._started){return;}if(this._sizing){this._sizing.stop();this.disconnect(this._sizingConnect);delete this._sizing;}this.inherited(arguments);if(!this.open){dojo.style(this.containerNode,"opacity",0);}var pad=this.viewportPadding*2;var _c80={node:this.domNode,duration:this.sizeDuration||dijit._defaultDuration,easing:this.easing,method:this.sizeMethod};var ds=this._displaysize||this._setSize();_c80["width"]=ds.w=(ds.w+pad>=this._vp.w||this.sizeToViewport)?this._vp.w-pad:ds.w;_c80["height"]=ds.h=(ds.h+pad>=this._vp.h||this.sizeToViewport)?this._vp.h-pad:ds.h;this._sizing=_c78.fx.sizeTo(_c80);this._sizingConnect=this.connect(this._sizing,"onEnd","_showContent");this._sizing.play();},_showContent:function(e){var _c81=this.containerNode;dojo.style(this.domNode,{overflow:"visible",opacity:1});dojo.style(this.closeButtonNode,"opacity",1);dojo.style(_c81,{height:this._displaysize.h-this.titleNode.offsetHeight+"px",width:this._displaysize.w+"px",overflow:"auto"});dojo.anim(_c81,{opacity:1});}});});},"dijit/Dialog":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","./layout/utils","dojo/text!./templates/Dialog.html","./a11yclick","dojo/i18n!./nls/common"],function(_c82,_c83,_c84,_c85,_c86,dom,_c87,_c88,_c89,fx,i18n,keys,lang,on,_c8a,has,_c8b,_c8c,_c8d,_c8e,_c8f,_c90,_c91,_c92,_c93,_c94,_c95,_c96,_c97,_c98){var _c99=new _c86();_c99.resolve(true);var _c9a=_c85("dijit._DialogBase"+(has("dojo-bidi")?"_NoBidi":""),[_c91,_c93,_c94,_c92],{templateString:_c98,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:false,duration:_c8f.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},maxRatio:0.9,closable:true,_setClosableAttr:function(val){this.closeButtonNode.style.display=val?"":"none";this._set("closable",val);},postMixInProperties:function(){var _c9b=i18n.getLocalization("dijit","common");lang.mixin(this,_c9b);this.inherited(arguments);},postCreate:function(){_c89.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);_c84.after(this,"onExecute",lang.hitch(this,"hide"),true);_c84.after(this,"onCancel",lang.hitch(this,"hide"),true);this._modalconnects=[];},onLoad:function(){this.resize();this._position();if(this.autofocus&&_c9c.isTop(this)){this._getFocusItems();_c8e.focus(this._firstFocusItem);}this.inherited(arguments);},focus:function(){this._getFocusItems();_c8e.focus(this._firstFocusItem);},_endDrag:function(){var _c9d=_c88.position(this.domNode),_c9e=_c8b.getBox(this.ownerDocument);_c9d.y=Math.min(Math.max(_c9d.y,0),(_c9e.h-_c9d.h));_c9d.x=Math.min(Math.max(_c9d.x,0),(_c9e.w-_c9d.w));this._relativePosition=_c9d;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_c8d:_c8c)(node,{handle:this.titleBar});_c84.after(this._moveable,"onMoveStop",lang.hitch(this,"_endDrag"),true);}else{_c87.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_c83.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),_onKeyDown:lang.hitch(this,"_onKey"),ownerDocument:this.ownerDocument};},_size:function(){this.resize();},_position:function(){if(!_c87.contains(this.ownerDocumentBody,"dojoMove")){var node=this.domNode,_c9f=_c8b.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_c88.position(node),l=Math.floor(_c9f.l+(p?p.x:(_c9f.w-bb.w)/2)),t=Math.floor(_c9f.t+(p?p.y:(_c9f.h-bb.h)/2));_c89.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.keyCode==keys.TAB){this._getFocusItems();var node=evt.target;if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(node==this._firstFocusItem&&evt.shiftKey){_c8e.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(node==this._lastFocusItem&&!evt.shiftKey){_c8e.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}}}}else{if(this.closable&&evt.keyCode==keys.ESCAPE){this.onCancel();evt.stopPropagation();evt.preventDefault();}}},show:function(){if(this.open){return _c99.promise;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();_c9c.hide(this);}var win=_c8b.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize",null)));this._modalconnects.push(on(this.domNode,"keydown",lang.hitch(this,"_onKey")));_c89.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this.resize();this._position();var _ca0;this._fadeInDeferred=new _c86(lang.hitch(this,function(){_ca0.stop();delete this._fadeInDeferred;}));var _ca1=this._fadeInDeferred.promise;_ca0=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_c9c.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_c9c.isTop(this)){this._getFocusItems();_c8e.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return _ca1;},hide:function(){if(!this._alreadyInitialized||!this.open){return _c99.promise;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _ca2;this._fadeOutDeferred=new _c86(lang.hitch(this,function(){_ca2.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(lang.hitch(this,"onHide"));var _ca3=this._fadeOutDeferred.promise;_ca2=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_c9c.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return _ca3;},resize:function(dim){if(this.domNode.style.display!="none"){this._checkIfSingleChild();if(!dim){if(this._shrunk){if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}_c83.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(node){if(node){_c89.set(node,{position:"static",width:"auto",height:"auto"});}});this.domNode.style.position="absolute";}var _ca4=_c8b.getBox(this.ownerDocument);_ca4.w*=this.maxRatio;_ca4.h*=this.maxRatio;var bb=_c88.position(this.domNode);if(bb.w>=_ca4.w||bb.h>=_ca4.h){dim={w:Math.min(bb.w,_ca4.w),h:Math.min(bb.h,_ca4.h)};this._shrunk=true;}else{this._shrunk=false;}}if(dim){_c88.setMarginBox(this.domNode,dim);var _ca5=[];if(this.titleBar){_ca5.push({domNode:this.titleBar,region:"top"});}if(this.actionBarNode){_ca5.push({domNode:this.actionBarNode,region:"bottom"});}var _ca6={domNode:this.containerNode,region:"center"};_ca5.push(_ca6);var _ca7=_c97.marginBox2contentBox(this.domNode,dim);_c97.layoutChildren(this.domNode,_ca7,_ca5);if(this._singleChild){var cb=_c97.marginBox2contentBox(this.containerNode,_ca6);this._singleChild.resize({w:cb.w,h:cb.h});}else{this.containerNode.style.overflow="auto";this._layoutChildren();}}else{this._layoutChildren();}if(!has("touch")&&!dim){this._position();}}},_layoutChildren:function(){_c83.forEach(this.getChildren(),function(_ca8){if(_ca8.resize){_ca8.resize();}});},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_c9c.hide(this);this.inherited(arguments);}});if(has("dojo-bidi")){_c9a=_c85("dijit._DialogBase",_c9a,{_setTitleAttr:function(_ca9){this._set("title",_ca9);this.titleNode.innerHTML=_ca9;this.applyTextDir(this.titleNode);},_setTextDirAttr:function(_caa){if(this._created&&this.textDir!=_caa){this._set("textDir",_caa);this.set("title",this.title);}}});}var _cab=_c85("dijit.Dialog",[_c96,_c9a],{});_cab._DialogBase=_c9a;var _c9c=_cab._DialogLevelManager={_beginZIndex:950,show:function(_cac,_cad){ds[ds.length-1].focus=_c8e.curNode;var _cae=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_cab._DialogLevelManager._beginZIndex;_c89.set(_cac.domNode,"zIndex",_cae);_c95.show(_cad,_cae-1);ds.push({dialog:_cac,underlayAttrs:_cad,zIndex:_cae});},hide:function(_caf){if(ds[ds.length-1].dialog==_caf){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){_c95.hide();}else{_c95.show(pd.underlayAttrs,pd.zIndex-1);}if(_caf.refocus){var _cb0=pd.focus;if(pd.dialog&&(!_cb0||!dom.isDescendant(_cb0,pd.dialog.domNode))){pd.dialog._getFocusItems();_cb0=pd.dialog._firstFocusItem;}if(_cb0){try{_cb0.focus();}catch(e){}}}}else{var idx=_c83.indexOf(_c83.map(ds,function(elem){return elem.dialog;}),_caf);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_cb1){return ds[ds.length-1].dialog==_cb1;}};var ds=_cab._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];_c8e.watch("curNode",function(attr,_cb2,node){var _cb3=ds[ds.length-1].dialog;if(node&&_cb3&&!_cb3._fadeOutDeferred&&node.ownerDocument==_cb3.ownerDocument){do{if(node==_cb3.domNode||_c87.contains(node,"dijitPopup")){return;}}while(node=node.parentNode);_cb3.focus();}});if(has("dijit-legacy-requires")){_c8a(0,function(){var _cb4=["dijit/TooltipDialog"];_c82(_cb4);});}return _cab;});},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(_cb5,_cb6){var _cb7=_cb6.prototype.onMove;return _cb5("dojo.dnd.TimedMoveable",_cb6,{timeout:40,constructor:function(node,_cb8){if(!_cb8){_cb8={};}if(_cb8.timeout&&typeof _cb8.timeout=="number"&&_cb8.timeout>=0){this.timeout=_cb8.timeout;}},onMoveStop:function(_cb9){if(_cb9._timer){clearTimeout(_cb9._timer);_cb7.call(this,_cb9,_cb9._leftTop);}_cb6.prototype.onMoveStop.apply(this,arguments);},onMove:function(_cba,_cbb){_cba._leftTop=_cbb;if(!_cba._timer){var _cbc=this;_cba._timer=setTimeout(function(){_cba._timer=null;_cb7.call(_cbc,_cba,_cba._leftTop);},this.timeout);}}});});},"dijit/form/_FormMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_cbd,_cbe,_cbf,lang,on,_cc0){return _cbe("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_cc1){var res=[];_cbd.forEach(_cc1||this.getChildren(),function(_cc2){if("value" in _cc2){res.push(_cc2);}else{res=res.concat(this._getDescendantFormWidgets(_cc2.getChildren()));}},this);return res;},reset:function(){_cbd.forEach(this._getDescendantFormWidgets(),function(_cc3){if(_cc3.reset){_cc3.reset();}});},validate:function(){var _cc4=false;return _cbd.every(_cbd.map(this._getDescendantFormWidgets(),function(_cc5){_cc5._hasBeenBlurred=true;var _cc6=_cc5.disabled||!_cc5.validate||_cc5.validate();if(!_cc6&&!_cc4){_cc0.scrollIntoView(_cc5.containerNode||_cc5.domNode);_cc5.focus();_cc4=true;}return _cc6;}),function(item){return item;});},setValues:function(val){_cbf.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_cbd.forEach(this._getDescendantFormWidgets(),function(_cc7){if(!_cc7.name){return;}var _cc8=map[_cc7.name]||(map[_cc7.name]=[]);_cc8.push(_cc7);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _cc9=map[name],_cca=lang.getObject(name,false,obj);if(_cca===undefined){continue;}_cca=[].concat(_cca);if(typeof _cc9[0].checked=="boolean"){_cbd.forEach(_cc9,function(w){w.set("value",_cbd.indexOf(_cca,w._get("value"))!=-1);});}else{if(_cc9[0].multiple){_cc9[0].set("value",_cca);}else{_cbd.forEach(_cc9,function(w,i){w.set("value",_cca[i]);});}}}},getValues:function(){_cbf.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_cbd.forEach(this._getDescendantFormWidgets(),function(_ccb){var name=_ccb.name;if(!name||_ccb.disabled){return;}var _ccc=_ccb.get("value");if(typeof _ccb.checked=="boolean"){if(/Radio/.test(_ccb.declaredClass)){if(_ccc!==false){lang.setObject(name,_ccc,obj);}else{_ccc=lang.getObject(name,false,obj);if(_ccc===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_ccc!==false){ary.push(_ccc);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_ccc);}else{lang.setObject(name,[prev,_ccc],obj);}}else{lang.setObject(name,_ccc,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _ccd=_cbd.map(this._descendants,function(w){return w.get("state")||"";});return _cbd.indexOf(_ccd,"Error")>=0?"Error":_cbd.indexOf(_ccd,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_cce){this._descendants=this._getDescendantFormWidgets();_cbd.forEach(this._descendants,function(_ccf){if(!_ccf._started){_ccf.startup();}});if(!_cce){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_cd0,_cd1){this.onValidStateChange(_cd1=="");});},destroy:function(){this.inherited(arguments);}});});},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(_cd2,a11y){return _cd2("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _cd3=a11y._getTabNavigable(this.domNode);this._firstFocusItem=_cd3.lowest||_cd3.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_cd3.last||_cd3.highest||this._firstFocusItem;}});});},"dijit/DialogUnderlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(_cd4,lang,_cd5,_cd6,_cd7,on,_cd8,_cd9,_cda,_cdb,_cdc,_cdd){var _cde=_cd4("dijit.DialogUnderlay",[_cd9,_cda],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(id){_cd6.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_cdf){this.node.className="dijitDialogUnderlay "+_cdf;this._set("class",_cdf);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));this.inherited(arguments);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _ce0=_cd8.getBox(this.ownerDocument);os.top=_ce0.t+"px";os.left=_ce0.l+"px";is.width=_ce0.w+"px";is.height=_ce0.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.open=true;this.layout();this.bgIframe=new _cdb(this.domNode);var win=_cd8.get(this.ownerDocument);this._modalConnects=[_cdc.on("resize",lang.hitch(this,"layout")),on(win,"scroll",lang.hitch(this,"layout"))];},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.open=false;},destroy:function(){while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.inherited(arguments);},_onKeyDown:function(){}});_cde.show=function(_ce1,_ce2){var _ce3=_cde._singleton;if(!_ce3||_ce3._destroyed){_ce3=_cdd._underlay=_cde._singleton=new _cde(_ce1);}else{if(_ce1){_ce3.set(_ce1);}}_cd7.set(_ce3.domNode,"zIndex",_ce2);if(!_ce3.open){_ce3.show();}};_cde.hide=function(){var _ce4=_cde._singleton;if(_ce4&&!_ce4._destroyed){_ce4.hide();}};return _cde;});},"dojox/fx":function(){define(["./fx/_base"],function(_ce5){return _ce5;});},"dojox/fx/_base":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/fx","dojo/fx","dojo/dom","dojo/dom-style","dojo/dom-geometry","dojo/_base/connect","dojo/_base/html"],function(_ce6,lang,_ce7,_ce8,dom,_ce9,_cea,_ceb,_cec){var _ced=lang.getObject("dojox.fx",true);lang.mixin(_ced,{anim:_ce7.anim,animateProperty:_ce7.animateProperty,fadeTo:_ce7._fade,fadeIn:_ce7.fadeIn,fadeOut:_ce7.fadeOut,combine:_ce8.combine,chain:_ce8.chain,slideTo:_ce8.slideTo,wipeIn:_ce8.wipeIn,wipeOut:_ce8.wipeOut});_ced.sizeTo=function(args){var node=args.node=dom.byId(args.node),abs="absolute";var _cee=args.method||"chain";if(!args.duration){args.duration=500;}if(_cee=="chain"){args.duration=Math.floor(args.duration/2);}var top,_cef,left,_cf0,_cf1,_cf2=null;var init=(function(n){return function(){var cs=_ce9.getComputedStyle(n),pos=cs.position,w=cs.width,h=cs.height;top=(pos==abs?n.offsetTop:parseInt(cs.top)||0);left=(pos==abs?n.offsetLeft:parseInt(cs.left)||0);_cf1=(w=="auto"?0:parseInt(w));_cf2=(h=="auto"?0:parseInt(h));_cf0=left-Math.floor((args.width-_cf1)/2);_cef=top-Math.floor((args.height-_cf2)/2);if(pos!=abs&&pos!="relative"){var ret=_ce9.coords(n,true);top=ret.y;left=ret.x;n.style.position=abs;n.style.top=top+"px";n.style.left=left+"px";}};})(node);var _cf3=_ce7.animateProperty(lang.mixin({properties:{height:function(){init();return {end:args.height||0,start:_cf2};},top:function(){return {start:top,end:_cef};}}},args));var _cf4=_ce7.animateProperty(lang.mixin({properties:{width:function(){return {start:_cf1,end:args.width||0};},left:function(){return {start:left,end:_cf0};}}},args));var anim=_ce8[(args.method=="combine"?"combine":"chain")]([_cf3,_cf4]);return anim;};_ced.slideBy=function(args){var node=args.node=dom.byId(args.node),top,left;var init=(function(n){return function(){var cs=_ce9.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=_cea.coords(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var _cf5=_ce7.animateProperty(lang.mixin({properties:{top:top+(args.top||0),left:left+(args.left||0)}},args));_ceb.connect(_cf5,"beforeBegin",_cf5,init);return _cf5;};_ced.crossFade=function(args){var _cf6=args.nodes[0]=dom.byId(args.nodes[0]),op1=_cec.style(_cf6,"opacity"),_cf7=args.nodes[1]=dom.byId(args.nodes[1]),op2=_cec.style(_cf7,"opacity");var _cf8=_ce8.combine([_ce7[(op1==0?"fadeIn":"fadeOut")](lang.mixin({node:_cf6},args)),_ce7[(op1==0?"fadeOut":"fadeIn")](lang.mixin({node:_cf7},args))]);return _cf8;};_ced.highlight=function(args){var node=args.node=dom.byId(args.node);args.duration=args.duration||400;var _cf9=args.color||"#ffff99",_cfa=_cec.style(node,"backgroundColor");if(_cfa=="rgba(0, 0, 0, 0)"){_cfa="transparent";}var anim=_ce7.animateProperty(lang.mixin({properties:{backgroundColor:{start:_cf9,end:_cfa}}},args));if(_cfa=="transparent"){_ceb.connect(anim,"onEnd",anim,function(){node.style.backgroundColor=_cfa;});}return anim;};_ced.wipeTo=function(args){args.node=dom.byId(args.node);var node=args.node,s=node.style;var dir=(args.width?"width":"height"),_cfb=args[dir],_cfc={};_cfc[dir]={start:function(){s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s[dir]="1px";s.display="";s.visibility="";return 1;}else{var now=_cec.style(node,dir);return Math.max(now,1);}},end:_cfb};var anim=_ce7.animateProperty(lang.mixin({properties:_cfc},args));return anim;};return _ced;});},"dojox/widget/DialogSimple":function(){define(["dojo/_base/declare","dijit/Dialog","dojox/layout/ContentPane"],function(_cfd,_cfe,_cff){return _cfd("dojox.widget.DialogSimple",[_cff,_cfe._DialogBase],{});});},"dijit/Editor":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/Deferred","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/string","dojo/topic","./_Container","./Toolbar","./ToolbarSeparator","./layout/_LayoutWidget","./form/ToggleButton","./_editor/_Plugin","./_editor/plugins/EnterKeyHandling","./_editor/html","./_editor/range","./_editor/RichText","./main","dojo/i18n!./_editor/nls/commands"],function(_d00,_d01,_d02,_d03,i18n,_d04,_d05,_d06,_d07,keys,lang,has,_d08,_d09,_d0a,_d0b,_d0c,_d0d,_d0e,_d0f,_d10,html,_d11,_d12,_d13){var _d14=_d02("dijit.Editor",_d12,{plugins:null,extraPlugins:null,constructor:function(){if(!lang.isArray(this.plugins)){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull",_d10];}this._plugins=[];this._editInterval=this.editActionInterval*1000;if(has("ie")||has("trident")){this.events.push("onBeforeDeactivate");this.events.push("onBeforeActivate");}},postMixInProperties:function(){this.setValueDeferred=new _d03();this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);if(lang.isArray(this.extraPlugins)){this.plugins=this.plugins.concat(this.extraPlugins);}this.commands=i18n.getLocalization("dijit._editor","commands",this.lang);if(has("webkit")){_d07.set(this.domNode,"KhtmlUserSelect","none");}},startup:function(){this.inherited(arguments);if(!this.toolbar){this.toolbar=new _d0b({ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,"aria-label":this.id});this.header.appendChild(this.toolbar.domNode);}_d01.forEach(this.plugins,this.addPlugin,this);this.setValueDeferred.resolve(true);_d05.add(this.iframe.parentNode,"dijitEditorIFrameContainer");_d05.add(this.iframe,"dijitEditorIFrame");_d04.set(this.iframe,"allowTransparency",true);this.toolbar.startup();this.onNormalizedDisplayChanged();},destroy:function(){_d01.forEach(this._plugins,function(p){if(p&&p.destroy){p.destroy();}});this._plugins=[];this.toolbar.destroyRecursive();delete this.toolbar;this.inherited(arguments);},addPlugin:function(_d15,_d16){var args=lang.isString(_d15)?{name:_d15}:lang.isFunction(_d15)?{ctor:_d15}:_d15;if(!args.setEditor){var o={"args":args,"plugin":null,"editor":this};if(args.name){if(_d0f.registry[args.name]){o.plugin=_d0f.registry[args.name](args);}else{_d09.publish(_d13._scopeName+".Editor.getPlugin",o);}}if(!o.plugin){try{var pc=args.ctor||lang.getObject(args.name)||_d00(args.name);if(pc){o.plugin=new pc(args);}}catch(e){throw new Error(this.id+": cannot find plugin ["+args.name+"]");}}if(!o.plugin){throw new Error(this.id+": cannot find plugin ["+args.name+"]");}_d15=o.plugin;}if(arguments.length>1){this._plugins[_d16]=_d15;}else{this._plugins.push(_d15);}_d15.setEditor(this);if(lang.isFunction(_d15.setToolbar)){_d15.setToolbar(this.toolbar);}},resize:function(size){if(size){_d0d.prototype.resize.apply(this,arguments);}},layout:function(){var _d17=(this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+_d06.getPadBorderExtents(this.iframe.parentNode).h+_d06.getMarginExtents(this.iframe.parentNode).h));this.editingArea.style.height=_d17+"px";if(this.iframe){this.iframe.style.height="100%";}this._layoutMode=true;},_onIEMouseDown:function(e){var _d18;var b=this.document.body;var _d19=b.clientWidth;var _d1a=b.clientHeight;var _d1b=b.clientLeft;var _d1c=b.offsetWidth;var _d1d=b.offsetHeight;var _d1e=b.offsetLeft;if(/^rtl$/i.test(b.dir||"")){if(_d19<_d1c&&e.x>_d19&&e.x<_d1c){_d18=true;}}else{if(e.x<_d1b&&e.x>_d1e){_d18=true;}}if(!_d18){if(_d1a<_d1d&&e.y>_d1a&&e.y<_d1d){_d18=true;}}if(!_d18){delete this._cursorToStart;delete this._savedSelection;if(e.target.tagName=="BODY"){this.defer("placeCursorAtEnd");}this.inherited(arguments);}},onBeforeActivate:function(){this._restoreSelection();},onBeforeDeactivate:function(e){if(this.customUndo){this.endEditing(true);}if(e.target.tagName!="BODY"){this._saveSelection();}},customUndo:true,editActionInterval:3,beginEditing:function(cmd){if(!this._inEditing){this._inEditing=true;this._beginEditing(cmd);}if(this.editActionInterval>0){if(this._editTimer){this._editTimer.remove();}this._editTimer=this.defer("endEditing",this._editInterval);}},_steps:[],_undoedSteps:[],execCommand:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return this[cmd]();}else{if(this.customUndo){this.endEditing();this._beginEditing();}var r=this.inherited(arguments);if(this.customUndo){this._endEditing();}return r;}},_pasteImpl:function(){return this._clipboardCommand("paste");},_cutImpl:function(){return this._clipboardCommand("cut");},_copyImpl:function(){return this._clipboardCommand("copy");},_clipboardCommand:function(cmd){var r;try{r=this.document.execCommand(cmd,false,null);if(has("webkit")&&!r){throw {code:1011};}}catch(e){if(e.code==1011||(e.code==9&&has("opera"))){var sub=_d08.substitute,_d1f={cut:"X",copy:"C",paste:"V"};alert(sub(this.commands.systemShortcut,[this.commands[cmd],sub(this.commands[has("mac")?"appleKey":"ctrlKey"],[_d1f[cmd]])]));}r=false;}return r;},queryCommandEnabled:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);}else{return this.inherited(arguments);}},_moveToBookmark:function(b){var _d20=b.mark;var mark=b.mark;var col=b.isCollapsed;var r,_d21,_d22,sel;if(mark){if(has("ie")<9||(has("ie")===9&&has("quirks"))){if(lang.isArray(mark)){_d20=[];_d01.forEach(mark,function(n){_d20.push(_d11.getNode(n,this.editNode));},this);this.selection.moveToBookmark({mark:_d20,isCollapsed:col});}else{if(mark.startContainer&&mark.endContainer){sel=_d11.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=_d11.create(this.window);_d21=_d11.getNode(mark.startContainer,this.editNode);_d22=_d11.getNode(mark.endContainer,this.editNode);if(_d21&&_d22){r.setStart(_d21,mark.startOffset);r.setEnd(_d22,mark.endOffset);sel.addRange(r);}}}}}else{sel=_d11.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=_d11.create(this.window);_d21=_d11.getNode(mark.startContainer,this.editNode);_d22=_d11.getNode(mark.endContainer,this.editNode);if(_d21&&_d22){r.setStart(_d21,mark.startOffset);r.setEnd(_d22,mark.endOffset);sel.addRange(r);}}}}},_changeToStep:function(from,to){this.setValue(to.text);var b=to.bookmark;if(!b){return;}this._moveToBookmark(b);},undo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._steps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(s,this._steps[this._steps.length-1]);this._undoedSteps.push(s);this.onDisplayChanged();delete this._undoRedoActive;ret=true;}delete this._undoRedoActive;}return ret;},redo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._undoedSteps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(this._steps[this._steps.length-1],s);this._steps.push(s);this.onDisplayChanged();ret=true;}delete this._undoRedoActive;}return ret;},endEditing:function(_d23){if(this._editTimer){this._editTimer=this._editTimer.remove();}if(this._inEditing){this._endEditing(_d23);this._inEditing=false;}},_getBookmark:function(){var b=this.selection.getBookmark();var tmp=[];if(b&&b.mark){var mark=b.mark;if(has("ie")<9||(has("ie")===9&&has("quirks"))){var sel=_d11.getSelection(this.window);if(!lang.isArray(mark)){if(sel){var _d24;if(sel.rangeCount){_d24=sel.getRangeAt(0);}if(_d24){b.mark=_d24.cloneRange();}else{b.mark=this.selection.getBookmark();}}}else{_d01.forEach(b.mark,function(n){tmp.push(_d11.getIndex(n,this.editNode).o);},this);b.mark=tmp;}}try{if(b.mark&&b.mark.startContainer){tmp=_d11.getIndex(b.mark.startContainer,this.editNode).o;b.mark={startContainer:tmp,startOffset:b.mark.startOffset,endContainer:b.mark.endContainer===b.mark.startContainer?tmp:_d11.getIndex(b.mark.endContainer,this.editNode).o,endOffset:b.mark.endOffset};}}catch(e){b.mark=null;}}return b;},_beginEditing:function(){if(this._steps.length===0){this._steps.push({"text":html.getChildrenHtml(this.editNode),"bookmark":this._getBookmark()});}},_endEditing:function(){var v=html.getChildrenHtml(this.editNode);this._undoedSteps=[];this._steps.push({text:v,bookmark:this._getBookmark()});},onKeyDown:function(e){if(!has("ie")&&!this.iframe&&e.keyCode==keys.TAB&&!this.tabIndent){this._saveSelection();}if(!this.customUndo){this.inherited(arguments);return;}var k=e.keyCode;if(e.ctrlKey&&!e.shiftKey&&!e.altKey){if(k==90||k==122){e.stopPropagation();e.preventDefault();this.undo();return;}else{if(k==89||k==121){e.stopPropagation();e.preventDefault();this.redo();return;}}}this.inherited(arguments);switch(k){case keys.ENTER:case keys.BACKSPACE:case keys.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing();if(e.keyCode==88){this.beginEditing("cut");}else{this.beginEditing("paste");}this.defer("endEditing",1);break;}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<keys.F1||e.keyCode>keys.F15)){this.beginEditing();break;}case keys.ALT:this.endEditing();break;case keys.UP_ARROW:case keys.DOWN_ARROW:case keys.LEFT_ARROW:case keys.RIGHT_ARROW:case keys.HOME:case keys.END:case keys.PAGE_UP:case keys.PAGE_DOWN:this.endEditing(true);break;case keys.CTRL:case keys.SHIFT:case keys.TAB:break;}},_onBlur:function(){this.inherited(arguments);this.endEditing(true);},_saveSelection:function(){try{this._savedSelection=this._getBookmark();}catch(e){}},_restoreSelection:function(){if(this._savedSelection){delete this._cursorToStart;if(this.selection.isCollapsed()){this._moveToBookmark(this._savedSelection);}delete this._savedSelection;}},onClick:function(){this.endEditing(true);this.inherited(arguments);},replaceValue:function(html){if(!this.customUndo){this.inherited(arguments);}else{if(this.isClosed){this.setValue(html);}else{this.beginEditing();if(!html){html="&#160;";}this.setValue(html);this.endEditing();}}},_setDisabledAttr:function(_d25){this.setValueDeferred.then(lang.hitch(this,function(){if((!this.disabled&&_d25)||(!this._buttonEnabledPlugins&&_d25)){_d01.forEach(this._plugins,function(p){p.set("disabled",true);});}else{if(this.disabled&&!_d25){_d01.forEach(this._plugins,function(p){p.set("disabled",false);});}}}));this.inherited(arguments);},_setStateClass:function(){try{this.inherited(arguments);if(this.document&&this.document.body){_d07.set(this.document.body,"color",_d07.get(this.iframe,"color"));}}catch(e){}}});function _d26(args){return new _d0f({command:args.name});};function _d27(args){return new _d0f({buttonClass:_d0e,command:args.name});};lang.mixin(_d0f.registry,{"undo":_d26,"redo":_d26,"cut":_d26,"copy":_d26,"paste":_d26,"insertOrderedList":_d26,"insertUnorderedList":_d26,"indent":_d26,"outdent":_d26,"justifyCenter":_d26,"justifyFull":_d26,"justifyLeft":_d26,"justifyRight":_d26,"delete":_d26,"selectAll":_d26,"removeFormat":_d26,"unlink":_d26,"insertHorizontalRule":_d26,"bold":_d27,"italic":_d27,"underline":_d27,"strikethrough":_d27,"subscript":_d27,"superscript":_d27,"|":function(){return new _d0f({setEditor:function(_d28){this.editor=_d28;this.button=new _d0c({ownerDocument:_d28.ownerDocument});}});}});return _d14;});},"dijit/Toolbar":function(){define(["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_d29,_d2a,has,keys,_d2b,_d2c,_d2d,_d2e){if(has("dijit-legacy-requires")){_d2b(0,function(){var _d2f=["dijit/ToolbarSeparator"];_d29(_d2f);});}return _d2a("dijit.Toolbar",[_d2c,_d2e,_d2d],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev();},_onRightArrow:function(){this.focusNext();}});});},"dijit/ToolbarSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_d30,dom,_d31,_d32){return _d30("dijit.ToolbarSeparator",[_d31,_d32],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/_editor/_Plugin":function(){define(["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../Destroyable","../form/Button"],function(_d33,_d34,lang,_d35,_d36){var _d37=_d34("dijit._editor._Plugin",_d35,{constructor:function(args){this.params=args||{};lang.mixin(this,this.params);this._attrPairNames={};},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:true,buttonClass:_d36,disabled:false,getLabel:function(key){return this.editor.commands[key];},_initButton:function(){if(this.command.length){var _d38=this.getLabel(this.command),_d39=this.editor,_d3a=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var _d3b=lang.mixin({label:_d38,ownerDocument:_d39.ownerDocument,dir:_d39.dir,lang:_d39.lang,showLabel:false,iconClass:_d3a,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});delete _d3b.name;this.button=new this.buttonClass(_d3b);}}if(this.get("disabled")&&this.button){this.button.set("disabled",this.get("disabled"));}},destroy:function(){if(this.dropDown){this.dropDown.destroyRecursive();}this.inherited(arguments);},connect:function(o,f,tf){this.own(_d33.connect(o,f,this,tf));},updateState:function(){var e=this.editor,c=this.command,_d3c,_d3d;if(!e||!e.isLoaded||!c.length){return;}var _d3e=this.get("disabled");if(this.button){try{_d3d=!_d3e&&e.queryCommandEnabled(c);if(this.enabled!==_d3d){this.enabled=_d3d;this.button.set("disabled",!_d3d);}if(_d3d){if(typeof this.button.checked=="boolean"){_d3c=e.queryCommandState(c);if(this.checked!==_d3c){this.checked=_d3c;this.button.set("checked",e.queryCommandState(c));}}}}catch(e){}}},setEditor:function(_d3f){this.editor=_d3f;this._initButton();if(this.button&&this.useDefaultCommand){if(this.editor.queryCommandAvailable(this.command)){this.own(this.button.on("click",lang.hitch(this.editor,"execCommand",this.command,this.commandArg)));}else{this.button.domNode.style.display="none";}}this.own(this.editor.on("NormalizedDisplayChanged",lang.hitch(this,"updateState")));},setToolbar:function(_d40){if(this.button){_d40.addChild(this.button);}},set:function(name,_d41){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _d42=this._getAttrNames(name);if(this[_d42.s]){var _d43=this[_d42.s].apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,_d41);}return _d43||this;},get:function(name){var _d44=this._getAttrNames(name);return this[_d44.g]?this[_d44.g]():this[name];},_setDisabledAttr:function(_d45){this._set("disabled",_d45);this.updateState();},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_d46){this[name]=_d46;}});_d37.registry={};return _d37;});},"dijit/_editor/plugins/EnterKeyHandling":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","../_Plugin","../RichText","../range"],function(_d47,_d48,keys,lang,on,has,win,_d49,_d4a,_d4b,_d4c){return _d47("dijit._editor.plugins.EnterKeyHandling",_d4a,{blockNodeForEnter:"BR",constructor:function(args){if(args){if("blockNodeForEnter" in args){args.blockNodeForEnter=args.blockNodeForEnter.toUpperCase();}lang.mixin(this,args);}},setEditor:function(_d4d){if(this.editor===_d4d){return;}this.editor=_d4d;if(this.blockNodeForEnter=="BR"){this.editor.customUndo=true;_d4d.onLoadDeferred.then(lang.hitch(this,function(d){this.own(on(_d4d.document,"keydown",lang.hitch(this,function(e){if(e.keyCode==keys.ENTER){var ne=lang.mixin({},e);ne.shiftKey=true;if(!this.handleEnterKey(ne)){e.stopPropagation();e.preventDefault();}}})));if(has("ie")>=9&&has("ie")<=10){this.own(on(_d4d.document,"paste",lang.hitch(this,function(e){setTimeout(lang.hitch(this,function(){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();r.move("character",1);r.select();}),0);})));}return d;}));}else{if(this.blockNodeForEnter){var h=lang.hitch(this,"handleEnterKey");_d4d.addKeyHandler(13,0,0,h);_d4d.addKeyHandler(13,0,1,h);this.own(this.editor.on("KeyPressed",lang.hitch(this,"onKeyPressed")));}}},onKeyPressed:function(){if(this._checkListLater){if(this.editor.selection.isCollapsed()){var _d4e=this.editor.selection.getAncestorElement("LI");if(!_d4e){_d4b.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);var _d4f=this.editor.selection.getAncestorElement(this.blockNodeForEnter);if(_d4f){_d4f.innerHTML=this.bogusHtmlContent;if(has("ie")<=9){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();}}else{console.error("onKeyPressed: Cannot find the new block node");}}else{if(has("mozilla")){if(_d4e.parentNode.parentNode.nodeName=="LI"){_d4e=_d4e.parentNode.parentNode;}}var fc=_d4e.firstChild;if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){_d4e.insertBefore(fc.ownerDocument.createTextNode(" "),fc);var _d50=_d4c.create(this.editor.window);_d50.setStart(_d4e.firstChild,0);var _d51=_d4c.getSelection(this.editor.window,true);_d51.removeAllRanges();_d51.addRange(_d50);}}}this._checkListLater=false;}if(this._pressedEnterInBlock){if(this._pressedEnterInBlock.previousSibling){this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);}delete this._pressedEnterInBlock;}},bogusHtmlContent:"&#160;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(e){var _d52,_d53,_d54,_d55,_d56,_d57,doc=this.editor.document,br,rs,txt;if(e.shiftKey){var _d58=this.editor.selection.getParentElement();var _d59=_d4c.getAncestor(_d58,this.blockNodes);if(_d59){if(_d59.tagName=="LI"){return true;}_d52=_d4c.getSelection(this.editor.window);_d53=_d52.getRangeAt(0);if(!_d53.collapsed){_d53.deleteContents();_d52=_d4c.getSelection(this.editor.window);_d53=_d52.getRangeAt(0);}if(_d4c.atBeginningOfContainer(_d59,_d53.startContainer,_d53.startOffset)){br=doc.createElement("br");_d54=_d4c.create(this.editor.window);_d59.insertBefore(br,_d59.firstChild);_d54.setStartAfter(br);_d52.removeAllRanges();_d52.addRange(_d54);}else{if(_d4c.atEndOfContainer(_d59,_d53.startContainer,_d53.startOffset)){_d54=_d4c.create(this.editor.window);br=doc.createElement("br");_d59.appendChild(br);_d59.appendChild(doc.createTextNode(" "));_d54.setStart(_d59.lastChild,0);_d52.removeAllRanges();_d52.addRange(_d54);}else{rs=_d53.startContainer;if(rs&&rs.nodeType==3){txt=rs.nodeValue;_d55=doc.createTextNode(txt.substring(0,_d53.startOffset));_d56=doc.createTextNode(txt.substring(_d53.startOffset));_d57=doc.createElement("br");if(_d56.nodeValue==""&&has("webkit")){_d56=doc.createTextNode(" ");}_d48.place(_d55,rs,"after");_d48.place(_d57,_d55,"after");_d48.place(_d56,_d57,"after");_d48.destroy(rs);_d54=_d4c.create(this.editor.window);_d54.setStart(_d56,0);_d52.removeAllRanges();_d52.addRange(_d54);return false;}return true;}}}else{_d52=_d4c.getSelection(this.editor.window);if(_d52.rangeCount){_d53=_d52.getRangeAt(0);if(_d53&&_d53.startContainer){if(!_d53.collapsed){_d53.deleteContents();_d52=_d4c.getSelection(this.editor.window);_d53=_d52.getRangeAt(0);}rs=_d53.startContainer;if(rs&&rs.nodeType==3){var _d5a=_d53.startOffset;if(rs.length<_d5a){ret=this._adjustNodeAndOffset(rs,_d5a);rs=ret.node;_d5a=ret.offset;}txt=rs.nodeValue;_d55=doc.createTextNode(txt.substring(0,_d5a));_d56=doc.createTextNode(txt.substring(_d5a));_d57=doc.createElement("br");if(!_d56.length){_d56=doc.createTextNode(" ");}if(_d55.length){_d48.place(_d55,rs,"after");}else{_d55=rs;}_d48.place(_d57,_d55,"after");_d48.place(_d56,_d57,"after");_d48.destroy(rs);_d54=_d4c.create(this.editor.window);_d54.setStart(_d56,0);_d54.setEnd(_d56,_d56.length);_d52.removeAllRanges();_d52.addRange(_d54);this.editor.selection.collapse(true);}else{var _d5b;if(_d53.startOffset>=0){_d5b=rs.childNodes[_d53.startOffset];}var _d57=doc.createElement("br");var _d56=doc.createTextNode(" ");if(!_d5b){rs.appendChild(_d57);rs.appendChild(_d56);}else{_d48.place(_d57,_d5b,"before");_d48.place(_d56,_d57,"after");}_d54=_d4c.create(this.editor.window);_d54.setStart(_d56,0);_d54.setEnd(_d56,_d56.length);_d52.removeAllRanges();_d52.addRange(_d54);this.editor.selection.collapse(true);}}}else{_d4b.prototype.execCommand.call(this.editor,"inserthtml","<br>");}}return false;}var _d5c=true;_d52=_d4c.getSelection(this.editor.window);_d53=_d52.getRangeAt(0);if(!_d53.collapsed){_d53.deleteContents();_d52=_d4c.getSelection(this.editor.window);_d53=_d52.getRangeAt(0);}var _d5d=_d4c.getBlockAncestor(_d53.endContainer,null,this.editor.editNode);var _d5e=_d5d.blockNode;if((this._checkListLater=(_d5e&&(_d5e.nodeName=="LI"||_d5e.parentNode.nodeName=="LI")))){if(has("mozilla")){this._pressedEnterInBlock=_d5e;}if(/^(\s|&nbsp;|&#160;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|&#160;|\xA0)<\/span>)?(<br>)?$/.test(_d5e.innerHTML)){_d5e.innerHTML="";if(has("webkit")){_d54=_d4c.create(this.editor.window);_d54.setStart(_d5e,0);_d52.removeAllRanges();_d52.addRange(_d54);}this._checkListLater=false;}return true;}if(!_d5d.blockNode||_d5d.blockNode===this.editor.editNode){try{_d4b.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);}catch(e2){}_d5d={blockNode:this.editor.selection.getAncestorElement(this.blockNodeForEnter),blockContainer:this.editor.editNode};if(_d5d.blockNode){if(_d5d.blockNode!=this.editor.editNode&&(!(_d5d.blockNode.textContent||_d5d.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)){this.removeTrailingBr(_d5d.blockNode);return false;}}else{_d5d.blockNode=this.editor.editNode;}_d52=_d4c.getSelection(this.editor.window);_d53=_d52.getRangeAt(0);}var _d5f=doc.createElement(this.blockNodeForEnter);_d5f.innerHTML=this.bogusHtmlContent;this.removeTrailingBr(_d5d.blockNode);var _d60=_d53.endOffset;var node=_d53.endContainer;if(node.length<_d60){var ret=this._adjustNodeAndOffset(node,_d60);node=ret.node;_d60=ret.offset;}if(_d4c.atEndOfContainer(_d5d.blockNode,node,_d60)){if(_d5d.blockNode===_d5d.blockContainer){_d5d.blockNode.appendChild(_d5f);}else{_d48.place(_d5f,_d5d.blockNode,"after");}_d5c=false;_d54=_d4c.create(this.editor.window);_d54.setStart(_d5f,0);_d52.removeAllRanges();_d52.addRange(_d54);if(this.editor.height){_d49.scrollIntoView(_d5f);}}else{if(_d4c.atBeginningOfContainer(_d5d.blockNode,_d53.startContainer,_d53.startOffset)){_d48.place(_d5f,_d5d.blockNode,_d5d.blockNode===_d5d.blockContainer?"first":"before");if(_d5f.nextSibling&&this.editor.height){_d54=_d4c.create(this.editor.window);_d54.setStart(_d5f.nextSibling,0);_d52.removeAllRanges();_d52.addRange(_d54);_d49.scrollIntoView(_d5f.nextSibling);}_d5c=false;}else{if(_d5d.blockNode===_d5d.blockContainer){_d5d.blockNode.appendChild(_d5f);}else{_d48.place(_d5f,_d5d.blockNode,"after");}_d5c=false;if(_d5d.blockNode.style){if(_d5f.style){if(_d5d.blockNode.style.cssText){_d5f.style.cssText=_d5d.blockNode.style.cssText;}}}rs=_d53.startContainer;var _d61;if(rs&&rs.nodeType==3){var _d62,_d63;_d60=_d53.endOffset;if(rs.length<_d60){ret=this._adjustNodeAndOffset(rs,_d60);rs=ret.node;_d60=ret.offset;}txt=rs.nodeValue;_d55=doc.createTextNode(txt.substring(0,_d60));_d56=doc.createTextNode(txt.substring(_d60,txt.length));_d48.place(_d55,rs,"before");_d48.place(_d56,rs,"after");_d48.destroy(rs);var _d64=_d55.parentNode;while(_d64!==_d5d.blockNode){var tg=_d64.tagName;var _d65=doc.createElement(tg);if(_d64.style){if(_d65.style){if(_d64.style.cssText){_d65.style.cssText=_d64.style.cssText;}}}if(_d64.tagName==="FONT"){if(_d64.color){_d65.color=_d64.color;}if(_d64.face){_d65.face=_d64.face;}if(_d64.size){_d65.size=_d64.size;}}_d62=_d56;while(_d62){_d63=_d62.nextSibling;_d65.appendChild(_d62);_d62=_d63;}_d48.place(_d65,_d64,"after");_d55=_d64;_d56=_d65;_d64=_d64.parentNode;}_d62=_d56;if(_d62.nodeType==1||(_d62.nodeType==3&&_d62.nodeValue)){_d5f.innerHTML="";}_d61=_d62;while(_d62){_d63=_d62.nextSibling;_d5f.appendChild(_d62);_d62=_d63;}}_d54=_d4c.create(this.editor.window);var _d66;var _d67=_d61;if(this.blockNodeForEnter!=="BR"){while(_d67){_d66=_d67;_d63=_d67.firstChild;_d67=_d63;}if(_d66&&_d66.parentNode){_d5f=_d66.parentNode;_d54.setStart(_d5f,0);_d52.removeAllRanges();_d52.addRange(_d54);if(this.editor.height){_d49.scrollIntoView(_d5f);}if(has("mozilla")){this._pressedEnterInBlock=_d5d.blockNode;}}else{_d5c=true;}}else{_d54.setStart(_d5f,0);_d52.removeAllRanges();_d52.addRange(_d54);if(this.editor.height){_d49.scrollIntoView(_d5f);}if(has("mozilla")){this._pressedEnterInBlock=_d5d.blockNode;}}}}return _d5c;},_adjustNodeAndOffset:function(node,_d68){while(node.length<_d68&&node.nextSibling&&node.nextSibling.nodeType==3){_d68=_d68-node.length;node=node.nextSibling;}return {"node":node,"offset":_d68};},removeTrailingBr:function(_d69){var para=/P|DIV|LI/i.test(_d69.tagName)?_d69:this.editor.selection.getParentOfType(_d69,["P","DIV","LI"]);if(!para){return;}if(para.lastChild){if((para.childNodes.length>1&&para.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(para.lastChild.nodeValue))||para.lastChild.tagName=="BR"){_d48.destroy(para.lastChild);}}if(!para.childNodes.length){para.innerHTML=this.bogusHtmlContent;}}});});},"dijit/_editor/RichText":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/query","dojo/domReady","dojo/sniff","dojo/topic","dojo/_base/unload","dojo/_base/url","dojo/window","../_Widget","../_CssStateMixin","../selection","./range","./html","../focus","../main"],function(_d6a,_d6b,_d6c,_d6d,dom,_d6e,_d6f,_d70,_d71,_d72,_d73,keys,lang,on,_d74,_d75,has,_d76,_d77,_d78,_d79,_d7a,_d7b,_d7c,_d7d,_d7e,_d7f,_d80){var _d81=_d6c("dijit._editor.RichText",[_d7a,_d7b],{constructor:function(_d82){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this.events=[].concat(this.events);this._keyHandlers={};if(_d82&&lang.isString(_d82.value)){this.value=_d82.value;}this.onLoadDeferred=new _d6d();},baseClass:"dijitEditor",inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:false,disableSpellCheck:false,postCreate:function(){if("textarea"===this.domNode.tagName.toLowerCase()){console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.");}this.contentPreFilters=[lang.trim,lang.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters);if(has("mozilla")){this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters);this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters);}if(has("webkit")){this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters);this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters);}if(has("ie")||has("trident")){this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters);this.contentDomPostFilters=[lang.hitch(this,"_stripBreakerNodes")].concat(this.contentDomPostFilters);}this.contentDomPostFilters=[lang.hitch(this,"_stripTrailingEmptyNodes")].concat(this.contentDomPostFilters);this.inherited(arguments);_d76.publish(_d80._scopeName+"._editor.RichText::init",this);},startup:function(){this.inherited(arguments);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function(){var exec=lang.hitch(this,function(cmd,arg){return function(){return !this.execCommand(cmd,arg);};});var _d83={b:exec("bold"),i:exec("italic"),u:exec("underline"),a:exec("selectall"),s:function(){this.save(true);},m:function(){this.isTabIndent=!this.isTabIndent;},"1":exec("formatblock","h1"),"2":exec("formatblock","h2"),"3":exec("formatblock","h3"),"4":exec("formatblock","h4"),"\\":exec("insertunorderedlist")};if(!has("ie")){_d83.Z=exec("redo");}var key;for(key in _d83){this.addKeyHandler(key,true,false,_d83[key]);}},events:["onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){if(_d81._editorCommandsLocalized){this._local2NativeFormatNames=_d81._local2NativeFormatNames;this._native2LocalFormatNames=_d81._native2LocalFormatNames;return;}_d81._editorCommandsLocalized=true;_d81._local2NativeFormatNames={};_d81._native2LocalFormatNames={};this._local2NativeFormatNames=_d81._local2NativeFormatNames;this._native2LocalFormatNames=_d81._native2LocalFormatNames;var _d84=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];var _d85="",_d86,i=0;while((_d86=_d84[i++])){if(_d86.charAt(1)!=="l"){_d85+="<"+_d86+"><span>content</span></"+_d86+"><br/>";}else{_d85+="<"+_d86+"><li>content</li></"+_d86+"><br/>";}}var _d87={position:"absolute",top:"0px",zIndex:10,opacity:0.01};var div=_d70.create("div",{style:_d87,innerHTML:_d85});this.ownerDocumentBody.appendChild(div);var _d88=lang.hitch(this,function(){var node=div.firstChild;while(node){try{this.selection.selectElement(node.firstChild);var _d89=node.tagName.toLowerCase();this._local2NativeFormatNames[_d89]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_d89]]=_d89;node=node.nextSibling.nextSibling;}catch(e){}}_d70.destroy(div);});this.defer(_d88);},open:function(_d8a){if(!this.onLoadDeferred||this.onLoadDeferred.fired>=0){this.onLoadDeferred=new _d6d();}if(!this.isClosed){this.close();}_d76.publish(_d80._scopeName+"._editor.RichText::open",this);if(arguments.length===1&&_d8a.nodeName){this.domNode=_d8a;}var dn=this.domNode;var html;if(lang.isString(this.value)){html=this.value;dn.innerHTML="";}else{if(dn.nodeName&&dn.nodeName.toLowerCase()=="textarea"){var ta=(this.textarea=dn);this.name=ta.name;html=ta.value;dn=this.domNode=this.ownerDocument.createElement("div");dn.setAttribute("widgetId",this.id);ta.removeAttribute("widgetId");dn.cssText=ta.cssText;dn.className+=" "+ta.className;_d70.place(dn,ta,"before");var _d8b=lang.hitch(this,function(){_d72.set(ta,{display:"block",position:"absolute",top:"-1000px"});if(has("ie")){var s=ta.style;this.__overflow=s.overflow;s.overflow="hidden";}});if(has("ie")){this.defer(_d8b,10);}else{_d8b();}if(ta.form){var _d8c=ta.value;this.reset=function(){var _d8d=this.getValue();if(_d8d!==_d8c){this.replaceValue(_d8c);}};on(ta.form,"submit",lang.hitch(this,function(){_d6e.set(ta,"disabled",this.disabled);ta.value=this.getValue();}));}}else{html=_d7e.getChildrenHtml(dn);dn.innerHTML="";}}this.value=html;if(dn.nodeName&&dn.nodeName==="LI"){dn.innerHTML=" <br>";}this.header=dn.ownerDocument.createElement("div");dn.appendChild(this.header);this.editingArea=dn.ownerDocument.createElement("div");dn.appendChild(this.editingArea);this.footer=dn.ownerDocument.createElement("div");dn.appendChild(this.footer);if(!this.name){this.name=this.id+"_AUTOGEN";}if(this.name!==""&&(!_d6b["useXDomain"]||_d6b["allowXdRichTextSave"])){var _d8e=dom.byId(_d80._scopeName+"._editor.RichText.value");if(_d8e&&_d8e.value!==""){var _d8f=_d8e.value.split(this._SEPARATOR),i=0,dat;while((dat=_d8f[i++])){var data=dat.split(this._NAME_CONTENT_SEP);if(data[0]===this.name){this.value=data[1];_d8f=_d8f.splice(i,1);_d8e.value=_d8f.join(this._SEPARATOR);break;}}}if(!_d81._globalSaveHandler){_d81._globalSaveHandler={};_d77.addOnUnload(function(){var id;for(id in _d81._globalSaveHandler){var f=_d81._globalSaveHandler[id];if(lang.isFunction(f)){f();}}});}_d81._globalSaveHandler[this.id]=lang.hitch(this,"_saveContent");}this.isClosed=false;var ifr=(this.editorObject=this.iframe=this.ownerDocument.createElement("iframe"));ifr.id=this.id+"_iframe";ifr.style.border="none";ifr.style.width="100%";if(this._layoutMode){ifr.style.height="100%";}else{if(has("ie")>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}}ifr.frameBorder=0;ifr._loadFunc=lang.hitch(this,function(w){this.window=w;this.document=w.document;this.selection=new _d7c.SelectionManager(w);if(has("ie")){this._localizeEditorCommands();}this.onLoad(this.get("value"));});var src=this._getIframeDocTxt().replace(/\\/g,"\\\\").replace(/'/g,"\\'"),s;if(has("ie")<11){s="javascript:document.open();try{parent.window;}catch(e){document.domain=\""+document.domain+"\";}"+"document.write('"+src+"');document.close()";}else{s="javascript: '"+src+"'";}if(has("ie")==9){this.editingArea.appendChild(ifr);ifr.src=s;}else{ifr.setAttribute("src",s);this.editingArea.appendChild(ifr);}if(dn.nodeName==="LI"){dn.lastChild.style.marginTop="-1.2em";}_d6f.add(this.domNode,this.baseClass);},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(){var _d90=_d72.getComputedStyle(this.domNode);var html="<div id='dijitEditorBody'></div>";var font=[_d90.fontWeight,_d90.fontSize,_d90.fontFamily].join(" ");var _d91=_d90.lineHeight;if(_d91.indexOf("px")>=0){_d91=parseFloat(_d91)/parseFloat(_d90.fontSize);}else{if(_d91.indexOf("em")>=0){_d91=parseFloat(_d91);}else{_d91="normal";}}var _d92="";var self=this;this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(_d93){_d93=_d93.replace(/^;/ig,"")+";";var s=_d93.split(":")[0];if(s){s=lang.trim(s);s=s.toLowerCase();var i;var sC="";for(i=0;i<s.length;i++){var c=s.charAt(i);switch(c){case "-":i++;c=s.charAt(i).toUpperCase();default:sC+=c;}}_d72.set(self.domNode,sC,"");}_d92+=_d93+";";});var _d94=_d74("label[for=\""+this.id+"\"]");var _d95="";if(_d94.length){_d95=_d94[0].innerHTML;}else{if(this["aria-label"]){_d95=this["aria-label"];}else{if(this["aria-labelledby"]){_d95=dom.byId(this["aria-labelledby"]).innerHTML;}}}this.iframe.setAttribute("title",_d95);return ["<!DOCTYPE html>",this.isLeftToRight()?"<html lang='"+this.lang+"'>\n<head>\n":"<html dir='rtl' lang='"+this.lang+"'>\n<head>\n",_d95?"<title>"+_d95+"</title>":"","<meta http-equiv='Content-Type' content='text/html'>\n","<style>\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n","\t}\n","\tbody,html,#dijitEditorBody { outline: none; }","html { height: 100%; width: 100%; overflow: hidden; }\n",this.height?"\tbody,#dijitEditorBody { height: 100%; width: 100%; overflow: auto; }\n":"\tbody,#dijitEditorBody { min-height: "+this.minHeight+"; width: 100%; overflow-x: auto; overflow-y: hidden; }\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",font,";\n",((this.height||has("opera"))?"":"\t\tposition: fixed;\n"),"\t\tline-height:",_d91,";\n","\t}\n","\tp{ margin: 1em 0; }\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",(has("ie")||has("trident")?"":"\tli{ min-height:1.2em; }\n"),"</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body role='main' ","onload='try{frameElement && frameElement._loadFunc(window,document)}catch(e){document.domain=\""+document.domain+"\";frameElement._loadFunc(window,document)}' ","style='"+_d92+"'>",html,"</body>\n</html>"].join("");},_applyEditingAreaStyleSheets:function(){var _d96=[];if(this.styleSheets){_d96=this.styleSheets.split(";");this.styleSheets="";}_d96=_d96.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var text="",i=0,url,_d97=_d79.get(this.ownerDocument);while((url=_d96[i++])){var _d98=(new _d78(_d97.location,url)).toString();this.editingAreaStyleSheets.push(_d98);text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_d98+"\"/>";}return text;},addStyleSheet:function(uri){var url=uri.toString(),_d99=_d79.get(this.ownerDocument);if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){url=(new _d78(_d99.location,url)).toString();}if(_d6a.indexOf(this.editingAreaStyleSheets,url)>-1){return;}this.editingAreaStyleSheets.push(url);this.onLoadDeferred.then(lang.hitch(this,function(){if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var head=this.document.getElementsByTagName("head")[0];var _d9a=this.document.createElement("link");_d9a.rel="stylesheet";_d9a.type="text/css";_d9a.href=url;head.appendChild(_d9a);}}));},removeStyleSheet:function(uri){var url=uri.toString(),_d9b=_d79.get(this.ownerDocument);if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){url=(new _d78(_d9b.location,url)).toString();}var _d9c=_d6a.indexOf(this.editingAreaStyleSheets,url);if(_d9c===-1){return;}delete this.editingAreaStyleSheets[_d9c];_d74("link[href=\""+url+"\"]",this.window.document).orphan();},disabled:false,_mozSettingProps:{"styleWithCSS":false},_setDisabledAttr:function(_d9d){_d9d=!!_d9d;this._set("disabled",_d9d);if(!this.isLoaded){return;}var _d9e=has("ie")&&(this.isLoaded||!this.focusOnLoad);if(_d9e){this.editNode.unselectable="on";}this.editNode.contentEditable=!_d9d;this.editNode.tabIndex=_d9d?"-1":this.tabIndex;if(_d9e){this.defer(function(){if(this.editNode){this.editNode.unselectable="off";}});}if(has("mozilla")&&!_d9d&&this._mozSettingProps){var ps=this._mozSettingProps;var n;for(n in ps){if(ps.hasOwnProperty(n)){try{this.document.execCommand(n,false,ps[n]);}catch(e2){}}}}this._disabledOK=true;},onLoad:function(html){if(!this.window.__registeredWindow){this.window.__registeredWindow=true;this._iframeRegHandle=_d7f.registerIframe(this.iframe);}this.editNode=this.document.body.firstChild;var _d9f=this;this.beforeIframeNode=_d70.place("<div tabIndex=-1></div>",this.iframe,"before");this.afterIframeNode=_d70.place("<div tabIndex=-1></div>",this.iframe,"after");this.iframe.onfocus=this.document.onfocus=function(){_d9f.editNode.focus();};this.focusNode=this.editNode;var _da0=this.events.concat(this.captureEvents);var ap=this.iframe?this.document:this.editNode;this.own.apply(this,_d6a.map(_da0,function(item){var type=item.toLowerCase().replace(/^on/,"");return on(ap,type,lang.hitch(this,item));},this));this.own(on(ap,"mouseup",lang.hitch(this,"onClick")));if(has("ie")){this.own(on(this.document,"mousedown",lang.hitch(this,"_onIEMouseDown")));this.editNode.style.zoom=1;}if(has("webkit")){this._webkitListener=this.own(on(this.document,"mouseup",lang.hitch(this,"onDisplayChanged")))[0];this.own(on(this.document,"mousedown",lang.hitch(this,function(e){var t=e.target;if(t&&(t===this.document.body||t===this.document)){this.defer("placeCursorAtEnd");}})));}if(has("ie")){try{this.document.execCommand("RespectVisibilityInDesign",true,null);}catch(e){}}this.isLoaded=true;this.set("disabled",this.disabled);var _da1=lang.hitch(this,function(){this.setValue(html);if(this.onLoadDeferred&&!this.onLoadDeferred.isFulfilled()){this.onLoadDeferred.resolve(true);}this.onDisplayChanged();if(this.focusOnLoad){_d75(lang.hitch(this,"defer","focus",this.updateInterval));}this.value=this.getValue(true);});if(this.setValueDeferred){this.setValueDeferred.then(_da1);}else{_da1();}},onKeyDown:function(e){if(e.keyCode===keys.SHIFT||e.keyCode===keys.ALT||e.keyCode===keys.META||e.keyCode===keys.CTRL){return true;}if(e.keyCode===keys.TAB&&this.isTabIndent){e.stopPropagation();e.preventDefault();if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){this.execCommand((e.shiftKey?"outdent":"indent"));}}if(e.keyCode==keys.TAB&&!this.isTabIndent&&!e.ctrlKey&&!e.altKey){if(e.shiftKey){this.beforeIframeNode.focus();}else{this.afterIframeNode.focus();}return true;}if(has("ie")<9&&e.keyCode===keys.BACKSPACE&&this.document.selection.type==="Control"){e.stopPropagation();e.preventDefault();this.execCommand("delete");}if(has("ff")){if(e.keyCode===keys.PAGE_UP||e.keyCode===keys.PAGE_DOWN){if(this.editNode.clientHeight>=this.editNode.scrollHeight){e.preventDefault();}}}var _da2=this._keyHandlers[e.keyCode],args=arguments;if(_da2&&!e.altKey){_d6a.some(_da2,function(h){if(!(h.shift^e.shiftKey)&&!(h.ctrl^(e.ctrlKey||e.metaKey))){if(!h.handler.apply(this,args)){e.preventDefault();}return true;}},this);}this.defer("onKeyPressed",1);return true;},onKeyUp:function(){},setDisabled:function(_da3){_d73.deprecated("dijit.Editor::setDisabled is deprecated","use dijit.Editor::attr(\"disabled\",boolean) instead",2);this.set("disabled",_da3);},_setValueAttr:function(_da4){this.setValue(_da4);},_setDisableSpellCheckAttr:function(_da5){if(this.document){_d6e.set(this.document.body,"spellcheck",!_da5);}else{this.onLoadDeferred.then(lang.hitch(this,function(){_d6e.set(this.document.body,"spellcheck",!_da5);}));}this._set("disableSpellCheck",_da5);},addKeyHandler:function(key,ctrl,_da6,_da7){if(typeof key=="string"){key=key.toUpperCase().charCodeAt(0);}if(!lang.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({shift:_da6||false,ctrl:ctrl||false,handler:_da7});},onKeyPressed:function(){this.onDisplayChanged();},onClick:function(e){this.onDisplayChanged(e);},_onIEMouseDown:function(){if(!this.focused&&!this.disabled){this.focus();}},_onBlur:function(e){if(has("ie")||has("trident")){this.defer(function(){if(!_d7f.curNode){this.ownerDocumentBody.focus();}});}this.inherited(arguments);var _da8=this.getValue(true);if(_da8!==this.value){this.onChange(_da8);}this._set("value",_da8);},_onFocus:function(e){if(!this.disabled){if(!this._disabledOK){this.set("disabled",false);}this.inherited(arguments);}},blur:function(){if(!has("ie")&&this.window.document.documentElement&&this.window.document.documentElement.focus){this.window.document.documentElement.focus();}else{if(this.ownerDocumentBody.focus){this.ownerDocumentBody.focus();}}},focus:function(){if(!this.isLoaded){this.focusOnLoad=true;return;}if(has("ie")<9){this.iframe.fireEvent("onfocus",document.createEventObject());}else{this.editNode.focus();}},updateInterval:200,_updateTimer:null,onDisplayChanged:function(){if(this._updateTimer){this._updateTimer.remove();}this._updateTimer=this.defer("onNormalizedDisplayChanged",this.updateInterval);},onNormalizedDisplayChanged:function(){delete this._updateTimer;},onChange:function(){},_normalizeCommand:function(cmd,_da9){var _daa=cmd.toLowerCase();if(_daa==="formatblock"){if(has("safari")&&_da9===undefined){_daa="heading";}}else{if(_daa==="hilitecolor"&&!has("mozilla")){_daa="backcolor";}}return _daa;},_qcaCache:{},queryCommandAvailable:function(_dab){var ca=this._qcaCache[_dab];if(ca!==undefined){return ca;}return (this._qcaCache[_dab]=this._queryCommandAvailable(_dab));},_queryCommandAvailable:function(_dac){var ie=1;var _dad=1<<1;var _dae=1<<2;var _daf=1<<3;function _db0(_db1){return {ie:Boolean(_db1&ie),mozilla:Boolean(_db1&_dad),webkit:Boolean(_db1&_dae),opera:Boolean(_db1&_daf)};};var _db2=null;switch(_dac.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":case "toggledir":_db2=_db0(_dad|ie|_dae|_daf);break;case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":case "tabindent":_db2=_db0(_dad|ie|_daf|_dae);break;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":_db2=_db0(ie);break;case "cut":case "copy":case "paste":_db2=_db0(ie|_dad|_dae|_daf);break;case "inserttable":_db2=_db0(_dad|ie);break;case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":_db2=_db0(ie|_dad);break;default:return false;}return ((has("ie")||has("trident"))&&_db2.ie)||(has("mozilla")&&_db2.mozilla)||(has("webkit")&&_db2.webkit)||(has("opera")&&_db2.opera);},execCommand:function(_db3,_db4){var _db5;if(this.focused){this.focus();}_db3=this._normalizeCommand(_db3,_db4);if(_db4!==undefined){if(_db3==="heading"){throw new Error("unimplemented");}else{if(_db3==="formatblock"&&(has("ie")||has("trident"))){_db4="<"+_db4+">";}}}var _db6="_"+_db3+"Impl";if(this[_db6]){_db5=this[_db6](_db4);}else{_db4=arguments.length>1?_db4:null;if(_db4||_db3!=="createlink"){_db5=this.document.execCommand(_db3,false,_db4);}}this.onDisplayChanged();return _db5;},queryCommandEnabled:function(_db7){if(this.disabled||!this._disabledOK){return false;}_db7=this._normalizeCommand(_db7);var _db8="_"+_db7+"EnabledImpl";if(this[_db8]){return this[_db8](_db7);}else{return this._browserQueryCommandEnabled(_db7);}},queryCommandState:function(_db9){if(this.disabled||!this._disabledOK){return false;}_db9=this._normalizeCommand(_db9);try{return this.document.queryCommandState(_db9);}catch(e){return false;}},queryCommandValue:function(_dba){if(this.disabled||!this._disabledOK){return false;}var r;_dba=this._normalizeCommand(_dba);if((has("ie")||has("trident"))&&_dba==="formatblock"){r=this._native2LocalFormatNames[this.document.queryCommandValue(_dba)];}else{if(has("mozilla")&&_dba==="hilitecolor"){var _dbb;try{_dbb=this.document.queryCommandValue("styleWithCSS");}catch(e){_dbb=false;}this.document.execCommand("styleWithCSS",false,true);r=this.document.queryCommandValue(_dba);this.document.execCommand("styleWithCSS",false,_dbb);}else{r=this.document.queryCommandValue(_dba);}}return r;},_sCall:function(name,args){return this.selection[name].apply(this.selection,args);},placeCursorAtStart:function(){this.focus();var _dbc=false;if(has("mozilla")){var _dbd=this.editNode.firstChild;while(_dbd){if(_dbd.nodeType===3){if(_dbd.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_dbc=true;this.selection.selectElement(_dbd);break;}}else{if(_dbd.nodeType===1){_dbc=true;var tg=_dbd.tagName?_dbd.tagName.toLowerCase():"";if(/br|input|img|base|meta|area|basefont|hr|link/.test(tg)){this.selection.selectElement(_dbd);}else{this.selection.selectElementChildren(_dbd);}break;}}_dbd=_dbd.nextSibling;}}else{_dbc=true;this.selection.selectElementChildren(this.editNode);}if(_dbc){this.selection.collapse(true);}},placeCursorAtEnd:function(){this.focus();var _dbe=false;if(has("mozilla")){var last=this.editNode.lastChild;while(last){if(last.nodeType===3){if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_dbe=true;this.selection.selectElement(last);break;}}else{if(last.nodeType===1){_dbe=true;this.selection.selectElement(last.lastChild||last);break;}}last=last.previousSibling;}}else{_dbe=true;this.selection.selectElementChildren(this.editNode);}if(_dbe){this.selection.collapse(false);}},getValue:function(_dbf){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this.isLoaded?this._postFilterContent(null,_dbf):this.value;},_getValueAttr:function(){return this.getValue(true);},setValue:function(html){if(!this.isLoaded){this.onLoadDeferred.then(lang.hitch(this,function(){this.setValue(html);}));return;}if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=html;}else{html=this._preFilterContent(html);var node=this.isClosed?this.domNode:this.editNode;node.innerHTML=html;this._preDomFilterContent(node);}this.onDisplayChanged();this._set("value",this.getValue(true));},replaceValue:function(html){if(this.isClosed){this.setValue(html);}else{if(this.window&&this.window.getSelection&&!has("mozilla")){this.setValue(html);}else{if(this.window&&this.window.getSelection){html=this._preFilterContent(html);this.execCommand("selectall");this.execCommand("inserthtml",html);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(html);}}}}this._set("value",this.getValue(true));},_preFilterContent:function(html){var ec=html;_d6a.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function(dom){dom=dom||this.editNode;_d6a.forEach(this.contentDomPreFilters,function(ef){if(ef&&lang.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function(dom,_dc0){var ec;if(!lang.isString(dom)){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_dc0){dom=lang.clone(dom);}_d6a.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}ec=_d7e.getChildrenHtml(dom);}else{ec=dom;}if(!lang.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){ec="";}_d6a.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_saveContent:function(){var _dc1=dom.byId(_d80._scopeName+"._editor.RichText.value");if(_dc1){if(_dc1.value){_dc1.value+=this._SEPARATOR;}_dc1.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(true);}},escapeXml:function(str,_dc2){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_dc2){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function(node){_d73.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit/_editor/html::getNodeHtml instead",2);return _d7e.getNodeHtml(node);},getNodeChildrenHtml:function(dom){_d73.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit/_editor/html::getChildrenHtml instead",2);return _d7e.getChildrenHtml(dom);},close:function(save){if(this.isClosed){return;}if(!arguments.length){save=true;}if(save){this._set("value",this.getValue(true));}if(this.interval){clearInterval(this.interval);}if(this._webkitListener){this._webkitListener.remove();delete this._webkitListener;}if(has("ie")){this.iframe.onfocus=null;}this.iframe._loadFunc=null;if(this._iframeRegHandle){this._iframeRegHandle.remove();delete this._iframeRegHandle;}if(this.textarea){var s=this.textarea.style;s.position="";s.left=s.top="";if(has("ie")){s.overflow=this.__overflow;this.__overflow=null;}this.textarea.value=this.value;_d70.destroy(this.domNode);this.domNode=this.textarea;}else{this.domNode.innerHTML=this.value;}delete this.iframe;_d6f.remove(this.domNode,this.baseClass);this.isClosed=true;this.isLoaded=false;delete this.editNode;delete this.focusNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;},destroy:function(){if(!this.isClosed){this.close(false);}if(this._updateTimer){this._updateTimer.remove();}this.inherited(arguments);if(_d81._globalSaveHandler){delete _d81._globalSaveHandler[this.id];}},_removeMozBogus:function(html){return html.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"");},_removeWebkitBogus:function(html){html=html.replace(/\sclass="webkit-block-placeholder"/gi,"");html=html.replace(/\sclass="apple-style-span"/gi,"");html=html.replace(/<meta charset=\"utf-8\" \/>/gi,"");return html;},_normalizeFontStyle:function(html){return html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");},_preFixUrlAttributes:function(html){return html.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");},_browserQueryCommandEnabled:function(_dc3){if(!_dc3){return false;}var elem=has("ie")<9?this.document.selection.createRange():this.document;try{return elem.queryCommandEnabled(_dc3);}catch(e){return false;}},_createlinkEnabledImpl:function(){var _dc4=true;if(has("opera")){var sel=this.window.getSelection();if(sel.isCollapsed){_dc4=true;}else{_dc4=this.document.queryCommandEnabled("createlink");}}else{_dc4=this._browserQueryCommandEnabled("createlink");}return _dc4;},_unlinkEnabledImpl:function(){var _dc5=true;if(has("mozilla")||has("webkit")){_dc5=this.selection.hasAncestorElement("a");}else{_dc5=this._browserQueryCommandEnabled("unlink");}return _dc5;},_inserttableEnabledImpl:function(){var _dc6=true;if(has("mozilla")||has("webkit")){_dc6=true;}else{_dc6=this._browserQueryCommandEnabled("inserttable");}return _dc6;},_cutEnabledImpl:function(){var _dc7=true;if(has("webkit")){var sel=this.window.getSelection();if(sel){sel=sel.toString();}_dc7=!!sel;}else{_dc7=this._browserQueryCommandEnabled("cut");}return _dc7;},_copyEnabledImpl:function(){var _dc8=true;if(has("webkit")){var sel=this.window.getSelection();if(sel){sel=sel.toString();}_dc8=!!sel;}else{_dc8=this._browserQueryCommandEnabled("copy");}return _dc8;},_pasteEnabledImpl:function(){var _dc9=true;if(has("webkit")){return true;}else{_dc9=this._browserQueryCommandEnabled("paste");}return _dc9;},_inserthorizontalruleImpl:function(_dca){if(has("ie")){return this._inserthtmlImpl("<hr>");}return this.document.execCommand("inserthorizontalrule",false,_dca);},_unlinkImpl:function(_dcb){if((this.queryCommandEnabled("unlink"))&&(has("mozilla")||has("webkit"))){var a=this.selection.getAncestorElement("a");this.selection.selectElement(a);return this.document.execCommand("unlink",false,null);}return this.document.execCommand("unlink",false,_dcb);},_hilitecolorImpl:function(_dcc){var _dcd;var _dce=this._handleTextColorOrProperties("hilitecolor",_dcc);if(!_dce){if(has("mozilla")){this.document.execCommand("styleWithCSS",false,true);_dcd=this.document.execCommand("hilitecolor",false,_dcc);this.document.execCommand("styleWithCSS",false,false);}else{_dcd=this.document.execCommand("hilitecolor",false,_dcc);}}return _dcd;},_backcolorImpl:function(_dcf){if(has("ie")){_dcf=_dcf?_dcf:null;}var _dd0=this._handleTextColorOrProperties("backcolor",_dcf);if(!_dd0){_dd0=this.document.execCommand("backcolor",false,_dcf);}return _dd0;},_forecolorImpl:function(_dd1){if(has("ie")){_dd1=_dd1?_dd1:null;}var _dd2=false;_dd2=this._handleTextColorOrProperties("forecolor",_dd1);if(!_dd2){_dd2=this.document.execCommand("forecolor",false,_dd1);}return _dd2;},_inserthtmlImpl:function(_dd3){_dd3=this._preFilterContent(_dd3);var rv=true;if(has("ie")<9){var _dd4=this.document.selection.createRange();if(this.document.selection.type.toUpperCase()==="CONTROL"){var n=_dd4.item(0);while(_dd4.length){_dd4.remove(_dd4.item(0));}n.outerHTML=_dd3;}else{_dd4.pasteHTML(_dd3);}_dd4.select();}else{if(has("trident")<8){var _dd4;var _dd5=_d7d.getSelection(this.window);if(_dd5&&_dd5.rangeCount&&_dd5.getRangeAt){_dd4=_dd5.getRangeAt(0);_dd4.deleteContents();var div=_d70.create("div");div.innerHTML=_dd3;var node,_dd6;var n=this.document.createDocumentFragment();while((node=div.firstChild)){_dd6=n.appendChild(node);}_dd4.insertNode(n);if(_dd6){_dd4=_dd4.cloneRange();_dd4.setStartAfter(_dd6);_dd4.collapse(false);_dd5.removeAllRanges();_dd5.addRange(_dd4);}}}else{if(has("mozilla")&&!_dd3.length){this.selection.remove();}else{rv=this.document.execCommand("inserthtml",false,_dd3);}}}return rv;},_boldImpl:function(_dd7){var _dd8=false;if(has("ie")||has("trident")){this._adaptIESelection();_dd8=this._adaptIEFormatAreaAndExec("bold");}if(!_dd8){_dd8=this.document.execCommand("bold",false,_dd7);}return _dd8;},_italicImpl:function(_dd9){var _dda=false;if(has("ie")||has("trident")){this._adaptIESelection();_dda=this._adaptIEFormatAreaAndExec("italic");}if(!_dda){_dda=this.document.execCommand("italic",false,_dd9);}return _dda;},_underlineImpl:function(_ddb){var _ddc=false;if(has("ie")||has("trident")){this._adaptIESelection();_ddc=this._adaptIEFormatAreaAndExec("underline");}if(!_ddc){_ddc=this.document.execCommand("underline",false,_ddb);}return _ddc;},_strikethroughImpl:function(_ddd){var _dde=false;if(has("ie")||has("trident")){this._adaptIESelection();_dde=this._adaptIEFormatAreaAndExec("strikethrough");}if(!_dde){_dde=this.document.execCommand("strikethrough",false,_ddd);}return _dde;},_superscriptImpl:function(_ddf){var _de0=false;if(has("ie")||has("trident")){this._adaptIESelection();_de0=this._adaptIEFormatAreaAndExec("superscript");}if(!_de0){_de0=this.document.execCommand("superscript",false,_ddf);}return _de0;},_subscriptImpl:function(_de1){var _de2=false;if(has("ie")||has("trident")){this._adaptIESelection();_de2=this._adaptIEFormatAreaAndExec("subscript");}if(!_de2){_de2=this.document.execCommand("subscript",false,_de1);}return _de2;},_fontnameImpl:function(_de3){var _de4;if(has("ie")||has("trident")){_de4=this._handleTextColorOrProperties("fontname",_de3);}if(!_de4){_de4=this.document.execCommand("fontname",false,_de3);}return _de4;},_fontsizeImpl:function(_de5){var _de6;if(has("ie")||has("trident")){_de6=this._handleTextColorOrProperties("fontsize",_de5);}if(!_de6){_de6=this.document.execCommand("fontsize",false,_de5);}return _de6;},_insertorderedlistImpl:function(_de7){var _de8=false;if(has("ie")||has("trident")){_de8=this._adaptIEList("insertorderedlist",_de7);}if(!_de8){_de8=this.document.execCommand("insertorderedlist",false,_de7);}return _de8;},_insertunorderedlistImpl:function(_de9){var _dea=false;if(has("ie")||has("trident")){_dea=this._adaptIEList("insertunorderedlist",_de9);}if(!_dea){_dea=this.document.execCommand("insertunorderedlist",false,_de9);}return _dea;},getHeaderHeight:function(){return this._getNodeChildrenHeight(this.header);},getFooterHeight:function(){return this._getNodeChildrenHeight(this.footer);},_getNodeChildrenHeight:function(node){var h=0;if(node&&node.childNodes){var i;for(i=0;i<node.childNodes.length;i++){var size=_d71.position(node.childNodes[i]);h+=size.h;}}return h;},_isNodeEmpty:function(node,_deb){if(node.nodeType===1){if(node.childNodes.length>0){return this._isNodeEmpty(node.childNodes[0],_deb);}return true;}else{if(node.nodeType===3){return (node.nodeValue.substring(_deb)==="");}}return false;},_removeStartingRangeFromRange:function(node,_dec){if(node.nextSibling){_dec.setStart(node.nextSibling,0);}else{var _ded=node.parentNode;while(_ded&&_ded.nextSibling==null){_ded=_ded.parentNode;}if(_ded){_dec.setStart(_ded.nextSibling,0);}}return _dec;},_adaptIESelection:function(){var _dee=_d7d.getSelection(this.window);if(_dee&&_dee.rangeCount&&!_dee.isCollapsed){var _def=_dee.getRangeAt(0);var _df0=_def.startContainer;var _df1=_def.startOffset;while(_df0.nodeType===3&&_df1>=_df0.length&&_df0.nextSibling){_df1=_df1-_df0.length;_df0=_df0.nextSibling;}var _df2=null;while(this._isNodeEmpty(_df0,_df1)&&_df0!==_df2){_df2=_df0;_def=this._removeStartingRangeFromRange(_df0,_def);_df0=_def.startContainer;_df1=0;}_dee.removeAllRanges();_dee.addRange(_def);}},_adaptIEFormatAreaAndExec:function(_df3){var _df4=_d7d.getSelection(this.window);var doc=this.document;var rs,ret,_df5,txt,_df6,_df7,_df8,_df9;if(_df3&&_df4&&_df4.isCollapsed){var _dfa=this.queryCommandValue(_df3);if(_dfa){var _dfb=this._tagNamesForCommand(_df3);_df5=_df4.getRangeAt(0);var fs=_df5.startContainer;if(fs.nodeType===3){var _dfc=_df5.endOffset;if(fs.length<_dfc){ret=this._adjustNodeAndOffset(rs,_dfc);fs=ret.node;_dfc=ret.offset;}}var _dfd;while(fs&&fs!==this.editNode){var _dfe=fs.tagName?fs.tagName.toLowerCase():"";if(_d6a.indexOf(_dfb,_dfe)>-1){_dfd=fs;break;}fs=fs.parentNode;}if(_dfd){rs=_df5.startContainer;var _dff=doc.createElement(_dfd.tagName);_d70.place(_dff,_dfd,"after");if(rs&&rs.nodeType===3){var _e00,_e01;var _e02=_df5.endOffset;if(rs.length<_e02){ret=this._adjustNodeAndOffset(rs,_e02);rs=ret.node;_e02=ret.offset;}txt=rs.nodeValue;_df6=doc.createTextNode(txt.substring(0,_e02));var _e03=txt.substring(_e02,txt.length);if(_e03){_df7=doc.createTextNode(_e03);}_d70.place(_df6,rs,"before");if(_df7){_df8=doc.createElement("span");_df8.className="ieFormatBreakerSpan";_d70.place(_df8,rs,"after");_d70.place(_df7,_df8,"after");_df7=_df8;}_d70.destroy(rs);var _e04=_df6.parentNode;var _e05=[];var _e06;while(_e04!==_dfd){var tg=_e04.tagName;_e06={tagName:tg};_e05.push(_e06);var _e07=doc.createElement(tg);if(_e04.style){if(_e07.style){if(_e04.style.cssText){_e07.style.cssText=_e04.style.cssText;_e06.cssText=_e04.style.cssText;}}}if(_e04.tagName==="FONT"){if(_e04.color){_e07.color=_e04.color;_e06.color=_e04.color;}if(_e04.face){_e07.face=_e04.face;_e06.face=_e04.face;}if(_e04.size){_e07.size=_e04.size;_e06.size=_e04.size;}}if(_e04.className){_e07.className=_e04.className;_e06.className=_e04.className;}if(_df7){_e00=_df7;while(_e00){_e01=_e00.nextSibling;_e07.appendChild(_e00);_e00=_e01;}}if(_e07.tagName==_e04.tagName){_df8=doc.createElement("span");_df8.className="ieFormatBreakerSpan";_d70.place(_df8,_e04,"after");_d70.place(_e07,_df8,"after");}else{_d70.place(_e07,_e04,"after");}_df6=_e04;_df7=_e07;_e04=_e04.parentNode;}if(_df7){_e00=_df7;if(_e00.nodeType===1||(_e00.nodeType===3&&_e00.nodeValue)){_dff.innerHTML="";}while(_e00){_e01=_e00.nextSibling;_dff.appendChild(_e00);_e00=_e01;}}var _e08;if(_e05.length){_e06=_e05.pop();var _e09=doc.createElement(_e06.tagName);if(_e06.cssText&&_e09.style){_e09.style.cssText=_e06.cssText;}if(_e06.className){_e09.className=_e06.className;}if(_e06.tagName==="FONT"){if(_e06.color){_e09.color=_e06.color;}if(_e06.face){_e09.face=_e06.face;}if(_e06.size){_e09.size=_e06.size;}}_d70.place(_e09,_dff,"before");while(_e05.length){_e06=_e05.pop();var _e0a=doc.createElement(_e06.tagName);if(_e06.cssText&&_e0a.style){_e0a.style.cssText=_e06.cssText;}if(_e06.className){_e0a.className=_e06.className;}if(_e06.tagName==="FONT"){if(_e06.color){_e0a.color=_e06.color;}if(_e06.face){_e0a.face=_e06.face;}if(_e06.size){_e0a.size=_e06.size;}}_e09.appendChild(_e0a);_e09=_e0a;}_df9=doc.createTextNode(".");_df8.appendChild(_df9);_e09.appendChild(_df9);_e08=_d7d.create(this.window);_e08.setStart(_df9,0);_e08.setEnd(_df9,_df9.length);_df4.removeAllRanges();_df4.addRange(_e08);this.selection.collapse(false);_df9.parentNode.innerHTML="";}else{_df8=doc.createElement("span");_df8.className="ieFormatBreakerSpan";_df9=doc.createTextNode(".");_df8.appendChild(_df9);_d70.place(_df8,_dff,"before");_e08=_d7d.create(this.window);_e08.setStart(_df9,0);_e08.setEnd(_df9,_df9.length);_df4.removeAllRanges();_df4.addRange(_e08);this.selection.collapse(false);_df9.parentNode.innerHTML="";}if(!_dff.firstChild){_d70.destroy(_dff);}return true;}}return false;}else{_df5=_df4.getRangeAt(0);rs=_df5.startContainer;if(rs&&rs.nodeType===3){var _dfc=_df5.startOffset;if(rs.length<_dfc){ret=this._adjustNodeAndOffset(rs,_dfc);rs=ret.node;_dfc=ret.offset;}txt=rs.nodeValue;_df6=doc.createTextNode(txt.substring(0,_dfc));var _e03=txt.substring(_dfc);if(_e03!==""){_df7=doc.createTextNode(txt.substring(_dfc));}_df8=doc.createElement("span");_df9=doc.createTextNode(".");_df8.appendChild(_df9);if(_df6.length){_d70.place(_df6,rs,"after");}else{_df6=rs;}_d70.place(_df8,_df6,"after");if(_df7){_d70.place(_df7,_df8,"after");}_d70.destroy(rs);var _e08=_d7d.create(this.window);_e08.setStart(_df9,0);_e08.setEnd(_df9,_df9.length);_df4.removeAllRanges();_df4.addRange(_e08);doc.execCommand(_df3);_d70.place(_df8.firstChild,_df8,"before");_d70.destroy(_df8);_e08.setStart(_df9,0);_e08.setEnd(_df9,_df9.length);_df4.removeAllRanges();_df4.addRange(_e08);this.selection.collapse(false);_df9.parentNode.innerHTML="";return true;}}}else{return false;}},_adaptIEList:function(_e0b){var _e0c=_d7d.getSelection(this.window);if(_e0c.isCollapsed){if(_e0c.rangeCount&&!this.queryCommandValue(_e0b)){var _e0d=_e0c.getRangeAt(0);var sc=_e0d.startContainer;if(sc&&sc.nodeType==3){if(!_e0d.startOffset){var _e0e="ul";if(_e0b==="insertorderedlist"){_e0e="ol";}var list=this.document.createElement(_e0e);var li=_d70.create("li",null,list);_d70.place(list,sc,"before");li.appendChild(sc);_d70.create("br",null,list,"after");var _e0f=_d7d.create(this.window);_e0f.setStart(sc,0);_e0f.setEnd(sc,sc.length);_e0c.removeAllRanges();_e0c.addRange(_e0f);this.selection.collapse(true);return true;}}}}return false;},_handleTextColorOrProperties:function(_e10,_e11){var _e12=_d7d.getSelection(this.window);var doc=this.document;var rs,ret,_e13,txt,_e14,_e15,_e16,_e17;_e11=_e11||null;if(_e10&&_e12&&_e12.isCollapsed){if(_e12.rangeCount){_e13=_e12.getRangeAt(0);rs=_e13.startContainer;if(rs&&rs.nodeType===3){var _e18=_e13.startOffset;if(rs.length<_e18){ret=this._adjustNodeAndOffset(rs,_e18);rs=ret.node;_e18=ret.offset;}txt=rs.nodeValue;_e14=doc.createTextNode(txt.substring(0,_e18));var _e19=txt.substring(_e18);if(_e19!==""){_e15=doc.createTextNode(txt.substring(_e18));}_e16=doc.createElement("span");_e17=doc.createTextNode(".");_e16.appendChild(_e17);var _e1a=doc.createElement("span");_e16.appendChild(_e1a);if(_e14.length){_d70.place(_e14,rs,"after");}else{_e14=rs;}_d70.place(_e16,_e14,"after");if(_e15){_d70.place(_e15,_e16,"after");}_d70.destroy(rs);var _e1b=_d7d.create(this.window);_e1b.setStart(_e17,0);_e1b.setEnd(_e17,_e17.length);_e12.removeAllRanges();_e12.addRange(_e1b);if(has("webkit")){var _e1c="color";if(_e10==="hilitecolor"||_e10==="backcolor"){_e1c="backgroundColor";}_d72.set(_e16,_e1c,_e11);this.selection.remove();_d70.destroy(_e1a);_e16.innerHTML="&#160;";this.selection.selectElement(_e16);this.focus();}else{this.execCommand(_e10,_e11);_d70.place(_e16.firstChild,_e16,"before");_d70.destroy(_e16);_e1b.setStart(_e17,0);_e1b.setEnd(_e17,_e17.length);_e12.removeAllRanges();_e12.addRange(_e1b);this.selection.collapse(false);_e17.parentNode.removeChild(_e17);}return true;}}}return false;},_adjustNodeAndOffset:function(node,_e1d){while(node.length<_e1d&&node.nextSibling&&node.nextSibling.nodeType===3){_e1d=_e1d-node.length;node=node.nextSibling;}return {"node":node,"offset":_e1d};},_tagNamesForCommand:function(_e1e){if(_e1e==="bold"){return ["b","strong"];}else{if(_e1e==="italic"){return ["i","em"];}else{if(_e1e==="strikethrough"){return ["s","strike"];}else{if(_e1e==="superscript"){return ["sup"];}else{if(_e1e==="subscript"){return ["sub"];}else{if(_e1e==="underline"){return ["u"];}}}}}}return [];},_stripBreakerNodes:function(node){if(!this.isLoaded){return;}_d74(".ieFormatBreakerSpan",node).forEach(function(b){while(b.firstChild){_d70.place(b.firstChild,b,"before");}_d70.destroy(b);});return node;},_stripTrailingEmptyNodes:function(node){function _e1f(node){return (/^(p|div|br)$/i.test(node.nodeName)&&node.children.length==0&&/^[\s\xA0]*$/.test(node.textContent||node.innerText||""))||(node.nodeType===3&&/^[\s\xA0]*$/.test(node.nodeValue));};while(node.lastChild&&_e1f(node.lastChild)){_d70.destroy(node.lastChild);}return node;},_setTextDirAttr:function(_e20){this._set("textDir",_e20);this.onLoadDeferred.then(lang.hitch(this,function(){this.editNode.dir=_e20;}));}});return _d81;});},"dijit/_editor/range":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_e21,_e22,lang){var _e23={getIndex:function(node,_e24){var ret=[],retR=[];var _e25=node;var _e26,n;while(node!=_e24){var i=0;_e26=node.parentNode;while((n=_e26.childNodes[i++])){if(n===node){--i;break;}}ret.unshift(i);retR.unshift(i-_e26.childNodes.length);node=_e26;}if(ret.length>0&&_e25.nodeType==3){n=_e25.previousSibling;while(n&&n.nodeType==3){ret[ret.length-1]--;n=n.previousSibling;}n=_e25.nextSibling;while(n&&n.nodeType==3){retR[retR.length-1]++;n=n.nextSibling;}}return {o:ret,r:retR};},getNode:function(_e27,_e28){if(!lang.isArray(_e27)||_e27.length==0){return _e28;}var node=_e28;_e21.every(_e27,function(i){if(i>=0&&i<node.childNodes.length){node=node.childNodes[i];}else{node=null;return false;}return true;});return node;},getCommonAncestor:function(n1,n2,root){root=root||n1.ownerDocument.body;var _e29=function(n){var as=[];while(n){as.unshift(n);if(n!==root){n=n.parentNode;}else{break;}}return as;};var n1as=_e29(n1);var n2as=_e29(n2);var m=Math.min(n1as.length,n2as.length);var com=n1as[0];for(var i=1;i<m;i++){if(n1as[i]===n2as[i]){com=n1as[i];}else{break;}}return com;},getAncestor:function(node,_e2a,root){root=root||node.ownerDocument.body;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(_e2a.test(name)){return node;}node=node.parentNode;}return null;},BlockTagNames:/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/,getBlockAncestor:function(node,_e2b,root){root=root||node.ownerDocument.body;_e2b=_e2b||_e23.BlockTagNames;var _e2c=null,_e2d;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(!_e2c&&_e2b.test(name)){_e2c=node;}if(!_e2d&&(/^(?:BODY|TD|TH|CAPTION)$/).test(name)){_e2d=node;}node=node.parentNode;}return {blockNode:_e2c,blockContainer:_e2d||node.ownerDocument.body};},atBeginningOfContainer:function(_e2e,node,_e2f){var _e30=false;var _e31=(_e2f==0);if(!_e31&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(0,_e2f))){_e31=true;}}if(_e31){var _e32=node;_e30=true;while(_e32&&_e32!==_e2e){if(_e32.previousSibling){_e30=false;break;}_e32=_e32.parentNode;}}return _e30;},atEndOfContainer:function(_e33,node,_e34){var _e35=false;var _e36=(_e34==(node.length||node.childNodes.length));if(!_e36&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(_e34))){_e36=true;}}if(_e36){var _e37=node;_e35=true;while(_e37&&_e37!==_e33){if(_e37.nextSibling){_e35=false;break;}_e37=_e37.parentNode;}}return _e35;},adjacentNoneTextNode:function(_e38,next){var node=_e38;var len=(0-_e38.length)||0;var prop=next?"nextSibling":"previousSibling";while(node){if(node.nodeType!=3){break;}len+=node.length;node=node[prop];}return [node,len];},create:function(win){win=win||window;if(win.getSelection){return win.document.createRange();}else{return new _e39();}},getSelection:function(_e3a,_e3b){if(_e3a.getSelection){return _e3a.getSelection();}else{var s=new ie.selection(_e3a);if(!_e3b){s._getCurrentSelection();}return s;}}};if(!window.getSelection){var ie=_e23.ie={cachedSelection:{},selection:function(_e3c){this._ranges=[];this.addRange=function(r,_e3d){this._ranges.push(r);if(!_e3d){r._select();}this.rangeCount=this._ranges.length;};this.removeAllRanges=function(){this._ranges=[];this.rangeCount=0;};var _e3e=function(){var r=_e3c.document.selection.createRange();var type=_e3c.document.selection.type.toUpperCase();if(type=="CONTROL"){return new _e39(ie.decomposeControlRange(r));}else{return new _e39(ie.decomposeTextRange(r));}};this.getRangeAt=function(i){return this._ranges[i];};this._getCurrentSelection=function(){this.removeAllRanges();var r=_e3e();if(r){this.addRange(r,true);this.isCollapsed=r.collapsed;}else{this.isCollapsed=true;}};},decomposeControlRange:function(_e3f){var _e40=_e3f.item(0),_e41=_e3f.item(_e3f.length-1);var _e42=_e40.parentNode,_e43=_e41.parentNode;var _e44=_e23.getIndex(_e40,_e42).o[0];var _e45=_e23.getIndex(_e41,_e43).o[0]+1;return [_e42,_e44,_e43,_e45];},getEndPoint:function(_e46,end){var _e47=_e46.duplicate();_e47.collapse(!end);var _e48="EndTo"+(end?"End":"Start");var _e49=_e47.parentElement();var _e4a,_e4b,_e4c;if(_e49.childNodes.length>0){_e21.every(_e49.childNodes,function(node,i){var _e4d;if(node.nodeType!=3){_e47.moveToElementText(node);if(_e47.compareEndPoints(_e48,_e46)>0){if(_e4c&&_e4c.nodeType==3){_e4a=_e4c;_e4d=true;}else{_e4a=_e49;_e4b=i;return false;}}else{if(i==_e49.childNodes.length-1){_e4a=_e49;_e4b=_e49.childNodes.length;return false;}}}else{if(i==_e49.childNodes.length-1){_e4a=node;_e4d=true;}}if(_e4d&&_e4a){var _e4e=_e23.adjacentNoneTextNode(_e4a)[0];if(_e4e){_e4a=_e4e.nextSibling;}else{_e4a=_e49.firstChild;}var _e4f=_e23.adjacentNoneTextNode(_e4a);_e4e=_e4f[0];var _e50=_e4f[1];if(_e4e){_e47.moveToElementText(_e4e);_e47.collapse(false);}else{_e47.moveToElementText(_e49);}_e47.setEndPoint(_e48,_e46);_e4b=_e47.text.length-_e50;return false;}_e4c=node;return true;});}else{_e4a=_e49;_e4b=0;}if(!end&&_e4a.nodeType==1&&_e4b==_e4a.childNodes.length){var _e51=_e4a.nextSibling;if(_e51&&_e51.nodeType==3){_e4a=_e51;_e4b=0;}}return [_e4a,_e4b];},setEndPoint:function(_e52,_e53,_e54){var _e55=_e52.duplicate(),node,len;if(_e53.nodeType!=3){if(_e54>0){node=_e53.childNodes[_e54-1];if(node){if(node.nodeType==3){_e53=node;_e54=node.length;}else{if(node.nextSibling&&node.nextSibling.nodeType==3){_e53=node.nextSibling;_e54=0;}else{_e55.moveToElementText(node.nextSibling?node:_e53);var _e56=node.parentNode;var _e57=_e56.insertBefore(node.ownerDocument.createTextNode(" "),node.nextSibling);_e55.collapse(false);_e56.removeChild(_e57);}}}}else{_e55.moveToElementText(_e53);_e55.collapse(true);}}if(_e53.nodeType==3){var _e58=_e23.adjacentNoneTextNode(_e53);var _e59=_e58[0];len=_e58[1];if(_e59){_e55.moveToElementText(_e59);_e55.collapse(false);if(_e59.contentEditable!="inherit"){len++;}}else{_e55.moveToElementText(_e53.parentNode);_e55.collapse(true);_e55.move("character",1);_e55.move("character",-1);}_e54+=len;if(_e54>0){if(_e55.move("character",_e54)!=_e54){console.error("Error when moving!");}}}return _e55;},decomposeTextRange:function(_e5a){var _e5b=ie.getEndPoint(_e5a);var _e5c=_e5b[0],_e5d=_e5b[1];var _e5e=_e5b[0],_e5f=_e5b[1];if(_e5a.htmlText.length){if(_e5a.htmlText==_e5a.text){_e5f=_e5d+_e5a.text.length;}else{_e5b=ie.getEndPoint(_e5a,true);_e5e=_e5b[0],_e5f=_e5b[1];}}return [_e5c,_e5d,_e5e,_e5f];},setRange:function(_e60,_e61,_e62,_e63,_e64,_e65){var _e66=ie.setEndPoint(_e60,_e61,_e62);_e60.setEndPoint("StartToStart",_e66);if(!_e65){var end=ie.setEndPoint(_e60,_e63,_e64);}_e60.setEndPoint("EndToEnd",end||_e66);return _e60;}};var _e39=_e23.W3CRange=_e22(null,{constructor:function(){if(arguments.length>0){this.setStart(arguments[0][0],arguments[0][1]);this.setEnd(arguments[0][2],arguments[0][3]);}else{this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}},_updateInternal:function(){if(this.startContainer!==this.endContainer){this.commonAncestorContainer=_e23.getCommonAncestor(this.startContainer,this.endContainer);}else{this.commonAncestorContainer=this.startContainer;}this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);},setStart:function(node,_e67){_e67=parseInt(_e67);if(this.startContainer===node&&this.startOffset==_e67){return;}delete this._cachedBookmark;this.startContainer=node;this.startOffset=_e67;if(!this.endContainer){this.setEnd(node,_e67);}else{this._updateInternal();}},setEnd:function(node,_e68){_e68=parseInt(_e68);if(this.endContainer===node&&this.endOffset==_e68){return;}delete this._cachedBookmark;this.endContainer=node;this.endOffset=_e68;if(!this.startContainer){this.setStart(node,_e68);}else{this._updateInternal();}},setStartAfter:function(node,_e69){this._setPoint("setStart",node,_e69,1);},setStartBefore:function(node,_e6a){this._setPoint("setStart",node,_e6a,0);},setEndAfter:function(node,_e6b){this._setPoint("setEnd",node,_e6b,1);},setEndBefore:function(node,_e6c){this._setPoint("setEnd",node,_e6c,0);},_setPoint:function(what,node,_e6d,ext){var _e6e=_e23.getIndex(node,node.parentNode).o;this[what](node.parentNode,_e6e.pop()+ext);},_getIERange:function(){var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);return r;},getBookmark:function(){this._getIERange();return this._cachedBookmark;},_select:function(){var r=this._getIERange();r.select();},deleteContents:function(){var s=this.startContainer,r=this._getIERange();if(s.nodeType===3&&!this.startOffset){this.setStartBefore(s);}r.pasteHTML("");this.endContainer=this.startContainer;this.endOffset=this.startOffset;this.collapsed=true;},cloneRange:function(){var r=new _e39([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);r._body=this._body;return r;},detach:function(){this._body=null;this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}});}lang.setObject("dijit.range",_e23);return _e23;});},"dijit/_editor/html":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/sniff"],function(_e6f,lang,has){var _e70={};lang.setObject("dijit._editor.html",_e70);var _e71=_e70.escapeXml=function(str,_e72){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_e72){str=str.replace(/'/gm,"&#39;");}return str;};_e70.getNodeHtml=function(node){var _e73=[];_e70.getNodeHtmlHelper(node,_e73);return _e73.join("");};_e70.getNodeHtmlHelper=function(node,_e74){switch(node.nodeType){case 1:var _e75=node.nodeName.toLowerCase();if(!_e75||_e75.charAt(0)=="/"){return "";}_e74.push("<",_e75);var _e76=[],_e77={};var attr;if(has("dom-attributes-explicit")||has("dom-attributes-specified-flag")){var i=0;while((attr=node.attributes[i++])){var n=attr.name;if(n.substr(0,3)!=="_dj"&&(!has("dom-attributes-specified-flag")||attr.specified)&&!(n in _e77)){var v=attr.value;if(n=="src"||n=="href"){if(node.getAttribute("_djrealurl")){v=node.getAttribute("_djrealurl");}}if(has("ie")===8&&n==="style"){v=v.replace("HEIGHT:","height:").replace("WIDTH:","width:");}_e76.push([n,v]);_e77[n]=v;}}}else{var _e78=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false);var s=_e78.outerHTML;var _e79=/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi;var _e7a=s.match(_e79);s=s.substr(0,s.indexOf(">"));_e6f.forEach(_e7a,function(attr){if(attr){var idx=attr.indexOf("=");if(idx>0){var key=attr.substring(0,idx);if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(node.getAttribute("_djrealurl")){_e76.push([key,node.getAttribute("_djrealurl")]);return;}}var val,_e7b;switch(key){case "style":val=node.style.cssText.toLowerCase();break;case "class":val=node.className;break;case "width":if(_e75==="img"){_e7b=/width=(\S+)/i.exec(s);if(_e7b){val=_e7b[1];}break;}case "height":if(_e75==="img"){_e7b=/height=(\S+)/i.exec(s);if(_e7b){val=_e7b[1];}break;}default:val=node.getAttribute(key);}if(val!=null){_e76.push([key,val.toString()]);}}}}},this);}_e76.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});var j=0;while((attr=_e76[j++])){_e74.push(" ",attr[0],"=\"",(typeof attr[1]==="string"?_e71(attr[1],true):attr[1]),"\"");}switch(_e75){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":_e74.push(" />");break;case "script":_e74.push(">",node.innerHTML,"</",_e75,">");break;default:_e74.push(">");if(node.hasChildNodes()){_e70.getChildrenHtmlHelper(node,_e74);}_e74.push("</",_e75,">");}break;case 4:case 3:_e74.push(_e71(node.nodeValue,true));break;case 8:_e74.push("<!--",_e71(node.nodeValue,true),"-->");break;default:_e74.push("<!-- Element not recognized - Type: ",node.nodeType," Name: ",node.nodeName,"-->");}};_e70.getChildrenHtml=function(node){var _e7c=[];_e70.getChildrenHtmlHelper(node,_e7c);return _e7c.join("");};_e70.getChildrenHtmlHelper=function(dom,_e7d){if(!dom){return;}var _e7e=dom["childNodes"]||dom;var _e7f=!has("ie")||_e7e!==dom;var node,i=0;while((node=_e7e[i++])){if(!_e7f||node.parentNode==dom){_e70.getNodeHtmlHelper(node,_e7d);}}};return _e70;});},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html","../a11yclick"],function(_e80,lang,_e81,_e82,_e83,_e84,_e85,_e86,_e87){return _e80("dijit.form.DropDownButton",[_e84,_e85,_e86],{baseClass:"dijitDropDownButton",templateString:_e87,_fillContent:function(){if(this.srcNodeRef){var _e88=_e81("*",this.srcNodeRef);this.inherited(arguments,[_e88[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _e89=_e81("[widgetId]",this.dropDownContainer)[0];if(_e89){this.dropDown=_e82.byNode(_e89);}delete this.dropDownContainer;}if(this.dropDown){_e83.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _e8a=this.dropDown;return (!!_e8a&&(!_e8a.href||_e8a.isLoaded));},loadDropDown:function(_e8b){var _e8c=this.dropDown;var _e8d=_e8c.on("load",lang.hitch(this,function(){_e8d.remove();_e8b();}));_e8c.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/TooltipDialog":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_e8e,_e8f,has,keys,lang,on,_e90,_e91,_e92,_e93,_e94,_e95,_e96){var _e97=_e8e("dijit.TooltipDialog",[_e91,_e94,_e93,_e92],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_e95,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKey")));},orient:function(node,_e98,_e99){var newC={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[_e98+"-"+_e99];_e8f.replace(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems();_e90.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);var _e9a=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_e9a.y+((_e9a.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_e9a.x+((_e9a.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){if(evt.keyCode==keys.ESCAPE){this.defer("onCancel");evt.stopPropagation();evt.preventDefault();}else{if(evt.keyCode==keys.TAB){var node=evt.target;this._getFocusItems();if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(node==this._firstFocusItem&&evt.shiftKey){_e90.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(node==this._lastFocusItem&&!evt.shiftKey){_e90.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}else{evt.stopPropagation();}}}}}}});if(has("dojo-bidi")){_e97.extend({_setTitleAttr:function(_e9b){this.containerNode.title=(this.textDir&&this.enforceTextDirWithUcc)?this.enforceTextDirWithUcc(null,_e9b):_e9b;this._set("title",_e9b);},_setTextDirAttr:function(_e9c){if(!this._created||this.textDir!=_e9c){this._set("textDir",_e9c);if(this.textDir&&this.title){this.containerNode.title=this.enforceTextDirWithUcc(null,this.title);}}}});}return _e97;});},"dijit/form/ComboButton":function(){define(["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html","../a11yclick"],function(_e9d,keys,_e9e,_e9f,_ea0){return _e9d("dijit.form.ComboButton",_e9f,{templateString:_ea0,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_e9e.focus(this._popupStateNode);evt.stopPropagation();evt.preventDefault();}},_onArrowKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_e9e.focus(this.titleNode);evt.stopPropagation();evt.preventDefault();}},focus:function(_ea1){if(!this.disabled){_e9e.focus(_ea1=="start"?this.titleNode:this._popupStateNode);}}});});},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(_ea2,_ea3,_ea4){return _ea2("dijit.form.ComboBox",[_ea3,_ea4],{});});},"dijit/form/ComboBoxMixin":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_ea5,_ea6,_ea7,lang,_ea8,_ea9,_eaa,_eab,_eac){return _ea5("dijit.form.ComboBoxMixin",[_eab,_ea9],{dropDownClass:_eaa,hasDownArrow:true,templateString:_eac,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){this._set("hasDownArrow",val);this._buttonNode.style.display=val?"":"none";},_showResultList:function(){this.displayMessage("");this.inherited(arguments);},_setStoreAttr:function(_ead){if(!_ead.get){lang.mixin(_ead,{_oldAPI:true,get:function(id){var _eae=new _ea6();this.fetchItemByIdentity({identity:id,onItem:function(_eaf){_eae.resolve(_eaf);},onError:function(_eb0){_eae.reject(_eb0);}});return _eae.promise;},query:function(_eb1,_eb2){var _eb3=new _ea6(function(){_eb4.abort&&_eb4.abort();});_eb3.total=new _ea6();var _eb4=this.fetch(lang.mixin({query:_eb1,onBegin:function(_eb5){_eb3.total.resolve(_eb5);},onComplete:function(_eb6){_eb3.resolve(_eb6);},onError:function(_eb7){_eb3.reject(_eb7);}},_eb2));return _ea8(_eb3);}});}this._set("store",_ead);},postMixInProperties:function(){var _eb8=this.params.store||this.store;if(_eb8){this._setStoreAttr(_eb8);}this.inherited(arguments);if(!this.params.store&&this.store&&!this.store._oldAPI){var _eb9=this.declaredClass;lang.mixin(this.store,{getValue:function(item,attr){_ea7.deprecated(_eb9+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return item[attr];},getLabel:function(item){_ea7.deprecated(_eb9+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return item.name;},fetch:function(args){_ea7.deprecated(_eb9+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var shim=["dojo/data/ObjectStore"];require(shim,lang.hitch(this,function(_eba){new _eba({objectStore:this}).fetch(args);}));}});}},buildRendering:function(){this.inherited(arguments);this.focusNode.setAttribute("aria-autocomplete",this.autoComplete?"both":"list");}});});},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(_ebb,lang,when){var _ebc=function(_ebd){if(!_ebd){return _ebd;}var _ebe=!!_ebd.then;if(_ebe){_ebd=lang.delegate(_ebd);}function _ebf(_ec0){_ebd[_ec0]=function(){var args=arguments;var _ec1=when(_ebd,function(_ec2){Array.prototype.unshift.call(args,_ec2);return _ebc(_ebb[_ec0].apply(_ebb,args));});if(_ec0!=="forEach"||_ebe){return _ec1;}};};_ebf("forEach");_ebf("filter");_ebf("map");if(_ebd.total==null){_ebd.total=when(_ebd,function(_ec3){return _ec3.length;});}return _ebd;};lang.setObject("dojo.store.util.QueryResults",_ebc);return _ebc;});},"dijit/form/_AutoCompleterMixin":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(_ec4,_ec5,_ec6,keys,lang,_ec7,_ec8,has,_ec9,_eca,_ecb){var _ecc=_ec5("dijit.form._AutoCompleterMixin",_ecb,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_ecd){var pos=0;if(typeof (_ecd.selectionStart)=="number"){pos=_ecd.selectionStart;}else{if(has("ie")){var tr=_ecd.ownerDocument.selection.createRange().duplicate();var ntr=_ecd.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_ece,_ecf){_ecf=parseInt(_ecf);_eca.selectInputText(_ece,_ecf,_ecf);},_setDisabledAttr:function(_ed0){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",_ed0?"true":"false");},_onKey:function(evt){if(evt.charCode>=32){return;}var key=evt.charCode||evt.keyCode;if(key==keys.ALT||key==keys.CTRL||key==keys.META||key==keys.SHIFT){return;}var pw=this.dropDown;var _ed1=null;this._abortQuery();this.inherited(arguments);if(evt.altKey||evt.ctrlKey||evt.metaKey){return;}if(this._opened){_ed1=pw.getHighlightedOption();}switch(key){case keys.PAGE_DOWN:case keys.DOWN_ARROW:case keys.PAGE_UP:case keys.UP_ARROW:if(this._opened){this._announceOption(_ed1);}evt.stopPropagation();evt.preventDefault();break;case keys.ENTER:if(_ed1){if(_ed1==pw.nextButton){this._nextSearch(1);evt.stopPropagation();evt.preventDefault();break;}else{if(_ed1==pw.previousButton){this._nextSearch(-1);evt.stopPropagation();evt.preventDefault();break;}}evt.stopPropagation();evt.preventDefault();}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}case keys.TAB:var _ed2=this.get("displayedValue");if(pw&&(_ed2==pw._messages["previousMessage"]||_ed2==pw._messages["nextMessage"])){break;}if(_ed1){this._selectOption(_ed1);}case keys.ESCAPE:if(this._opened){this._lastQuery=null;this.closeDropDown();}break;}},_autoCompleteText:function(text){var fn=this.focusNode;_eca.selectInputText(fn,fn.value.length);var _ed3=this.ignoreCase?"toLowerCase":"substr";if(text[_ed3](0).indexOf(this.focusNode.value[_ed3](0))==0){var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;if((cpos+1)>fn.value.length){fn.value=text;_eca.selectInputText(fn,cpos);}}else{fn.value=text;_eca.selectInputText(fn);}},_openResultList:function(_ed4,_ed5,_ed6){var _ed7=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();if(!_ed4.length&&_ed6.start==0){this.closeDropDown();return;}this._nextSearch=this.dropDown.onPage=lang.hitch(this,function(_ed8){_ed4.nextPage(_ed8!==-1);this.focus();});this.dropDown.createOptions(_ed4,_ed6,lang.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if("direction" in _ed6){if(_ed6.direction){this.dropDown.highlightFirstOption();}else{if(!_ed6.direction){this.dropDown.highlightLastOption();}}if(_ed7){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_ed5[this.searchAttr].toString())){this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);}}},_showResultList:function(){this.closeDropDown(true);this.openDropDown();this.domNode.setAttribute("aria-expanded","true");},loadDropDown:function(){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);this.domNode.setAttribute("aria-expanded","false");}},_setBlurValue:function(){var _ed9=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_ed9==pw._messages["previousMessage"]||_ed9==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_ed9);}else{if(this.value!=this._lastValueReported){this._handleOnChange(this.value,true);}this._refreshState();}}this.focusNode.removeAttribute("aria-activedescendant");},_setItemAttr:function(item,_eda,_edb){var _edc="";if(item){if(!_edb){_edb=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];}_edc=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_edb;}this.set("value",_edc,_eda,_edb,item);},_announceOption:function(node){if(!node){return;}var _edd;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_edd=node.innerHTML;this.item=undefined;this.value="";}else{var item=this.dropDown.items[node.getAttribute("item")];_edd=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();this.set("item",item,false,_edd);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",_ec6.get(node,"id"));this._autoCompleteText(_edd);},_selectOption:function(_ede){this.closeDropDown();if(_ede){this._announceOption(_ede);}this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,true);this.focusNode.removeAttribute("aria-activedescendant");},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this.item=undefined;this.inherited(arguments);},_startSearch:function(key){if(!this.dropDown){var _edf=this.id+"_popup",_ee0=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;this.dropDown=new _ee0({onChange:lang.hitch(this,this._selectOption),id:_edf,dir:this.dir,textDir:this.textDir});}this._lastInput=key;this.inherited(arguments);},_getValueField:function(){return this.searchAttr;},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&this.srcNodeRef){var _ee1=this.srcNodeRef;this.store=new _ec9({},_ee1);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _ee2=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(item,_ee2):item[_ee2];}}}},postCreate:function(){var _ee3=_ec7("label[for=\""+this.id+"\"]");if(_ee3.length){if(!_ee3[0].id){_ee3[0].id=this.id+"_label";}this.domNode.setAttribute("aria-labelledby",_ee3[0].id);}this.inherited(arguments);_ec4.after(this,"onSearch",lang.hitch(this,"_openResultList"),true);},_getMenuLabelFromItem:function(item){var _ee4=this.labelFunc(item,this.store),_ee5=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_ee4=this.doHighlight(_ee4,this._lastInput);_ee5="html";}return {html:_ee5=="html",label:_ee4};},doHighlight:function(_ee6,find){var _ee7=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=_ec8.escapeString(find);return this._escapeHtml(_ee6.replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_ee7),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_ee8){return (_ee8._oldAPI?_ee8.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();},_setValueAttr:function(_ee9,_eea,_eeb,item){this._set("item",item||null);if(_ee9==null){_ee9="";}this.inherited(arguments);}});if(has("dojo-bidi")){_ecc.extend({_setTextDirAttr:function(_eec){this.inherited(arguments);if(this.dropDown){this.dropDown._set("textDir",_eec);}}});}return _ecc;});},"dijit/form/DataList":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_eed,dom,lang,_eee,_eef,_ef0){function _ef1(_ef2){return {id:_ef2.value,value:_ef2.value,name:lang.trim(_ef2.innerText||_ef2.textContent||"")};};return _eed("dijit.form.DataList",_eef,{constructor:function(_ef3,_ef4){this.domNode=dom.byId(_ef4);lang.mixin(this,_ef3);if(this.id){_ef0.add(this);}this.domNode.style.display="none";this.inherited(arguments,[{data:_eee("option",this.domNode).map(_ef1)}]);},destroy:function(){_ef0.remove(this.id);},fetchSelectedItem:function(){var _ef5=_eee("> option[selected]",this.domNode)[0]||_eee("> option",this.domNode)[0];return _ef5&&_ef1(_ef5);}});});},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_ef6,_ef7,_ef8){var base=null;return _ef6("dojo.store.Memory",base,{constructor:function(_ef9){for(var i in _ef9){this[i]=_ef9[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_ef8,get:function(id){return this.data[this.index[id]];},getIdentity:function(_efa){return _efa[this.idProperty];},put:function(_efb,_efc){var data=this.data,_efd=this.index,_efe=this.idProperty;var id=_efb[_efe]=(_efc&&"id" in _efc)?_efc.id:_efe in _efb?_efb[_efe]:Math.random();if(id in _efd){if(_efc&&_efc.overwrite===false){throw new Error("Object already exists");}data[_efd[id]]=_efb;}else{_efd[id]=data.push(_efb)-1;}return id;},add:function(_eff,_f00){(_f00=_f00||{}).overwrite=false;return this.put(_eff,_f00);},remove:function(id){var _f01=this.index;var data=this.data;if(id in _f01){data.splice(_f01[id],1);this.setData(data);return true;}},query:function(_f02,_f03){return _ef7(this.queryEngine(_f02,_f03)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier||this.idProperty;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(_f04){return function(_f05,_f06){switch(typeof _f05){default:throw new Error("Can not query with a "+typeof _f05);case "object":case "undefined":var _f07=_f05;_f05=function(_f08){for(var key in _f07){var _f09=_f07[key];if(_f09&&_f09.test){if(!_f09.test(_f08[key],_f08)){return false;}}else{if(_f09!=_f08[key]){return false;}}}return true;};break;case "string":if(!this[_f05]){throw new Error("No filter function "+_f05+" was found in store");}_f05=this[_f05];case "function":}function _f0a(_f0b){var _f0c=_f04.filter(_f0b,_f05);var _f0d=_f06&&_f06.sort;if(_f0d){_f0c.sort(typeof _f0d=="function"?_f0d:function(a,b){for(var sort,i=0;sort=_f0d[i];i++){var _f0e=a[sort.attribute];var _f0f=b[sort.attribute];_f0e=_f0e!=null?_f0e.valueOf():_f0e;_f0f=_f0f!=null?_f0f.valueOf():_f0f;if(_f0e!=_f0f){return !!sort.descending==(_f0e==null||_f0e>_f0f)?-1:1;}}return 0;});}if(_f06&&(_f06.start||_f06.count)){var _f10=_f0c.length;_f0c=_f0c.slice(_f06.start||0,(_f06.start||0)+(_f06.count||Infinity));_f0c.total=_f10;}return _f0c;};_f0a.matches=_f05;return _f0a;};});},"dijit/form/_SearchMixin":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(_f11,keys,lang,_f12,_f13,when,_f14){return _f11("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(list){this._set("list",list);},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_patternToRegExp:function(_f15){return new RegExp("^"+_f15.replace(/(\\.)|(\*)|(\?)|\W/g,function(str,_f16,star,_f17){return star?".*":_f17?".":_f16?_f16:"\\"+str;})+"$",this.ignoreCase?"mi":"m");},_abortQuery:function(){if(this.searchTimer){this.searchTimer=this.searchTimer.remove();}if(this._queryDeferHandle){this._queryDeferHandle=this._queryDeferHandle.remove();}if(this._fetchHandle){if(this._fetchHandle.abort){this._cancelingQuery=true;this._fetchHandle.abort();this._cancelingQuery=false;}if(this._fetchHandle.cancel){this._cancelingQuery=true;this._fetchHandle.cancel();this._cancelingQuery=false;}this._fetchHandle=null;}},_processInput:function(evt){if(this.disabled||this.readOnly){return;}var key=evt.charOrCode;if("type" in evt&&evt.type.substring(0,3)=="key"&&(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==keys.SHIFT)){return;}var _f18=false;this._prev_key_backspace=false;switch(key){case keys.DELETE:case keys.BACKSPACE:this._prev_key_backspace=true;this._maskValidSubsetError=true;_f18=true;break;default:_f18=typeof key=="string"||key==229;}if(_f18){if(!this.store){this.onSearch();}else{this.searchTimer=this.defer("_startSearchFromInput",1);}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_startSearch:function(text){this._abortQuery();var _f19=this,_f12=lang.clone(this.query),_f1a={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_f13.substitute(this.queryExpr,[text.replace(/([\\\*\?])/g,"\\$1")]),q,_f1b=function(){var _f1c=_f19._fetchHandle=_f19.store.query(_f12,_f1a);if(_f19.disabled||_f19.readOnly||(q!==_f19._lastQuery)){return;}when(_f1c,function(res){_f19._fetchHandle=null;if(!_f19.disabled&&!_f19.readOnly&&(q===_f19._lastQuery)){when(_f1c.total,function(_f1d){res.total=_f1d;var _f1e=_f19.pageSize;if(isNaN(_f1e)||_f1e>res.total){_f1e=res.total;}res.nextPage=function(_f1f){_f1a.direction=_f1f=_f1f!==false;_f1a.count=_f1e;if(_f1f){_f1a.start+=res.length;if(_f1a.start>=res.total){_f1a.count=0;}}else{_f1a.start-=_f1e;if(_f1a.start<0){_f1a.count=Math.max(_f1e+_f1a.start,0);_f1a.start=0;}}if(_f1a.count<=0){res.length=0;_f19.onSearch(res,_f12,_f1a);}else{_f1b();}};_f19.onSearch(res,_f12,_f1a);});}},function(err){_f19._fetchHandle=null;if(!_f19._cancelingQuery){console.error(_f19.declaredClass+" "+err.toString());}});};lang.mixin(_f1a,this.fetchProperties);if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_f12[this.searchAttr]=q;this._queryDeferHandle=this.defer(_f1b,this.searchDelay);},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var list=this.list;if(list){this.store=_f14.byId(list);}}this.inherited(arguments);}});});},"dijit/form/_ComboBoxMenu":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_f20,_f21,_f22,keys,_f23,_f24,_f25,_f26){return _f20("dijit.form._ComboBoxMenu",[_f23,_f24,_f26,_f25],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);if(!this.isLeftToRight()){_f21.add(this.previousButton,"dijitMenuItemRtl");_f21.add(this.nextButton,"dijitMenuItemRtl");}this.containerNode.setAttribute("role","listbox");},_createMenuItem:function(){var item=this.ownerDocument.createElement("div");item.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");item.setAttribute("role","option");return item;},onHover:function(node){_f21.add(node,"dijitMenuItemHover");},onUnhover:function(node){_f21.remove(node,"dijitMenuItemHover");},onSelect:function(node){_f21.add(node,"dijitMenuItemSelected");},onDeselect:function(node){_f21.remove(node,"dijitMenuItemSelected");},_page:function(up){var _f27=0;var _f28=this.domNode.scrollTop;var _f29=_f22.get(this.domNode,"height");if(!this.getHighlightedOption()){this.selectNextNode();}while(_f27<_f29){var _f2a=this.getHighlightedOption();if(up){if(!_f2a.previousSibling||_f2a.previousSibling.style.display=="none"){break;}this.selectPreviousNode();}else{if(!_f2a.nextSibling||_f2a.nextSibling.style.display=="none"){break;}this.selectNextNode();}var _f2b=this.domNode.scrollTop;_f27+=(_f2b-_f28)*(up?-1:1);_f28=_f2b;}},handleKey:function(evt){switch(evt.keyCode){case keys.DOWN_ARROW:this.selectNextNode();return false;case keys.PAGE_DOWN:this._page(false);return false;case keys.UP_ARROW:this.selectPreviousNode();return false;case keys.PAGE_UP:this._page(true);return false;default:return true;}}});});},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(_f2c,_f2d,_f2e,has,i18n){var _f2f=_f2d("dijit.form._ComboBoxMenuMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_f30){this._set("value",_f30);this.onChange(_f30);},onClick:function(node){if(node==this.previousButton){this._setSelectedAttr(null);this.onPage(-1);}else{if(node==this.nextButton){this._setSelectedAttr(null);this.onPage(1);}else{this.onChange(node);}}},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);},_createOption:function(item,_f31){var _f32=this._createMenuItem();var _f33=_f31(item);if(_f33.html){_f32.innerHTML=_f33.label;}else{_f32.appendChild(_f32.ownerDocument.createTextNode(_f33.label));}if(_f32.innerHTML==""){_f32.innerHTML="&#160;";}return _f32;},createOptions:function(_f34,_f35,_f36){this.items=_f34;this.previousButton.style.display=(_f35.start==0)?"none":"";_f2e.set(this.previousButton,"id",this.id+"_prev");_f2c.forEach(_f34,function(item,i){var _f37=this._createOption(item,_f36);_f37.setAttribute("item",i);_f2e.set(_f37,"id",this.id+i);this.nextButton.parentNode.insertBefore(_f37,this.nextButton);},this);var _f38=false;if(_f34.total&&!_f34.total.then&&_f34.total!=-1){if((_f35.start+_f35.count)<_f34.total){_f38=true;}else{if((_f35.start+_f35.count)>_f34.total&&_f35.count==_f34.length){_f38=true;}}}else{if(_f35.count==_f34.length){_f38=true;}}this.nextButton.style.display=_f38?"":"none";_f2e.set(this.nextButton,"id",this.id+"_next");},clearResultList:function(){var _f39=this.containerNode;while(_f39.childNodes.length>2){_f39.removeChild(_f39.childNodes[_f39.childNodes.length-2]);}this._setSelectedAttr(null);},highlightFirstOption:function(){this.selectFirstNode();},highlightLastOption:function(){this.selectLastNode();},selectFirstNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.previousButton){this.selectNextNode();}},selectLastNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.nextButton){this.selectPreviousNode();}},getHighlightedOption:function(){return this.selected;}});if(has("dojo-bidi")){_f2f=_f2d("dijit.form._ComboBoxMenuMixin",_f2f,{_createOption:function(){var _f3a=this.inherited(arguments);this.applyTextDir(_f3a);return _f3a;}});}return _f2f;});},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(_f3b,on,_f3c,_f3d){return _f3b("dijit.form._ListMouseMixin",_f3d,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=true;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut");},_onClick:function(evt,_f3e){this._setSelectedAttr(_f3e,false);if(this._deferredClick){this._deferredClick.remove();}this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(_f3e);});},_onMouseDown:function(evt,_f3f){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}this._isDragging=true;this._setSelectedAttr(_f3f,false);},_onMouseUp:function(evt,_f40){this._isDragging=false;var _f41=this.selected;var _f42=this._hoveredNode;if(_f41&&_f40==_f41){this.defer(function(){this._onClick(evt,_f41);});}else{if(_f42){this.defer(function(){this._onClick(evt,_f42);});}}},_onMouseOut:function(evt,_f43){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}if(this._isDragging){this._cancelDrag=(new Date()).getTime()+1000;}},_onMouseOver:function(evt,_f44){if(this._cancelDrag){var time=(new Date()).getTime();if(time>this._cancelDrag){this._isDragging=false;}this._cancelDrag=null;}this._hoveredNode=_f44;this.onHover(_f44);if(this._isDragging){this._setSelectedAttr(_f44,false);}}});});},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(_f45,on,_f46){return _f45("dijit.form._ListBase",null,{selected:null,_listConnect:function(_f47,_f48){var self=this;return self.own(on(self.containerNode,on.selector(function(_f49,_f4a,_f4b){return _f49.parentNode==_f4b;},_f47),function(evt){self[_f48](evt,this);}));},selectFirstNode:function(){var _f4c=this.containerNode.firstChild;while(_f4c&&_f4c.style.display=="none"){_f4c=_f4c.nextSibling;}this._setSelectedAttr(_f4c,true);},selectLastNode:function(){var last=this.containerNode.lastChild;while(last&&last.style.display=="none"){last=last.previousSibling;}this._setSelectedAttr(last,true);},selectNextNode:function(){var _f4d=this.selected;if(!_f4d){this.selectFirstNode();}else{var next=_f4d.nextSibling;while(next&&next.style.display=="none"){next=next.nextSibling;}if(!next){this.selectFirstNode();}else{this._setSelectedAttr(next,true);}}},selectPreviousNode:function(){var _f4e=this.selected;if(!_f4e){this.selectLastNode();}else{var prev=_f4e.previousSibling;while(prev&&prev.style.display=="none"){prev=prev.previousSibling;}if(!prev){this.selectLastNode();}else{this._setSelectedAttr(prev,true);}}},_setSelectedAttr:function(node,_f4f){if(this.selected!=node){var _f50=this.selected;if(_f50){this.onDeselect(_f50);}if(node){if(_f4f){_f46.scrollIntoView(node);}this.onSelect(node);}this._set("selected",node);}else{if(node){this.onSelect(node);}}}});});},"dijit/PopupMenuItem":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/_base/lang","dojo/query","./popup","./registry","./MenuItem","./hccss"],function(_f51,_f52,lang,_f53,pm,_f54,_f55){return _f51("dijit.PopupMenuItem",_f55,{baseClass:"dijitMenuItem dijitPopupMenuItem",_fillContent:function(){if(this.srcNodeRef){var _f56=_f53("*",this.srcNodeRef);this.inherited(arguments,[_f56[0]]);this.dropDownContainer=this.srcNodeRef;}},_openPopup:function(_f57,_f58){var _f59=this.popup;pm.open(lang.delegate(_f57,{popup:this.popup,around:this.domNode}));if(_f58&&_f59.focus){_f59.focus();}},_closePopup:function(){pm.close(this.popup);this.popup.parentMenu=null;},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=_f53("[widgetId]",this.dropDownContainer)[0];this.popup=_f54.byNode(node);}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){_f52.set(this.arrowWrapper,"visibility","");}this.focusNode.setAttribute("aria-haspopup","true");},destroyDescendants:function(_f5a){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive(_f5a);}delete this.popup;}this.inherited(arguments);}});});},"dijit/MenuSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_f5b,dom,_f5c,_f5d,_f5e,_f5f){return _f5b("dijit.MenuSeparator",[_f5c,_f5d,_f5e],{templateString:_f5f,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/_editor/plugins/LinkDialog":function(){define(["require","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/query","dojo/string","../_Plugin","../../form/DropDownButton","../range"],function(_f60,_f61,_f62,keys,lang,on,has,_f63,_f64,_f65,_f66,_f67){var _f68=_f61("dijit._editor.plugins.LinkDialog",_f65,{buttonClass:_f66,useDefaultCommand:false,urlRegExp:"((https?|ftps?|file)\\://|./|../|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",emailRegExp:"<?(mailto\\:)([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+"+"@"+"((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*>?",htmlTemplate:"<a href=\"${urlInput}\" _djrealurl=\"${urlInput}\""+" target=\"${targetSelect}\""+">${textInput}</a>",tag:"a",_hostRxp:/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,_userAtRxp:/^([!#-'*+\-\/-9=?A-Z^-~]+[.])*[!#-'*+\-\/-9=?A-Z^-~]+@/i,linkDialogTemplate:["<table role='presentation'><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='true' "+"id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='true' id='${id}_textInput' "+"name='textInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_targetSelect'>${target}</label>","</td><td>","<select id='${id}_targetSelect' name='targetSelect' data-dojo-type='dijit.form.Select'>","<option selected='selected' value='_self'>${currentWindow}</option>","<option value='_blank'>${newWindow}</option>","<option value='_top'>${topWindow}</option>","<option value='_parent'>${parentWindow}</option>","</select>","</td></tr><tr><td colspan='2'>","<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),_initButton:function(){this.inherited(arguments);this.button.loadDropDown=lang.hitch(this,"_loadDropDown");this._connectTagEvents();},_loadDropDown:function(_f69){_f60(["dojo/i18n","../../TooltipDialog","../../registry","../../form/Button","../../form/Select","../../form/ValidationTextBox","dojo/i18n!../../nls/common","dojo/i18n!../nls/LinkDialog"],lang.hitch(this,function(i18n,_f6a,_f6b){var _f6c=this;this.tag=this.command=="insertImage"?"img":"a";var _f6d=lang.delegate(i18n.getLocalization("dijit","common",this.lang),i18n.getLocalization("dijit._editor","LinkDialog",this.lang));var _f6e=(this.dropDown=this.button.dropDown=new _f6a({title:_f6d[this.command+"Title"],ownerDocument:this.editor.ownerDocument,dir:this.editor.dir,execute:lang.hitch(this,"setValue"),onOpen:function(){_f6c._onOpenDialog();_f6a.prototype.onOpen.apply(this,arguments);},onCancel:function(){setTimeout(lang.hitch(_f6c,"_onCloseDialog"),0);}}));_f6d.urlRegExp=this.urlRegExp;_f6d.id=_f6b.getUniqueId(this.editor.id);this._uniqueId=_f6d.id;this._setContent(_f6e.title+"<div style='border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'></div>"+_f64.substitute(this.linkDialogTemplate,_f6d));_f6e.startup();this._urlInput=_f6b.byId(this._uniqueId+"_urlInput");this._textInput=_f6b.byId(this._uniqueId+"_textInput");this._setButton=_f6b.byId(this._uniqueId+"_setButton");this.own(_f6b.byId(this._uniqueId+"_cancelButton").on("click",lang.hitch(this.dropDown,"onCancel")));if(this._urlInput){this.own(this._urlInput.on("change",lang.hitch(this,"_checkAndFixInput")));}if(this._textInput){this.own(this._textInput.on("change",lang.hitch(this,"_checkAndFixInput")));}this._urlRegExp=new RegExp("^"+this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=lang.hitch(this,function(){var _f6f=this._urlInput.get("value");return this._urlRegExp.test(_f6f)||this._emailRegExp.test(_f6f);});this.own(on(_f6e.domNode,"keydown",lang.hitch(this,lang.hitch(this,function(e){if(e&&e.keyCode==keys.ENTER&&!e.shiftKey&&!e.metaKey&&!e.ctrlKey&&!e.altKey){if(!this._setButton.get("disabled")){_f6e.onExecute();_f6e.execute(_f6e.get("value"));}}}))));_f69();}));},_checkAndFixInput:function(){var self=this;var url=this._urlInput.get("value");var _f70=function(url){var _f71=false;var _f72=false;if(url&&url.length>1){url=lang.trim(url);if(url.indexOf("mailto:")!==0){if(url.indexOf("/")>0){if(url.indexOf("://")===-1){if(url.charAt(0)!=="/"&&url.indexOf("./")&&url.indexOf("../")!==0){if(self._hostRxp.test(url)){_f71=true;}}}}else{if(self._userAtRxp.test(url)){_f72=true;}}}}if(_f71){self._urlInput.set("value","http://"+url);}if(_f72){self._urlInput.set("value","mailto:"+url);}self._setButton.set("disabled",!self._isValid());};if(this._delayedCheck){clearTimeout(this._delayedCheck);this._delayedCheck=null;}this._delayedCheck=setTimeout(function(){_f70(url);},250);},_connectTagEvents:function(){this.editor.onLoadDeferred.then(lang.hitch(this,function(){this.own(on(this.editor.editNode,"dblclick",lang.hitch(this,"_onDblClick")));}));},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid();},_setContent:function(_f73){this.dropDown.set({parserScope:"dojo",content:_f73});},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}return args;},setValue:function(args){this._onCloseDialog();if(has("ie")<9){var sel=_f67.getSelection(this.editor.window);var _f74=sel.getRangeAt(0);var a=_f74.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=this.editor.selection.getSelectedElement(this.tag);}if(a&&(a.nodeName&&a.nodeName.toLowerCase()===this.tag)){if(this.editor.queryCommandEnabled("unlink")){this.editor.selection.selectElementChildren(a);this.editor.execCommand("unlink");}}}args=this._checkValues(args);this.editor.execCommand("inserthtml",_f64.substitute(this.htmlTemplate,args));_f63("a",this.editor.document).forEach(function(a){if(!a.innerHTML&&!_f62.has(a,"name")){a.parentNode.removeChild(a);}},this);},_onCloseDialog:function(){if(this.editor.focused){this.editor.focus();}},_getCurrentValues:function(a){var url,text,_f75;if(a&&a.tagName.toLowerCase()===this.tag){url=a.getAttribute("_djrealurl")||a.getAttribute("href");_f75=a.getAttribute("target")||"_self";text=a.textContent||a.innerText;this.editor.selection.selectElement(a,true);}else{text=this.editor.selection.getSelectedText();}return {urlInput:url||"",textInput:text||"",targetSelect:_f75||""};},_onOpenDialog:function(){var a,b,fc;if(has("ie")){var sel=_f67.getSelection(this.editor.window);if(sel.rangeCount){var _f76=sel.getRangeAt(0);a=_f76.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=this.editor.selection.getSelectedElement(this.tag);}if(!a||(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){b=this.editor.selection.getAncestorElement(this.tag);if(b&&(b.nodeName&&b.nodeName.toLowerCase()==this.tag)){a=b;this.editor.selection.selectElement(a);}else{if(_f76.startContainer===_f76.endContainer){fc=_f76.startContainer.firstChild;if(fc&&(fc.nodeName&&fc.nodeName.toLowerCase()==this.tag)){a=fc;this.editor.selection.selectElement(a);}}}}}}else{a=this.editor.selection.getAncestorElement(this.tag);}this.dropDown.reset();this._setButton.set("disabled",true);this.dropDown.set("value",this._getCurrentValues(a));},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&_f62.get(t,"href")){var _f77=this.editor;this.editor.selection.selectElement(t);_f77.onDisplayChanged();if(_f77._updateTimer){_f77._updateTimer.remove();delete _f77._updateTimer;}_f77.onNormalizedDisplayChanged();var _f78=this.button;setTimeout(function(){_f78.set("disabled",false);_f78.loadAndOpenDropDown().then(function(){if(_f78.dropDown.focus){_f78.dropDown.focus();}});},10);}}}});var _f79=_f61("dijit._editor.plugins.ImgLinkDialog",[_f68],{linkDialogTemplate:["<table role='presentation'><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' regExp='${urlRegExp}' "+"required='true' id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='false' id='${id}_textInput' "+"name='textInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","</td><td>","</td></tr><tr><td colspan='2'>","<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),htmlTemplate:"<img src=\"${urlInput}\" _djrealurl=\"${urlInput}\" alt=\"${textInput}\" />",tag:"img",_getCurrentValues:function(img){var url,text;if(img&&img.tagName.toLowerCase()===this.tag){url=img.getAttribute("_djrealurl")||img.getAttribute("src");text=img.getAttribute("alt");this.editor.selection.selectElement(img,true);}else{text=this.editor.selection.getSelectedText();}return {urlInput:url||"",textInput:text||""};},_isValid:function(){return this._urlInput.isValid();},_connectTagEvents:function(){this.inherited(arguments);this.editor.onLoadDeferred.then(lang.hitch(this,function(){this.own(on(this.editor.editNode,"mousedown",lang.hitch(this,"_selectTag")));}));},_selectTag:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag){this.editor.selection.selectElement(t);}}},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}if(args&&args.textInput){args.textInput=args.textInput.replace(/"/g,"&quot;");}return args;},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&_f62.get(t,"src")){var _f7a=this.editor;this.editor.selection.selectElement(t);_f7a.onDisplayChanged();if(_f7a._updateTimer){_f7a._updateTimer.remove();delete _f7a._updateTimer;}_f7a.onNormalizedDisplayChanged();var _f7b=this.button;setTimeout(function(){_f7b.set("disabled",false);_f7b.loadAndOpenDropDown().then(function(){if(_f7b.dropDown.focus){_f7b.dropDown.focus();}});},10);}}}});_f65.registry["createLink"]=function(){return new _f68({command:"createLink"});};_f65.registry["insertImage"]=function(){return new _f79({command:"insertImage"});};_f68.ImgLinkDialog=_f79;return _f68;});},"dijit/_editor/plugins/FontChoice":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/i18n","dojo/_base/lang","dojo/store/Memory","../../registry","../../_Widget","../../_TemplatedMixin","../../_WidgetsInTemplateMixin","../../form/FilteringSelect","../_Plugin","../range","dojo/i18n!../nls/FontChoice"],function(_f7c,_f7d,_f7e,_f7f,i18n,lang,_f80,_f81,_f82,_f83,_f84,_f85,_f86,_f87){var _f88=_f7e("dijit._editor.plugins._FontDropDown",[_f82,_f83,_f84],{label:"",plainText:false,templateString:"<span style='white-space: nowrap' class='dijit dijitReset dijitInline'>"+"<label class='dijitLeft dijitInline' for='${selectId}'>${label}</label>"+"<input data-dojo-type='../../form/FilteringSelect' required='false' "+"data-dojo-props='labelType:\"html\", labelAttr:\"label\", searchAttr:\"name\"' "+"class='${comboClass}' "+"tabIndex='-1' id='${selectId}' data-dojo-attach-point='select' value=''/>"+"</span>",contextRequire:_f7c,postMixInProperties:function(){this.inherited(arguments);this.strings=i18n.getLocalization("dijit._editor","FontChoice");this.label=this.strings[this.command];this.id=_f81.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.selectId=this.id+"_select";this.inherited(arguments);},postCreate:function(){this.select.set("store",new _f80({idProperty:"value",data:_f7d.map(this.values,function(_f89){var name=this.strings[_f89]||_f89;return {label:this.getLabel(_f89,name),name:name,value:_f89};},this)}));this.select.set("value","",false);this.disabled=this.select.get("disabled");},_setValueAttr:function(_f8a,_f8b){_f8b=_f8b!==false;this.select.set("value",_f7d.indexOf(this.values,_f8a)<0?"":_f8a,_f8b);if(!_f8b){this.select._lastValueReported=null;}},_getValueAttr:function(){return this.select.get("value");},focus:function(){this.select.focus();},_setDisabledAttr:function(_f8c){this._set("disabled",_f8c);this.select.set("disabled",_f8c);}});var _f8d=_f7e("dijit._editor.plugins._FontNameDropDown",_f88,{generic:false,command:"fontName",comboClass:"dijitFontNameCombo",postMixInProperties:function(){if(!this.values){this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"];}this.inherited(arguments);},getLabel:function(_f8e,name){if(this.plainText){return name;}else{return "<div style='font-family: "+_f8e+"'>"+name+"</div>";}},_setValueAttr:function(_f8f,_f90){_f90=_f90!==false;if(this.generic){var map={"Arial":"sans-serif","Helvetica":"sans-serif","Myriad":"sans-serif","Times":"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive","Courier":"monospace","Courier New":"monospace","Papyrus":"fantasy","Estrangelo Edessa":"cursive","Gabriola":"fantasy"};_f8f=map[_f8f]||_f8f;}this.inherited(arguments,[_f8f,_f90]);}});var _f91=_f7e("dijit._editor.plugins._FontSizeDropDown",_f88,{command:"fontSize",comboClass:"dijitFontSizeCombo",values:[1,2,3,4,5,6,7],getLabel:function(_f92,name){if(this.plainText){return name;}else{return "<font size="+_f92+"'>"+name+"</font>";}},_setValueAttr:function(_f93,_f94){_f94=_f94!==false;if(_f93.indexOf&&_f93.indexOf("px")!=-1){var _f95=parseInt(_f93,10);_f93={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[_f95]||_f93;}this.inherited(arguments,[_f93,_f94]);}});var _f96=_f7e("dijit._editor.plugins._FormatBlockDropDown",_f88,{command:"formatBlock",comboClass:"dijitFormatBlockCombo",values:["noFormat","p","h1","h2","h3","pre"],postCreate:function(){this.inherited(arguments);this.set("value","noFormat",false);},getLabel:function(_f97,name){if(this.plainText||_f97=="noFormat"){return name;}else{return "<"+_f97+">"+name+"</"+_f97+">";}},_execCommand:function(_f98,_f99,_f9a){if(_f9a==="noFormat"){var _f9b;var end;var sel=_f87.getSelection(_f98.window);if(sel&&sel.rangeCount>0){var _f9c=sel.getRangeAt(0);var node,tag;if(_f9c){_f9b=_f9c.startContainer;end=_f9c.endContainer;while(_f9b&&_f9b!==_f98.editNode&&_f9b!==_f98.document.body&&_f9b.nodeType!==1){_f9b=_f9b.parentNode;}while(end&&end!==_f98.editNode&&end!==_f98.document.body&&end.nodeType!==1){end=end.parentNode;}var _f9d=lang.hitch(this,function(node,ary){if(node.childNodes&&node.childNodes.length){var i;for(i=0;i<node.childNodes.length;i++){var c=node.childNodes[i];if(c.nodeType==1){if(_f98.selection.inSelection(c)){var tag=c.tagName?c.tagName.toLowerCase():"";if(_f7d.indexOf(this.values,tag)!==-1){ary.push(c);}_f9d(c,ary);}}}}});var _f9e=lang.hitch(this,function(_f9f){if(_f9f&&_f9f.length){_f98.beginEditing();while(_f9f.length){this._removeFormat(_f98,_f9f.pop());}_f98.endEditing();}});var _fa0=[];if(_f9b==end){var _fa1;node=_f9b;while(node&&node!==_f98.editNode&&node!==_f98.document.body){if(node.nodeType==1){tag=node.tagName?node.tagName.toLowerCase():"";if(_f7d.indexOf(this.values,tag)!==-1){_fa1=node;break;}}node=node.parentNode;}_f9d(_f9b,_fa0);if(_fa1){_fa0=[_fa1].concat(_fa0);}_f9e(_fa0);}else{node=_f9b;while(_f98.selection.inSelection(node)){if(node.nodeType==1){tag=node.tagName?node.tagName.toLowerCase():"";if(_f7d.indexOf(this.values,tag)!==-1){_fa0.push(node);}_f9d(node,_fa0);}node=node.nextSibling;}_f9e(_fa0);}_f98.onDisplayChanged();}}}else{_f98.execCommand(_f99,_f9a);}},_removeFormat:function(_fa2,node){if(_fa2.customUndo){while(node.firstChild){_f7f.place(node.firstChild,node,"before");}node.parentNode.removeChild(node);}else{_fa2.selection.selectElementChildren(node);var html=_fa2.selection.getSelectedHtml();_fa2.selection.selectElement(node);_fa2.execCommand("inserthtml",html||"");}}});var _fa3=_f7e("dijit._editor.plugins.FontChoice",_f86,{useDefaultCommand:false,_initButton:function(){var _fa4={fontName:_f8d,fontSize:_f91,formatBlock:_f96}[this.command],_fa5=this.params;if(this.params.custom){_fa5.values=this.params.custom;}var _fa6=this.editor;this.button=new _fa4(lang.delegate({dir:_fa6.dir,lang:_fa6.lang},_fa5));this.own(this.button.select.on("change",lang.hitch(this,function(_fa7){if(this.editor.focused){this.editor.focus();}if(this.command=="fontName"&&_fa7.indexOf(" ")!=-1){_fa7="'"+_fa7+"'";}if(this.button._execCommand){this.button._execCommand(this.editor,this.command,_fa7);}else{this.editor.execCommand(this.command,_fa7);}})));},updateState:function(){var _fa8=this.editor;var _fa9=this.command;if(!_fa8||!_fa8.isLoaded||!_fa9.length){return;}if(this.button){var _faa=this.get("disabled");this.button.set("disabled",_faa);if(_faa){return;}var _fab;try{_fab=_fa8.queryCommandValue(_fa9)||"";}catch(e){_fab="";}var _fac=lang.isString(_fab)&&(_fab.match(/'([^']*)'/)||_fab.match(/"([^"]*)"/));if(_fac){_fab=_fac[1];}if(_fa9==="formatBlock"){if(!_fab||_fab=="p"){_fab=null;var elem;var sel=_f87.getSelection(this.editor.window);if(sel&&sel.rangeCount>0){var _fad=sel.getRangeAt(0);if(_fad){elem=_fad.endContainer;}}while(elem&&elem!==_fa8.editNode&&elem!==_fa8.document){var tg=elem.tagName?elem.tagName.toLowerCase():"";if(tg&&_f7d.indexOf(this.button.values,tg)>-1){_fab=tg;break;}elem=elem.parentNode;}if(!_fab){_fab="noFormat";}}else{if(_f7d.indexOf(this.button.values,_fab)<0){_fab="noFormat";}}}if(_fab!==this.button.get("value")){this.button.set("value",_fab,false);}}}});_f7d.forEach(["fontName","fontSize","formatBlock"],function(name){_f86.registry[name]=function(args){return new _fa3({command:name,plainText:args.plainText});};});_fa3._FontDropDown=_f88;_fa3._FontNameDropDown=_f8d;_fa3._FontSizeDropDown=_f91;_fa3._FormatBlockDropDown=_f96;return _fa3;});},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(_fae,lang,when,_faf,_fb0){return _fae("dijit.form.FilteringSelect",[_faf,_fb0],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return !!this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_fb1,_fb2,_fb3,_fb4){if((_fb2&&_fb2[this.searchAttr]!==this._lastQuery)||(!_fb2&&_fb1.length&&this.store.getIdentity(_fb1[0])!=this._lastQuery)){return;}if(!_fb1.length){this.set("value","",_fb4||(_fb4===undefined&&!this.focused),this.textbox.value,null);}else{this.set("item",_fb1[0],_fb4);}},_openResultList:function(_fb5,_fb6,_fb7){if(_fb6[this.searchAttr]!==this._lastQuery){return;}this.inherited(arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_fb8,_fb9,_fba,item){if(!this._onChangeActive){_fb9=null;}if(item===undefined){if(_fb8===null||_fb8===""){_fb8="";if(!lang.isString(_fba)){this._setDisplayedValueAttr(_fba||"",_fb9);return;}}var self=this;this._lastQuery=_fb8;when(this.store.get(_fb8),function(item){self._callbackSetLabel(item?[item]:[],undefined,undefined,_fb9);});}else{this.valueNode.value=_fb8;this.inherited(arguments,[_fb8,_fb9,_fba,item]);}},_setItemAttr:function(item,_fbb,_fbc){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_fbd,_fbe){if(_fbd==null){_fbd="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_fbe=false;}if(this.store){this.closeDropDown();var _fbf=lang.clone(this.query);var qs=this._getDisplayQueryString(_fbd),q;if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_fbf[this.searchAttr]=q;this.textbox.value=_fbd;this._lastDisplayedValue=_fbd;this._set("displayedValue",_fbd);var _fc0=this;var _fc1={queryOptions:{ignoreCase:this.ignoreCase,deep:true}};lang.mixin(_fc1,this.fetchProperties);this._fetchHandle=this.store.query(_fbf,_fc1);when(this._fetchHandle,function(_fc2){_fc0._fetchHandle=null;_fc0._callbackSetLabel(_fc2||[],_fbf,_fc1,_fbe);},function(err){_fc0._fetchHandle=null;if(!_fc0._cancelingQuery){console.error("dijit.form.FilteringSelect: "+err.toString());}});}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});});},"dijit/_editor/plugins/TextColor":function(){define(["require","dojo/colors","dojo/_base/declare","dojo/_base/lang","../_Plugin","../../form/DropDownButton"],function(_fc3,_fc4,_fc5,lang,_fc6,_fc7){var _fc8=_fc5("dijit._editor.plugins.TextColor",_fc6,{buttonClass:_fc7,colorPicker:"dijit/ColorPalette",useDefaultCommand:false,_initButton:function(){this.command=this.name;this.inherited(arguments);var self=this;this.button.loadDropDown=function(_fc9){function _fca(_fcb){self.button.dropDown=new _fcb({dir:self.editor.dir,ownerDocument:self.editor.ownerDocument,value:self.value,onChange:function(_fcc){self.editor.execCommand(self.command,_fcc);},onExecute:function(){self.editor.execCommand(self.command,this.get("value"));}});_fc9();};if(typeof self.colorPicker=="string"){_fc3([self.colorPicker],_fca);}else{_fca(self.colorPicker);}};},updateState:function(){var _fcd=this.editor;var _fce=this.command;if(!_fcd||!_fcd.isLoaded||!_fce.length){return;}if(this.button){var _fcf=this.get("disabled");this.button.set("disabled",_fcf);if(_fcf){return;}var _fd0;try{_fd0=_fcd.queryCommandValue(_fce)||"";}catch(e){_fd0="";}}if(_fd0==""){_fd0="#000000";}if(_fd0=="transparent"){_fd0="#ffffff";}if(typeof _fd0=="string"){if(_fd0.indexOf("rgb")>-1){_fd0=_fc4.fromRgb(_fd0).toHex();}}else{_fd0=((_fd0&255)<<16)|(_fd0&65280)|((_fd0&16711680)>>>16);_fd0=_fd0.toString(16);_fd0="#000000".slice(0,7-_fd0.length)+_fd0;}this.value=_fd0;var _fd1=this.button.dropDown;if(_fd1&&_fd1.get&&_fd0!==_fd1.get("value")){_fd1.set("value",_fd0,false);}}});_fc6.registry["foreColor"]=function(args){return new _fc8(args);};_fc6.registry["hiliteColor"]=function(args){return new _fc8(args);};return _fc8;});},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(dojo,lang,_fd2,_fd3){var _fd4={};lang.setObject("dojo.colors",_fd4);var _fd5=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=_fd2.fromRgb=function(_fd6,obj){var m=_fd6.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=_fd3.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return _fd2.fromArray(a,obj);}return _fd2.fromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_fd5(m1,m2,H+1/3)*256,_fd5(m1,m2,H)*256,_fd5(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return _fd2.fromArray(a,obj);}}return null;};var _fd7=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};_fd2.prototype.sanitize=function(){var t=this;t.r=Math.round(_fd7(t.r,0,255));t.g=Math.round(_fd7(t.g,0,255));t.b=Math.round(_fd7(t.b,0,255));t.a=_fd7(t.a,0,1);return this;};_fd4.makeGrey=_fd2.makeGrey=function(g,a){return _fd2.fromArray([g,g,g,a]);};lang.mixin(_fd2.named,{"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"blanchedalmond":[255,235,205],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"oldlace":[253,245,230],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"whitesmoke":[245,245,245],"yellowgreen":[154,205,50]});return _fd2;});},"dijit/_editor/plugins/FullScreen":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","../../focus","../_Plugin","../../form/ToggleButton","../../registry","dojo/i18n!../nls/commands"],function(_fd8,_fd9,_fda,_fdb,_fdc,i18n,keys,lang,on,has,win,_fdd,_fde,_fdf,_fe0,_fe1){var _fe2=_fd9("dijit._editor.plugins.FullScreen",_fdf,{zIndex:500,_origState:null,_origiFrameState:null,_resizeHandle:null,isFullscreen:false,toggle:function(){this.button.set("checked",!this.button.get("checked"));},_initButton:function(){var _fe3=i18n.getLocalization("dijit._editor","commands"),_fe4=this.editor;this.button=new _fe0({label:_fe3["fullScreen"],ownerDocument:_fe4.ownerDocument,dir:_fe4.dir,lang:_fe4.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"FullScreen",tabIndex:"-1",onChange:lang.hitch(this,"_setFullScreen")});},setEditor:function(_fe5){this.editor=_fe5;this._initButton();this.editor.addKeyHandler(keys.F11,true,true,lang.hitch(this,function(e){this.toggle();e.stopPropagation();e.preventDefault();this.editor.defer("focus",250);return true;}));this.own(on(this.editor.domNode,"keydown",lang.hitch(this,"_containFocus")));},_containFocus:function(e){if(this.isFullscreen){var ed=this.editor;if(!ed.isTabIndent&&ed._fullscreen_oldOnKeyDown&&e.keyCode===keys.TAB){var f=_fde.curNode;var avn=this._getAltViewNode();if(f==ed.iframe||(avn&&f===avn)){setTimeout(lang.hitch(this,function(){ed.toolbar.focus();}),10);}else{if(avn&&_fdc.get(ed.iframe,"display")==="none"){setTimeout(lang.hitch(this,function(){_fde.focus(avn);}),10);}else{setTimeout(lang.hitch(this,function(){ed.focus();}),10);}}event.stopPropagation();event.preventDefault();}else{if(ed._fullscreen_oldOnKeyDown){ed._fullscreen_oldOnKeyDown(e);}}}},_resizeEditor:function(){var vp=_fdd.getBox(this.editor.ownerDocument);_fdb.setMarginBox(this.editor.domNode,{w:vp.w,h:vp.h});var _fe6=this.editor.getHeaderHeight();var _fe7=this.editor.getFooterHeight();var _fe8=_fdb.getPadBorderExtents(this.editor.domNode);var _fe9=_fdb.getPadBorderExtents(this.editor.iframe.parentNode);var _fea=_fdb.getMarginExtents(this.editor.iframe.parentNode);var _feb=vp.h-(_fe6+_fe8.h+_fe7);_fdb.setMarginBox(this.editor.iframe.parentNode,{h:_feb,w:vp.w});_fdb.setMarginBox(this.editor.iframe,{h:_feb-(_fe9.h+_fea.h)});},_getAltViewNode:function(){},_setFullScreen:function(full){var ed=this.editor;var body=ed.ownerDocumentBody;var _fec=ed.domNode.parentNode;var vp=_fdd.getBox(ed.ownerDocument);this.isFullscreen=full;if(full){while(_fec&&_fec!==body){_fda.add(_fec,"dijitForceStatic");_fec=_fec.parentNode;}this._editorResizeHolder=this.editor.resize;ed.resize=function(){};ed._fullscreen_oldOnKeyDown=ed.onKeyDown;ed.onKeyDown=lang.hitch(this,this._containFocus);this._origState={};this._origiFrameState={};var _fed=ed.domNode,_fee=_fed&&_fed.style||{};this._origState={width:_fee.width||"",height:_fee.height||"",top:_fdc.get(_fed,"top")||"",left:_fdc.get(_fed,"left")||"",position:_fdc.get(_fed,"position")||"static",marginBox:_fdb.getMarginBox(ed.domNode)};var _fef=ed.iframe,_ff0=_fef&&_fef.style||{};var bc=_fdc.get(ed.iframe,"backgroundColor");this._origiFrameState={backgroundColor:bc||"transparent",width:_ff0.width||"auto",height:_ff0.height||"auto",zIndex:_ff0.zIndex||""};_fdc.set(ed.domNode,{position:"absolute",top:"0px",left:"0px",zIndex:this.zIndex,width:vp.w+"px",height:vp.h+"px"});_fdc.set(ed.iframe,{height:"100%",width:"100%",zIndex:this.zIndex,backgroundColor:bc!=="transparent"&&bc!=="rgba(0, 0, 0, 0)"?bc:"white"});_fdc.set(ed.iframe.parentNode,{height:"95%",width:"100%"});if(body.style&&body.style.overflow){this._oldOverflow=_fdc.get(body,"overflow");}else{this._oldOverflow="";}if(has("ie")&&!has("quirks")){if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){this._oldBodyParentOverflow=body.parentNode.style.overflow;}else{try{this._oldBodyParentOverflow=_fdc.get(body.parentNode,"overflow");}catch(e){this._oldBodyParentOverflow="scroll";}}_fdc.set(body.parentNode,"overflow","hidden");}_fdc.set(body,"overflow","hidden");var _ff1=function(){var vp=_fdd.getBox(ed.ownerDocument);if("_prevW" in this&&"_prevH" in this){if(vp.w===this._prevW&&vp.h===this._prevH){return;}}else{this._prevW=vp.w;this._prevH=vp.h;}if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}this._resizer=setTimeout(lang.hitch(this,function(){delete this._resizer;this._resizeEditor();}),10);};this._resizeHandle=on(window,"resize",lang.hitch(this,_ff1));this._resizeHandle2=_fd8.after(ed,"onResize",lang.hitch(this,function(){if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}this._resizer=setTimeout(lang.hitch(this,function(){delete this._resizer;this._resizeEditor();}),10);}));this._resizeEditor();var dn=this.editor.toolbar.domNode;setTimeout(function(){_fdd.scrollIntoView(dn);},250);}else{if(this._resizeHandle){this._resizeHandle.remove();this._resizeHandle=null;}if(this._resizeHandle2){this._resizeHandle2.remove();this._resizeHandle2=null;}if(this._rst){clearTimeout(this._rst);this._rst=null;}while(_fec&&_fec!==body){_fda.remove(_fec,"dijitForceStatic");_fec=_fec.parentNode;}if(this._editorResizeHolder){this.editor.resize=this._editorResizeHolder;}if(!this._origState&&!this._origiFrameState){return;}if(ed._fullscreen_oldOnKeyDown){ed.onKeyDown=ed._fullscreen_oldOnKeyDown;delete ed._fullscreen_oldOnKeyDown;}var self=this;setTimeout(function(){var mb=self._origState.marginBox;var oh=self._origState.height;if(has("ie")&&!has("quirks")){body.parentNode.style.overflow=self._oldBodyParentOverflow;delete self._oldBodyParentOverflow;}_fdc.set(body,"overflow",self._oldOverflow);delete self._oldOverflow;_fdc.set(ed.domNode,self._origState);_fdc.set(ed.iframe.parentNode,{height:"",width:""});_fdc.set(ed.iframe,self._origiFrameState);delete self._origState;delete self._origiFrameState;var _ff2=_fe1.getEnclosingWidget(ed.domNode.parentNode);if(_ff2&&_ff2.resize){_ff2.resize();}else{if(!oh||oh.indexOf("%")<0){setTimeout(lang.hitch(this,function(){ed.resize({h:mb.h});}),0);}}_fdd.scrollIntoView(self.editor.toolbar.domNode);},100);}},updateState:function(){this.button.set("disabled",this.get("disabled"));},destroy:function(){if(this._resizeHandle){this._resizeHandle.remove();this._resizeHandle=null;}if(this._resizeHandle2){this._resizeHandle2.remove();this._resizeHandle2=null;}if(this._resizer){clearTimeout(this._resizer);this._resizer=null;}this.inherited(arguments);}});_fdf.registry["fullScreen"]=_fdf.registry["fullscreen"]=function(args){return new _fe2({zIndex:("zIndex" in args)?args.zIndex:500});};return _fe2;});},"dijit/_editor/plugins/ViewSource":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/window","../../focus","../_Plugin","../../form/ToggleButton","../..","../../registry","dojo/i18n!../nls/commands"],function(_ff3,_ff4,_ff5,_ff6,_ff7,_ff8,_ff9,i18n,keys,lang,on,has,_ffa,_ffb,_ffc,_ffd,_ffe,_fff){var _1000=_ff5("dijit._editor.plugins.ViewSource",_ffc,{stripScripts:true,stripComments:true,stripIFrames:true,readOnly:false,_fsPlugin:null,toggle:function(){if(has("webkit")){this._vsFocused=true;}this.button.set("checked",!this.button.get("checked"));},_initButton:function(){var _1001=i18n.getLocalization("dijit._editor","commands"),_1002=this.editor;this.button=new _ffd({label:_1001["viewSource"],ownerDocument:_1002.ownerDocument,dir:_1002.dir,lang:_1002.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"ViewSource",tabIndex:"-1",onChange:lang.hitch(this,"_showSource")});if(has("ie")==7){this._ieFixNode=_ff7.create("div",{style:{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"}},_1002.ownerDocumentBody);}this.button.set("readOnly",false);},setEditor:function(_1003){this.editor=_1003;this._initButton();this.editor.addKeyHandler(keys.F12,true,true,lang.hitch(this,function(e){this.button.focus();this.toggle();e.stopPropagation();e.preventDefault();setTimeout(lang.hitch(this,function(){if(this.editor.focused){this.editor.focus();}}),100);}));},_showSource:function(_1004){var ed=this.editor;var _1005=ed._plugins;var html;this._sourceShown=_1004;var self=this;try{if(!this.sourceArea){this._createSourceView();}if(_1004){ed._sourceQueryCommandEnabled=ed.queryCommandEnabled;ed.queryCommandEnabled=function(cmd){return cmd.toLowerCase()==="viewsource";};this.editor.onDisplayChanged();html=ed.get("value");html=this._filter(html);ed.set("value",html);_ff3.forEach(_1005,function(p){if(p&&!(p instanceof _1000)&&p.isInstanceOf(_ffc)){p.set("disabled",true);}});if(this._fsPlugin){this._fsPlugin._getAltViewNode=function(){return self.sourceArea;};}this.sourceArea.value=html;this.sourceArea.style.height=ed.iframe.style.height;this.sourceArea.style.width=ed.iframe.style.width;_ff9.set(ed.iframe,"display","none");_ff9.set(this.sourceArea,{display:"block"});var _1006=function(){var vp=_ffa.getBox(ed.ownerDocument);if("_prevW" in this&&"_prevH" in this){if(vp.w===this._prevW&&vp.h===this._prevH){return;}else{this._prevW=vp.w;this._prevH=vp.h;}}else{this._prevW=vp.w;this._prevH=vp.h;}if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}this._resizer=setTimeout(lang.hitch(this,function(){delete this._resizer;this._resize();}),10);};this._resizeHandle=on(window,"resize",lang.hitch(this,_1006));setTimeout(lang.hitch(this,this._resize),100);this.editor.onNormalizedDisplayChanged();this.editor.__oldGetValue=this.editor.getValue;this.editor.getValue=lang.hitch(this,function(){var txt=this.sourceArea.value;txt=this._filter(txt);return txt;});this._setListener=_ff4.after(this.editor,"setValue",lang.hitch(this,function(_1007){_1007=_1007||"";_1007=this._filter(_1007);this.sourceArea.value=_1007;}),true);}else{if(!ed._sourceQueryCommandEnabled){return;}this._setListener.remove();delete this._setListener;this._resizeHandle.remove();delete this._resizeHandle;if(this.editor.__oldGetValue){this.editor.getValue=this.editor.__oldGetValue;delete this.editor.__oldGetValue;}ed.queryCommandEnabled=ed._sourceQueryCommandEnabled;if(!this._readOnly){html=this.sourceArea.value;html=this._filter(html);ed.beginEditing();ed.set("value",html);ed.endEditing();}_ff3.forEach(_1005,function(p){if(p&&p.isInstanceOf(_ffc)){p.set("disabled",false);}});_ff9.set(this.sourceArea,"display","none");_ff9.set(ed.iframe,"display","block");delete ed._sourceQueryCommandEnabled;this.editor.onDisplayChanged();}setTimeout(lang.hitch(this,function(){var _1008=ed.domNode.parentNode;if(_1008){var _1009=_fff.getEnclosingWidget(_1008);if(_1009&&_1009.resize){_1009.resize();}}ed.resize();}),300);}catch(e){}},updateState:function(){this.button.set("disabled",this.get("disabled"));},_resize:function(){var ed=this.editor;var tbH=ed.getHeaderHeight();var fH=ed.getFooterHeight();var eb=_ff8.position(ed.domNode);var _100a=_ff8.getPadBorderExtents(ed.iframe.parentNode);var _100b=_ff8.getMarginExtents(ed.iframe.parentNode);var _100c=_ff8.getPadBorderExtents(ed.domNode);var edb={w:eb.w-_100c.w,h:eb.h-(tbH+_100c.h+fH)};if(this._fsPlugin&&this._fsPlugin.isFullscreen){var vp=_ffa.getBox(ed.ownerDocument);edb.w=(vp.w-_100c.w);edb.h=(vp.h-(tbH+_100c.h+fH));}if(has("ie")){edb.h-=2;}if(this._ieFixNode){var _100d=-this._ieFixNode.offsetTop/1000;edb.w=Math.floor((edb.w+0.9)/_100d);edb.h=Math.floor((edb.h+0.9)/_100d);}_ff8.setMarginBox(this.sourceArea,{w:edb.w-(_100a.w+_100b.w),h:edb.h-(_100a.h+_100b.h)});_ff8.setMarginBox(ed.iframe.parentNode,{h:edb.h});},_createSourceView:function(){var ed=this.editor;var _100e=ed._plugins;this.sourceArea=_ff7.create("textarea");if(this.readOnly){_ff6.set(this.sourceArea,"readOnly",true);this._readOnly=true;}_ff9.set(this.sourceArea,{padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});_ff6.set(this.sourceArea,"aria-label",this.editor.id);_ff7.place(this.sourceArea,ed.iframe,"before");if(has("ie")&&ed.iframe.parentNode.lastChild!==ed.iframe){_ff9.set(ed.iframe.parentNode.lastChild,{width:"0px",height:"0px",padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});}ed._viewsource_oldFocus=ed.focus;var self=this;ed.focus=function(){if(self._sourceShown){self.setSourceAreaCaret();}else{try{if(this._vsFocused){delete this._vsFocused;_ffb.focus(ed.editNode);}else{ed._viewsource_oldFocus();}}catch(e){}}};var i,p;for(i=0;i<_100e.length;i++){p=_100e[i];if(p&&(p.declaredClass==="dijit._editor.plugins.FullScreen"||p.declaredClass===(_ffe._scopeName+"._editor.plugins.FullScreen"))){this._fsPlugin=p;break;}}if(this._fsPlugin){this._fsPlugin._viewsource_getAltViewNode=this._fsPlugin._getAltViewNode;this._fsPlugin._getAltViewNode=function(){return self._sourceShown?self.sourceArea:this._viewsource_getAltViewNode();};}this.own(on(this.sourceArea,"keydown",lang.hitch(this,function(e){if(this._sourceShown&&e.keyCode==keys.F12&&e.ctrlKey&&e.shiftKey){this.button.focus();this.button.set("checked",false);setTimeout(lang.hitch(this,function(){ed.focus();}),100);e.stopPropagation();e.preventDefault();}})));},_stripScripts:function(html){if(html){html=html.replace(/<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>/ig,"");html=html.replace(/<\s*script\b([^<>]|\s)*>?/ig,"");html=html.replace(/<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>/ig,"");}return html;},_stripComments:function(html){if(html){html=html.replace(/<!--(.|\s){1,}?-->/g,"");}return html;},_stripIFrames:function(html){if(html){html=html.replace(/<\s*iframe[^>]*>((.|\s)*?)<\\?\/\s*iframe\s*>/ig,"");}return html;},_filter:function(html){if(html){if(this.stripScripts){html=this._stripScripts(html);}if(this.stripComments){html=this._stripComments(html);}if(this.stripIFrames){html=this._stripIFrames(html);}}return html;},setSourceAreaCaret:function(){var elem=this.sourceArea;_ffb.focus(elem);if(this._sourceShown&&!this.readOnly){if(elem.setSelectionRange){elem.setSelectionRange(0,0);}else{if(this.sourceArea.createTextRange){var range=elem.createTextRange();range.collapse(true);range.moveStart("character",-99999);range.moveStart("character",0);range.moveEnd("character",0);range.select();}}}},destroy:function(){if(this._ieFixNode){_ff7.destroy(this._ieFixNode);}if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}if(this._resizeHandle){this._resizeHandle.remove();delete this._resizeHandle;}if(this._setListener){this._setListener.remove();delete this._setListener;}this.inherited(arguments);}});_ffc.registry["viewSource"]=_ffc.registry["viewsource"]=function(args){return new _1000({readOnly:("readOnly" in args)?args.readOnly:false,stripComments:("stripComments" in args)?args.stripComments:true,stripScripts:("stripScripts" in args)?args.stripScripts:true,stripIFrames:("stripIFrames" in args)?args.stripIFrames:true});};return _1000;});},"dojox/editor/plugins/InsertEntity":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/TooltipDialog","dijit/form/DropDownButton","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojox/html/entities","dojox/editor/plugins/EntityPalette","dojo/i18n!dojox/editor/plugins/nls/InsertEntity"],function(dojo,dijit,dojox,_100f){var _1010=dojo.declare("dojox.editor.plugins.InsertEntity",_100f,{iconClassPrefix:"dijitAdditionalEditorIcon",_initButton:function(){this.dropDown=new dojox.editor.plugins.EntityPalette({showCode:this.showCode,showEntityName:this.showEntityName});this.connect(this.dropDown,"onChange",function(_1011){this.button.closeDropDown();this.editor.focus();this.editor.execCommand("inserthtml",_1011);});var _1012=dojo.i18n.getLocalization("dojox.editor.plugins","InsertEntity");this.button=new dijit.form.DropDownButton({label:_1012["insertEntity"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"InsertEntity",tabIndex:"-1",dropDown:this.dropDown});},updateState:function(){this.button.set("disabled",this.get("disabled"));},setEditor:function(_1013){this.editor=_1013;this._initButton();this.editor.addKeyHandler("s",true,true,dojo.hitch(this,function(){this.button.openDropDown();this.dropDown.focus();}));_1013.contentPreFilters.push(this._preFilterEntities);_1013.contentPostFilters.push(this._postFilterEntities);},_preFilterEntities:function(s){return dojox.html.entities.decode(s,dojox.html.entities.latin);},_postFilterEntities:function(s){return dojox.html.entities.encode(s,dojox.html.entities.latin);}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name?o.args.name.toLowerCase():"";if(name==="insertentity"){o.plugin=new _1010({showCode:("showCode" in o.args)?o.args.showCode:false,showEntityName:("showEntityName" in o.args)?o.args.showEntityName:false});}});return _1010;});},"dojox/html/entities":function(){define(["dojo/_base/lang"],function(lang){var dhe=lang.getObject("dojox.html.entities",true);var _1014=function(str,map){var _1015,_1016;if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){_1015=map._encCache.mapper;_1016=map._encCache.regexp;}else{_1015={};_1016=["["];var i;for(i=0;i<map.length;i++){_1015[map[i][0]]="&"+map[i][1]+";";_1016.push(map[i][0]);}_1016.push("]");_1016=new RegExp(_1016.join(""),"g");map._encCache={mapper:_1015,regexp:_1016,length:map.length};}str=str.replace(_1016,function(c){return _1015[c];});return str;};var _1017=function(str,map){var _1018,_1019;if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){_1018=map._decCache.mapper;_1019=map._decCache.regexp;}else{_1018={};_1019=["("];var i;for(i=0;i<map.length;i++){var e="&"+map[i][1]+";";if(i){_1019.push("|");}_1018[e]=map[i][0];_1019.push(e);}_1019.push(")");_1019=new RegExp(_1019.join(""),"g");map._decCache={mapper:_1018,regexp:_1019,length:map.length};}str=str.replace(_1019,function(c){return _1018[c];});return str;};dhe.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],[" ","nbsp"]];dhe.latin=[["¡","iexcl"],["¢","cent"],["£","pound"],["€","euro"],["¤","curren"],["¥","yen"],["¦","brvbar"],["§","sect"],["¨","uml"],["©","copy"],["ª","ordf"],["«","laquo"],["¬","not"],["­","shy"],["®","reg"],["¯","macr"],["°","deg"],["±","plusmn"],["²","sup2"],["³","sup3"],["´","acute"],["µ","micro"],["¶","para"],["·","middot"],["¸","cedil"],["¹","sup1"],["º","ordm"],["»","raquo"],["¼","frac14"],["½","frac12"],["¾","frac34"],["¿","iquest"],["À","Agrave"],["Á","Aacute"],["Â","Acirc"],["Ã","Atilde"],["Ä","Auml"],["Å","Aring"],["Æ","AElig"],["Ç","Ccedil"],["È","Egrave"],["É","Eacute"],["Ê","Ecirc"],["Ë","Euml"],["Ì","Igrave"],["Í","Iacute"],["Î","Icirc"],["Ï","Iuml"],["Ð","ETH"],["Ñ","Ntilde"],["Ò","Ograve"],["Ó","Oacute"],["Ô","Ocirc"],["Õ","Otilde"],["Ö","Ouml"],["×","times"],["Ø","Oslash"],["Ù","Ugrave"],["Ú","Uacute"],["Û","Ucirc"],["Ü","Uuml"],["Ý","Yacute"],["Þ","THORN"],["ß","szlig"],["à","agrave"],["á","aacute"],["â","acirc"],["ã","atilde"],["ä","auml"],["å","aring"],["æ","aelig"],["ç","ccedil"],["è","egrave"],["é","eacute"],["ê","ecirc"],["ë","euml"],["ì","igrave"],["í","iacute"],["î","icirc"],["ï","iuml"],["ð","eth"],["ñ","ntilde"],["ò","ograve"],["ó","oacute"],["ô","ocirc"],["õ","otilde"],["ö","ouml"],["÷","divide"],["ø","oslash"],["ù","ugrave"],["ú","uacute"],["û","ucirc"],["ü","uuml"],["ý","yacute"],["þ","thorn"],["ÿ","yuml"],["ƒ","fnof"],["Α","Alpha"],["Β","Beta"],["Γ","Gamma"],["Δ","Delta"],["Ε","Epsilon"],["Ζ","Zeta"],["Η","Eta"],["Θ","Theta"],["Ι","Iota"],["Κ","Kappa"],["Λ","Lambda"],["Μ","Mu"],["Ν","Nu"],["Ξ","Xi"],["Ο","Omicron"],["Π","Pi"],["Ρ","Rho"],["Σ","Sigma"],["Τ","Tau"],["Υ","Upsilon"],["Φ","Phi"],["Χ","Chi"],["Ψ","Psi"],["Ω","Omega"],["α","alpha"],["β","beta"],["γ","gamma"],["δ","delta"],["ε","epsilon"],["ζ","zeta"],["η","eta"],["θ","theta"],["ι","iota"],["κ","kappa"],["λ","lambda"],["μ","mu"],["ν","nu"],["ξ","xi"],["ο","omicron"],["π","pi"],["ρ","rho"],["ς","sigmaf"],["σ","sigma"],["τ","tau"],["υ","upsilon"],["φ","phi"],["χ","chi"],["ψ","psi"],["ω","omega"],["ϑ","thetasym"],["ϒ","upsih"],["ϖ","piv"],["•","bull"],["…","hellip"],["′","prime"],["″","Prime"],["‾","oline"],["⁄","frasl"],["℘","weierp"],["ℑ","image"],["ℜ","real"],["™","trade"],["ℵ","alefsym"],["←","larr"],["↑","uarr"],["→","rarr"],["↓","darr"],["↔","harr"],["↵","crarr"],["⇐","lArr"],["⇑","uArr"],["⇒","rArr"],["⇓","dArr"],["⇔","hArr"],["∀","forall"],["∂","part"],["∃","exist"],["∅","empty"],["∇","nabla"],["∈","isin"],["∉","notin"],["∋","ni"],["∏","prod"],["∑","sum"],["−","minus"],["∗","lowast"],["√","radic"],["∝","prop"],["∞","infin"],["∠","ang"],["∧","and"],["∨","or"],["∩","cap"],["∪","cup"],["∫","int"],["∴","there4"],["∼","sim"],["≅","cong"],["≈","asymp"],["≠","ne"],["≡","equiv"],["≤","le"],["≥","ge"],["⊂","sub"],["⊃","sup"],["⊄","nsub"],["⊆","sube"],["⊇","supe"],["⊕","oplus"],["⊗","otimes"],["⊥","perp"],["⋅","sdot"],["⌈","lceil"],["⌉","rceil"],["⌊","lfloor"],["⌋","rfloor"],["〈","lang"],["〉","rang"],["◊","loz"],["♠","spades"],["♣","clubs"],["♥","hearts"],["♦","diams"],["Œ","OElig"],["œ","oelig"],["Š","Scaron"],["š","scaron"],["Ÿ","Yuml"],["ˆ","circ"],["˜","tilde"],[" ","ensp"],[" ","emsp"],[" ","thinsp"],["‌","zwnj"],["‍","zwj"],["‎","lrm"],["‏","rlm"],["–","ndash"],["—","mdash"],["‘","lsquo"],["’","rsquo"],["‚","sbquo"],["“","ldquo"],["”","rdquo"],["„","bdquo"],["†","dagger"],["‡","Dagger"],["‰","permil"],["‹","lsaquo"],["›","rsaquo"]];dhe.encode=function(str,m){if(str){if(!m){str=_1014(str,dhe.html);str=_1014(str,dhe.latin);}else{str=_1014(str,m);}}return str;};dhe.decode=function(str,m){if(str){if(!m){str=_1017(str,dhe.html);str=_1017(str,dhe.latin);}else{str=_1017(str,m);}}return str;};return dhe;});},"dojox/editor/plugins/EntityPalette":function(){define(["dojo","dijit","dojox","dijit/_Widget","dijit/_TemplatedMixin","dijit/_PaletteMixin","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/i18n!dojox/editor/plugins/nls/latinEntities"],function(dojo,dijit,dojox,_101a,_101b,_101c){dojo.experimental("dojox.editor.plugins.EntityPalette");var _101d=dojo.declare("dojox.editor.plugins.EntityPalette",[_101a,_101b,_101c],{templateString:"<div class=\"dojoxEntityPalette\">\n"+"\t<table>\n"+"\t\t<tbody>\n"+"\t\t\t<tr>\n"+"\t\t\t\t<td>\n"+"\t\t\t\t\t<table class=\"dijitPaletteTable\">\n"+"\t\t\t\t\t\t<tbody dojoAttachPoint=\"gridNode\"></tbody>\n"+"\t\t\t\t   </table>\n"+"\t\t\t\t</td>\n"+"\t\t\t</tr>\n"+"\t\t\t<tr>\n"+"\t\t\t\t<td>\n"+"\t\t\t\t\t<table dojoAttachPoint=\"previewPane\" class=\"dojoxEntityPalettePreviewTable\">\n"+"\t\t\t\t\t\t<tbody>\n"+"\t\t\t\t\t\t\t<tr>\n"+"\t\t\t\t\t\t\t\t<th class=\"dojoxEntityPalettePreviewHeader\">Preview</th>\n"+"\t\t\t\t\t\t\t\t<th class=\"dojoxEntityPalettePreviewHeader\" dojoAttachPoint=\"codeHeader\">Code</th>\n"+"\t\t\t\t\t\t\t\t<th class=\"dojoxEntityPalettePreviewHeader\" dojoAttachPoint=\"entityHeader\">Name</th>\n"+"\t\t\t\t\t\t\t\t<th class=\"dojoxEntityPalettePreviewHeader\">Description</th>\n"+"\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t<tr>\n"+"\t\t\t\t\t\t\t\t<td class=\"dojoxEntityPalettePreviewDetailEntity\" dojoAttachPoint=\"previewNode\"></td>\n"+"\t\t\t\t\t\t\t\t<td class=\"dojoxEntityPalettePreviewDetail\" dojoAttachPoint=\"codeNode\"></td>\n"+"\t\t\t\t\t\t\t\t<td class=\"dojoxEntityPalettePreviewDetail\" dojoAttachPoint=\"entityNode\"></td>\n"+"\t\t\t\t\t\t\t\t<td class=\"dojoxEntityPalettePreviewDetail\" dojoAttachPoint=\"descNode\"></td>\n"+"\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t</tbody>\n"+"\t\t\t\t\t</table>\n"+"\t\t\t\t</td>\n"+"\t\t\t</tr>\n"+"\t\t</tbody>\n"+"\t</table>\n"+"</div>",baseClass:"dojoxEntityPalette",showPreview:true,showCode:false,showEntityName:false,palette:"latin",dyeClass:"dojox.editor.plugins.LatinEntity",paletteClass:"editorLatinEntityPalette",cellClass:"dojoxEntityPaletteCell",postMixInProperties:function(){var _101e=dojo.i18n.getLocalization("dojox.editor.plugins","latinEntities");var _101f=0;var _1020;for(_1020 in _101e){_101f++;}var _1021=Math.floor(Math.sqrt(_101f));var _1022=_1021;var _1023=0;var rows=[];var row=[];for(_1020 in _101e){_1023++;row.push(_1020);if(_1023%_1022===0){rows.push(row);row=[];}}if(row.length>0){rows.push(row);}this._palette=rows;},buildRendering:function(){this.inherited(arguments);var i18n=dojo.i18n.getLocalization("dojox.editor.plugins","latinEntities");this._preparePalette(this._palette,i18n);var cells=dojo.query(".dojoxEntityPaletteCell",this.gridNode);dojo.forEach(cells,function(_1024){this.connect(_1024,"onmouseenter","_onCellMouseEnter");},this);},_onCellMouseEnter:function(e){this._displayDetails(e.target);},postCreate:function(){this.inherited(arguments);dojo.style(this.codeHeader,"display",this.showCode?"":"none");dojo.style(this.codeNode,"display",this.showCode?"":"none");dojo.style(this.entityHeader,"display",this.showEntityName?"":"none");dojo.style(this.entityNode,"display",this.showEntityName?"":"none");if(!this.showPreview){dojo.style(this.previewNode,"display","none");}},_setCurrent:function(node){this.inherited(arguments);if(this.showPreview){this._displayDetails(node);}},_displayDetails:function(cell){var dye=this._getDye(cell);if(dye){var ehtml=dye.getValue();var ename=dye._alias;this.previewNode.innerHTML=ehtml;this.codeNode.innerHTML="&amp;#"+parseInt(ehtml.charCodeAt(0),10)+";";this.entityNode.innerHTML="&amp;"+ename+";";var i18n=dojo.i18n.getLocalization("dojox.editor.plugins","latinEntities");this.descNode.innerHTML=i18n[ename].replace("\n","<br>");}else{this.previewNode.innerHTML="";this.codeNode.innerHTML="";this.entityNode.innerHTML="";this.descNode.innerHTML="";}}});_101d.LatinEntity=dojo.declare("dojox.editor.plugins.LatinEntity",null,{constructor:function(alias){this._alias=alias;},getValue:function(){return "&"+this._alias+";";},fillCell:function(cell){cell.innerHTML=this.getValue();}});return _101d;});},"dijit/_PaletteMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","./_CssStateMixin","./a11yclick","./focus","./typematic"],function(_1025,_1026,_1027,_1028,keys,lang,on,_1029,_102a,focus,_102b){var _102c=_1025("dijit._PaletteMixin",_1029,{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(value){var _102d=typeof this.dyeClass=="string"?lang.getObject(this.dyeClass):this.dyeClass;return new _102d(value);},_preparePalette:function(_102e,_102f){this._cells=[];var url=this._blankGif;this.own(on(this.gridNode,_102a,lang.hitch(this,"_onCellClick")));for(var row=0;row<_102e.length;row++){var _1030=_1028.create("tr",{tabIndex:"-1",role:"row"},this.gridNode);for(var col=0;col<_102e[row].length;col++){var value=_102e[row][col];if(value){var _1031=this._dyeFactory(value,row,col,_102f[value]);var _1032=_1028.create("td",{"class":this.cellClass,tabIndex:"-1",title:_102f[value],role:"gridcell"},_1030);_1031.fillCell(_1032,url);_1032.idx=this._cells.length;this._cells.push({node:_1032,dye:_1031});}}}this._xDim=_102e[0].length;this._yDim=_102e.length;var _1033={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1};for(var key in _1033){this.own(_102b.addKeyListener(this.domNode,{keyCode:keys[key],ctrlKey:false,altKey:false,shiftKey:false},this,function(){var _1034=_1033[key];return function(count){this._navigateByKey(_1034,count);};}(),this.timeoutChangeRate,this.defaultTimeout));}},postCreate:function(){this.inherited(arguments);this._setCurrent(this._cells[0].node);},focus:function(){focus.focus(this._currentFocus);},_onCellClick:function(evt){var _1035=evt.target;while(_1035.tagName!="TD"){if(!_1035.parentNode||_1035==this.gridNode){return;}_1035=_1035.parentNode;}var value=this._getDye(_1035).getValue();this._setCurrent(_1035);focus.focus(_1035);this._setValueAttr(value,true);evt.stopPropagation();evt.preventDefault();},_setCurrent:function(node){if("_currentFocus" in this){_1026.set(this._currentFocus,"tabIndex","-1");}this._currentFocus=node;if(node){_1026.set(node,"tabIndex",this.tabIndex);}},_setValueAttr:function(value,_1036){if(this._selectedCell>=0){_1027.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected");}this._selectedCell=-1;if(value){for(var i=0;i<this._cells.length;i++){if(value==this._cells[i].dye.getValue()){this._selectedCell=i;_1027.add(this._cells[i].node,this.cellClass+"Selected");break;}}}this._set("value",this._selectedCell>=0?value:null);if(_1036||_1036===undefined){this.onChange(value);}},onChange:function(){},_navigateByKey:function(_1037,_1038){if(_1038==-1){return;}var _1039=this._currentFocus.idx+_1037;if(_1039<this._cells.length&&_1039>-1){var _103a=this._cells[_1039].node;this._setCurrent(_103a);this.defer(lang.hitch(focus,"focus",_103a));}},_getDye:function(cell){return this._cells[cell.idx].dye;}});return _102c;});},"dojox/editor/plugins/TablePlugins":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/Color","dojo/aspect","dojo/dom-attr","dojo/dom-style","dijit/_editor/_Plugin","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Dialog","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/ColorPalette","dojox/widget/ColorPicker","dojo/text!./resources/insertTable.html","dojo/text!./resources/modifyTable.html","dojo/i18n!./nls/TableDialog","dijit/_base/popup","dijit/popup","dojo/_base/connect","dijit/TooltipDialog","dijit/form/Button","dijit/form/DropDownButton","dijit/form/TextBox","dijit/form/FilteringSelect"],function(_103b,array,Color,_103c,_103d,_103e,_103f,_1040,_1041,_1042,_1043,Menu,_1044,_1045,_1046,_1047,_1048,_1049,_104a){dojo.experimental("dojox.editor.plugins.TablePlugins");var _104b=_103b(_103f,{tablesConnected:false,currentlyAvailable:false,alwaysAvailable:false,availableCurrentlySet:false,initialized:false,tableData:null,shiftKeyDown:false,editorDomNode:null,undoEnabled:true,refCount:0,doMixins:function(){dojo.mixin(this.editor,{getAncestorElement:function(_104c){return this._sCall("getAncestorElement",[_104c]);},hasAncestorElement:function(_104d){return this._sCall("hasAncestorElement",[_104d]);},selectElement:function(elem){this._sCall("selectElement",[elem]);},byId:function(id){return dojo.byId(id,this.document);},query:function(arg,scope,_104e){var ar=dojo.query(arg,scope||this.document);return (_104e)?ar[0]:ar;}});},initialize:function(_104f){this.refCount++;_104f.customUndo=true;if(this.initialized){return;}this.initialized=true;this.editor=_104f;this.editor._tablePluginHandler=this;_104f.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.editorDomNode=this.editor.editNode||this.editor.iframe.document.body.firstChild;this._myListeners=[dojo.connect(this.editorDomNode,"mouseup",this.editor,"onClick"),dojo.connect(this.editor,"onDisplayChanged",this,"checkAvailable"),dojo.connect(this.editor,"onBlur",this,"checkAvailable"),dojo.connect(this.editor,"_saveSelection",this,function(){this._savedTableInfo=this.getTableInfo();}),dojo.connect(this.editor,"_restoreSelection",this,function(){delete this._savedTableInfo;})];this.doMixins();this.connectDraggable();}));},getTableInfo:function(_1050){if(this._savedTableInfo){return this._savedTableInfo;}if(_1050){this._tempStoreTableData(false);}if(this.tableData){return this.tableData;}var tr,trs,td,tds,tbl,cols,_1051,_1052,o;td=this.editor.getAncestorElement("td");if(td){tr=td.parentNode;}tbl=this.editor.getAncestorElement("table");if(tbl){tds=dojo.query("td",tbl);tds.forEach(function(d,i){if(td==d){_1051=i;}});trs=dojo.query("tr",tbl);trs.forEach(function(r,i){if(tr==r){_1052=i;}});cols=tds.length/trs.length;o={tbl:tbl,td:td,tr:tr,trs:trs,tds:tds,rows:trs.length,cols:cols,tdIndex:_1051,trIndex:_1052,colIndex:_1051%cols};}else{o={};}this.tableData=o;this._tempStoreTableData(500);return this.tableData;},connectDraggable:function(){if(!dojo.isIE){return;}this.editorDomNode.ondragstart=dojo.hitch(this,"onDragStart");this.editorDomNode.ondragend=dojo.hitch(this,"onDragEnd");},onDragStart:function(){var e=window.event;if(!e.srcElement.id){e.srcElement.id="tbl_"+(new Date().getTime());}},onDragEnd:function(){var e=window.event;var node=e.srcElement;var id=node.id;var doc=this.editor.document;if(node.tagName.toLowerCase()=="table"){setTimeout(function(){var node=dojo.byId(id,doc);dojo.removeAttr(node,"align");},100);}},checkAvailable:function(){if(this.availableCurrentlySet){return this.currentlyAvailable;}if(!this.editor){return false;}if(this.alwaysAvailable){return true;}this.currentlyAvailable=this.editor.focused&&(this._savedTableInfo?this._savedTableInfo.tbl:this.editor.hasAncestorElement("table"));if(this.currentlyAvailable){this.connectTableKeys();}else{this.disconnectTableKeys();}this._tempAvailability(500);dojo.publish(this.editor.id+"_tablePlugins",[this.currentlyAvailable]);return this.currentlyAvailable;},_prepareTable:function(tbl){var tds=this.editor.query("td",tbl);if(!tds[0].id){tds.forEach(function(td,i){if(!td.id){td.id="tdid"+i+this.getTimeStamp();}},this);}return tds;},getTimeStamp:function(){return new Date().getTime();},_tempStoreTableData:function(type){if(type===true){}else{if(type===false){this.tableData=null;}else{if(type===undefined){console.warn("_tempStoreTableData must be passed an argument");}else{setTimeout(dojo.hitch(this,function(){this.tableData=null;}),type);}}}},_tempAvailability:function(type){if(type===true){this.availableCurrentlySet=true;}else{if(type===false){this.availableCurrentlySet=false;}else{if(type===undefined){console.warn("_tempAvailability must be passed an argument");}else{this.availableCurrentlySet=true;setTimeout(dojo.hitch(this,function(){this.availableCurrentlySet=false;}),type);}}}},connectTableKeys:function(){if(this.tablesConnected){return;}this.tablesConnected=true;var node=(this.editor.iframe)?this.editor.document:this.editor.editNode;this.cnKeyDn=dojo.connect(node,"onkeydown",this,"onKeyDown");this.cnKeyUp=dojo.connect(node,"onkeyup",this,"onKeyUp");this._myListeners.push(dojo.connect(node,"onkeypress",this,"onKeyUp"));},disconnectTableKeys:function(){dojo.disconnect(this.cnKeyDn);dojo.disconnect(this.cnKeyUp);this.tablesConnected=false;},onKeyDown:function(evt){var key=evt.keyCode;if(key==16){this.shiftKeyDown=true;}if(key==9){var o=this.getTableInfo();o.tdIndex=(this.shiftKeyDown)?o.tdIndex-1:tabTo=o.tdIndex+1;if(o.tdIndex>=0&&o.tdIndex<o.tds.length){this.editor.selectElement(o.tds[o.tdIndex]);this.currentlyAvailable=true;this._tempAvailability(true);this._tempStoreTableData(true);this.stopEvent=true;}else{this.stopEvent=false;this.onDisplayChanged();}if(this.stopEvent){dojo.stopEvent(evt);}}},onKeyUp:function(evt){var key=evt.keyCode;if(key==16){this.shiftKeyDown=false;}if(key==37||key==38||key==39||key==40){this.onDisplayChanged();}if(key==9&&this.stopEvent){dojo.stopEvent(evt);}},onDisplayChanged:function(){this.currentlyAvailable=false;this._tempStoreTableData(false);this._tempAvailability(false);this.checkAvailable();},uninitialize:function(_1053){if(this.editor==_1053){this.refCount--;if(!this.refCount&&this.initialized){if(this.tablesConnected){this.disconnectTableKeys();}this.initialized=false;dojo.forEach(this._myListeners,function(l){dojo.disconnect(l);});delete this._myListeners;delete this.editor._tablePluginHandler;delete this.editor;}this.inherited(arguments);}}});var _1054=_103b("dojox.editor.plugins.TablePlugins",_103f,{iconClassPrefix:"editorIcon",useDefaultCommand:false,buttonClass:dijit.form.Button,commandName:"",label:"",alwaysAvailable:false,undoEnabled:true,onDisplayChanged:function(_1055){if(!this.alwaysAvailable){this.available=_1055;this.button.set("disabled",!this.available);}},setEditor:function(_1056){this.editor=_1056;this.editor.customUndo=true;this.inherited(arguments);this._availableTopic=dojo.subscribe(this.editor.id+"_tablePlugins",this,"onDisplayChanged");this.onEditorLoaded();},onEditorLoaded:function(){if(!this.editor._tablePluginHandler){var _1057=new _104b();_1057.initialize(this.editor);}else{this.editor._tablePluginHandler.initialize(this.editor);}},selectTable:function(){var o=this.getTableInfo();if(o&&o.tbl){this.editor._sCall("selectElement",[o.tbl]);}},_initButton:function(){this.command=this.name;this.label=this.editor.commands[this.command]=this._makeTitle(this.command);this.inherited(arguments);delete this.command;this.connect(this.button,"onClick","modTable");this.onDisplayChanged(false);},modTable:function(cmd,args){if(dojo.isIE){this.editor.focus();}this.begEdit();var o=this.getTableInfo();var sw=(dojo.isString(cmd))?cmd:this.name;var r,c,i;var _1058=false;switch(sw){case "insertTableRowBefore":r=o.tbl.insertRow(o.trIndex);for(i=0;i<o.cols;i++){c=r.insertCell(-1);c.innerHTML="&nbsp;";}break;case "insertTableRowAfter":r=o.tbl.insertRow(o.trIndex+1);for(i=0;i<o.cols;i++){c=r.insertCell(-1);c.innerHTML="&nbsp;";}break;case "insertTableColumnBefore":o.trs.forEach(function(r){c=r.insertCell(o.colIndex);c.innerHTML="&nbsp;";});_1058=true;break;case "insertTableColumnAfter":o.trs.forEach(function(r){c=r.insertCell(o.colIndex+1);c.innerHTML="&nbsp;";});_1058=true;break;case "deleteTableRow":o.tbl.deleteRow(o.trIndex);break;case "deleteTableColumn":o.trs.forEach(function(tr){tr.deleteCell(o.colIndex);});_1058=true;break;case "modifyTable":break;case "insertTable":break;}if(_1058){this.makeColumnsEven();}this.endEdit();},begEdit:function(){if(this.editor._tablePluginHandler.undoEnabled){if(this.editor.customUndo){this.editor.beginEditing();}else{this.valBeforeUndo=this.editor.getValue();}}},endEdit:function(){if(this.editor._tablePluginHandler.undoEnabled){if(this.editor.customUndo){this.editor.endEditing();}else{var _1059=this.editor.getValue();this.editor.setValue(this.valBeforeUndo);this.editor.replaceValue(_1059);}this.editor.onDisplayChanged();}},makeColumnsEven:function(){setTimeout(dojo.hitch(this,function(){var o=this.getTableInfo(true);var w=Math.floor(100/o.cols);o.tds.forEach(function(d){dojo.attr(d,"width",w+"%");});}),10);},getTableInfo:function(_105a){return this.editor._tablePluginHandler.getTableInfo(_105a);},_makeTitle:function(str){this._strings=dojo.i18n.getLocalization("dojox.editor.plugins","TableDialog");var title=this._strings[str+"Title"]||this._strings[str+"Label"]||str;return title;},getSelectedCells:function(){var cells=[];var tbl=this.getTableInfo().tbl;this.editor._tablePluginHandler._prepareTable(tbl);var e=this.editor;var text=e._sCall("getSelectedHtml",[null]);var str=text.match(/id="*\w*"*/g);dojo.forEach(str,function(a){var id=a.substring(3,a.length);if(id.charAt(0)=="\""&&id.charAt(id.length-1)=="\""){id=id.substring(1,id.length-1);}var node=e.byId(id);if(node&&node.tagName.toLowerCase()=="td"){cells.push(node);}},this);if(!cells.length){var sel=dijit.range.getSelection(e.window);if(sel.rangeCount){var r=sel.getRangeAt(0);var node=r.startContainer;while(node&&node!=e.editNode&&node!=e.document){if(node.nodeType===1){var tg=node.tagName?node.tagName.toLowerCase():"";if(tg==="td"){return [node];}}node=node.parentNode;}}}return cells;},updateState:function(){if(this.button){if((this.available||this.alwaysAvailable)&&!this.get("disabled")){this.button.set("disabled",false);}else{this.button.set("disabled",true);}}},destroy:function(){this.inherited(arguments);dojo.unsubscribe(this._availableTopic);this.editor._tablePluginHandler.uninitialize(this.editor);}});var _105b=_103b(_1054,{constructor:function(){this.connect(this,"setEditor",function(_105c){_105c.onLoadDeferred.addCallback(dojo.hitch(this,function(){this._createContextMenu();}));this.button.domNode.style.display="none";});},destroy:function(){if(this.menu){this.menu.destroyRecursive();delete this.menu;}this.inherited(arguments);},_initButton:function(){this.inherited(arguments);if(this.name==="tableContextMenu"){this.button.domNode.display="none";}},_createContextMenu:function(){var pMenu=new Menu({targetNodeIds:[this.editor.iframe]});var _105d=_104a;pMenu.addChild(new _1044({label:_105d.selectTableLabel,onClick:dojo.hitch(this,"selectTable")}));pMenu.addChild(new _1045());pMenu.addChild(new _1044({label:_105d.insertTableRowBeforeLabel,onClick:dojo.hitch(this,"modTable","insertTableRowBefore")}));pMenu.addChild(new _1044({label:_105d.insertTableRowAfterLabel,onClick:dojo.hitch(this,"modTable","insertTableRowAfter")}));pMenu.addChild(new _1044({label:_105d.insertTableColumnBeforeLabel,onClick:dojo.hitch(this,"modTable","insertTableColumnBefore")}));pMenu.addChild(new _1044({label:_105d.insertTableColumnAfterLabel,onClick:dojo.hitch(this,"modTable","insertTableColumnAfter")}));pMenu.addChild(new _1045());pMenu.addChild(new _1044({label:_105d.deleteTableRowLabel,onClick:dojo.hitch(this,"modTable","deleteTableRow")}));pMenu.addChild(new _1044({label:_105d.deleteTableColumnLabel,onClick:dojo.hitch(this,"modTable","deleteTableColumn")}));this.menu=pMenu;}});var _105e=_103b("dojox.editor.plugins.EditorTableDialog",[_1043,_1041,_1042],{baseClass:"EditorTableDialog",templateString:_1048,postMixInProperties:function(){dojo.mixin(this,_104a);this.inherited(arguments);},postCreate:function(){dojo.addClass(this.domNode,this.baseClass);this.inherited(arguments);},onInsert:function(){var rows=this.selectRow.get("value")||1,cols=this.selectCol.get("value")||1,width=this.selectWidth.get("value"),_105f=this.selectWidthType.get("value"),_1060=this.selectBorder.get("value"),pad=this.selectPad.get("value"),space=this.selectSpace.get("value"),_1061="tbl_"+(new Date().getTime()),t="<table id=\""+_1061+"\"width=\""+width+((_105f=="percent")?"%":"")+"\" border=\""+_1060+"\" cellspacing=\""+space+"\" cellpadding=\""+pad+"\">\n";for(var r=0;r<rows;r++){t+="\t<tr>\n";for(var c=0;c<cols;c++){t+="\t\t<td width=\""+(Math.floor(100/cols))+"%\">&nbsp;</td>\n";}t+="\t</tr>\n";}t+="</table><br />";var cl=dojo.connect(this,"onHide",function(){dojo.disconnect(cl);var self=this;setTimeout(function(){self.destroyRecursive();},10);});this.hide();this.onBuildTable({htmlText:t,id:_1061});},onCancel:function(){var c=dojo.connect(this,"onHide",function(){dojo.disconnect(c);var self=this;setTimeout(function(){self.destroyRecursive();},10);});},onBuildTable:function(_1062){}});var _1063=_103b("dojox.editor.plugins.InsertTable",_1054,{alwaysAvailable:true,modTable:function(){var w=new _105e({});w.show();var c=dojo.connect(w,"onBuildTable",this,function(obj){dojo.disconnect(c);this.editor.focus();var res=this.editor.execCommand("inserthtml",obj.htmlText);});}});var _1064=_103b([_1043,_1041,_1042],{baseClass:"EditorTableDialog",table:null,tableAtts:{},templateString:_1049,postMixInProperties:function(){dojo.mixin(this,_104a);this.inherited(arguments);},postCreate:function(){dojo.addClass(this.domNode,this.baseClass);this.inherited(arguments);var w1=new this.colorPicker({params:this.params});this.connect(w1,"onChange",function(color){if(!this._started){return;}dijit.popup.close(w1);this.setBrdColor(color);});this.connect(w1,"onBlur",function(){dijit.popup.close(w1);});this.connect(this.borderCol,"click",function(){w1.set("value",this.brdColor,false);dijit.popup.open({popup:w1,around:this.borderCol});w1.focus();});var w2=new this.colorPicker({params:this.params});this.connect(w2,"onChange",function(color){if(!this._started){return;}dijit.popup.close(w2);this.setBkColor(color);});this.connect(w2,"onBlur",function(){dijit.popup.close(w2);});this.connect(this.backgroundCol,"click",function(){w2.set("value",this.bkColor,false);dijit.popup.open({popup:w2,around:this.backgroundCol});w2.focus();});this.own(w1,w2);this.pickers=[w1,w2];this.setBrdColor(_103e.get(this.table,"borderColor"));this.setBkColor(_103e.get(this.table,"backgroundColor"));var w=_103d.get(this.table,"width");if(!w){w=this.table.style.width;}var p="pixels";if(dojo.isString(w)&&w.indexOf("%")>-1){p="percent";w=w.replace(/%/,"");}if(w){this.selectWidth.set("value",w);this.selectWidthType.set("value",p);}else{this.selectWidth.set("value","");this.selectWidthType.set("value","percent");}this.selectBorder.set("value",_103d.get(this.table,"border"));this.selectPad.set("value",_103d.get(this.table,"cellPadding"));this.selectSpace.set("value",_103d.get(this.table,"cellSpacing"));this.selectAlign.set("value",_103d.get(this.table,"align"));},startup:function(){array.forEach(this.pickers,function(_1065){_1065.startup();});this.inherited(arguments);},setBrdColor:function(color){this.brdColor=color;_103e.set(this.borderCol,"backgroundColor",color);},setBkColor:function(color){this.bkColor=color;_103e.set(this.backgroundCol,"backgroundColor",color);},onSet:function(){_103e.set(this.table,"borderColor",this.brdColor);_103e.set(this.table,"backgroundColor",this.bkColor);if(this.selectWidth.get("value")){_103e.set(this.table,"width","");_103d.set(this.table,"width",(this.selectWidth.get("value")+((this.selectWidthType.get("value")=="pixels")?"":"%")));}_103d.set(this.table,"border",this.selectBorder.get("value"));_103d.set(this.table,"cellPadding",this.selectPad.get("value"));_103d.set(this.table,"cellSpacing",this.selectSpace.get("value"));_103d.set(this.table,"align",this.selectAlign.get("value"));var c=dojo.connect(this,"onHide",function(){dojo.disconnect(c);var self=this;setTimeout(function(){self.destroyRecursive();},10);});this.hide();},onCancel:function(){var c=dojo.connect(this,"onHide",function(){dojo.disconnect(c);var self=this;setTimeout(function(){self.destroyRecursive();},10);});},onSetTable:function(_1066){}});var _1067=_103b("dojox.editor.plugins.ModifyTable",_1054,{colorPicker:_1046,modTable:function(){if(!this.editor._tablePluginHandler.checkAvailable()){return;}var o=this.getTableInfo();var w=new _1064({table:o.tbl,colorPicker:typeof this.colorPicker==="string"?require(this.colorPicker):this.colorPicker,params:this.params});w.show();this.connect(w,"onSetTable",function(color){var o=this.getTableInfo();_103e.set(o.td,"backgroundColor",color);});}});var _1068=_103b([_1040,_1041,_1042],{colorPicker:_1047,templateString:"<div style='display: none; position: absolute; top: -10000; z-index: -10000'>"+"<div dojoType='dijit.TooltipDialog' dojoAttachPoint='dialog' class='dojoxEditorColorPicker'>"+"<div dojoAttachPoint='_colorPicker'></div>"+"<div style='margin: 0.5em 0em 0em 0em'>"+"<button dojoType='dijit.form.Button' type='submit' dojoAttachPoint='_setButton'>${buttonSet}</button>"+"&nbsp;"+"<button dojoType='dijit.form.Button' type='button' dojoAttachPoint='_cancelButton'>${buttonCancel}</button>"+"</div>"+"</div>"+"</div>",widgetsInTemplate:true,constructor:function(){dojo.mixin(this,_104a);},postCreate:function(){var _1069=typeof this.colorPicker=="string"?require(this.colorPicker):this.colorPicker;this._colorPicker=new _1069({params:this.params},this._colorPicker);},startup:function(){if(!this._started){this.inherited(arguments);this.connect(this.dialog,"execute",function(){this.onChange(this.get("value"));});this.connect(this._cancelButton,"onClick",function(){dijit.popup.close(this.dialog);});this.connect(this.dialog,"onCancel","onCancel");dojo.style(this.domNode,"display","block");}},_setValueAttr:function(value,_106a){this._colorPicker.set("value",value,_106a);},_getValueAttr:function(){return this._colorPicker.get("value");},onChange:function(value){},onCancel:function(){}});var _106b=_103b("dojox.editor.plugins.ColorTableCell",_1054,{colorPicker:_1047,constructor:function(){this.closable=true;this.buttonClass=dijit.form.DropDownButton;var self=this,_106c,_106d={colorPicker:this.colorPicker,params:this.params};if(!this.dropDown){_106c=new _1068(_106d);_106c.startup();this.dropDown=_106c.dialog;}else{_106c=this.dropDown;_106c.set(_106d);}this.connect(_106c,"onChange",function(color){this.editor.focus();this.modTable(null,color);});this.connect(_106c,"onCancel",function(){this.editor.focus();});_103c.before(this.dropDown,"onOpen",function(){var o=self.getTableInfo(),tds=self.getSelectedCells(o.tbl);if(tds&&tds.length>0){var t=tds[0]===self.lastObject?tds[0]:tds[tds.length-1],color;while(t&&t!==self.editor.document&&((color=dojo.style(t,"backgroundColor"))==="transparent"||color.indexOf("rgba")===0)){t=t.parentNode;}if(color!=="transparent"&&color.indexOf("rgba")!==0){_106c.set("value",Color.fromString(color).toHex());}}});this.connect(this,"setEditor",function(_106e){_106e.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.connect(this.editor.editNode,"onmouseup",function(evt){this.lastObject=evt.target;});}));});},_initButton:function(){this.command=this.name;this.label=this.editor.commands[this.command]=this._makeTitle(this.command);this.inherited(arguments);delete this.command;this.onDisplayChanged(false);},modTable:function(cmd,args){this.begEdit();var o=this.getTableInfo();var tds=this.getSelectedCells(o.tbl);dojo.forEach(tds,function(td){dojo.style(td,"backgroundColor",args);});this.endEdit();}});function _106f(args){return new _1054(args);};_103f.registry["insertTableRowBefore"]=_106f;_103f.registry["insertTableRowAfter"]=_106f;_103f.registry["insertTableColumnBefore"]=_106f;_103f.registry["insertTableColumnAfter"]=_106f;_103f.registry["deleteTableRow"]=_106f;_103f.registry["deleteTableColumn"]=_106f;_103f.registry["colorTableCell"]=function(args){return new _106b(args);};_103f.registry["modifyTable"]=function(args){return new _1067(args);};_103f.registry["insertTable"]=function(args){return new _1063(args);};_103f.registry["tableContextMenu"]=function(args){return new _105b(args);};return _1054;});},"dijit/ColorPalette":function(){define(["require","dojo/text!./templates/ColorPalette.html","./_Widget","./_TemplatedMixin","./_PaletteMixin","./hccss","dojo/i18n","dojo/_base/Color","dojo/_base/declare","dojo/dom-construct","dojo/string","dojo/i18n!dojo/nls/colors","dojo/colors"],function(_1070,_1071,_1072,_1073,_1074,has,i18n,Color,_1075,_1076,_1077){var _1078=_1075("dijit.ColorPalette",[_1072,_1073,_1074],{palette:"7x10",_palettes:{"7x10":[["white","seashell","cornsilk","lemonchiffon","lightyellow","palegreen","paleturquoise","lightcyan","lavender","plum"],["lightgray","pink","bisque","moccasin","khaki","lightgreen","lightseagreen","lightskyblue","cornflowerblue","violet"],["silver","lightcoral","sandybrown","orange","palegoldenrod","chartreuse","mediumturquoise","skyblue","mediumslateblue","orchid"],["gray","red","orangered","darkorange","yellow","limegreen","darkseagreen","royalblue","slateblue","mediumorchid"],["dimgray","crimson","chocolate","coral","gold","forestgreen","seagreen","blue","blueviolet","darkorchid"],["darkslategray","firebrick","saddlebrown","sienna","olive","green","darkcyan","mediumblue","darkslateblue","darkmagenta"],["black","darkred","maroon","brown","darkolivegreen","darkgreen","midnightblue","navy","indigo","purple"]],"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]},templateString:_1071,baseClass:"dijitColorPalette",_dyeFactory:function(value,row,col,title){return new this._dyeClass(value,row,col,title);},buildRendering:function(){this.inherited(arguments);this._dyeClass=_1075(_1078._Color,{palette:this.palette});this._preparePalette(this._palettes[this.palette],i18n.getLocalization("dojo","colors",this.lang));}});_1078._Color=_1075("dijit._Color",Color,{template:"<span class='dijitInline dijitPaletteImg'>"+"<img src='${blankGif}' alt='${alt}' title='${title}' class='dijitColorPaletteSwatch' style='background-color: ${color}'/>"+"</span>",hcTemplate:"<span class='dijitInline dijitPaletteImg' style='position: relative; overflow: hidden; height: 12px; width: 14px;'>"+"<img src='${image}' alt='${alt}' title='${title}' style='position: absolute; left: ${left}px; top: ${top}px; ${size}'/>"+"</span>",_imagePaths:{"7x10":_1070.toUrl("./themes/a11y/colors7x10.png"),"3x4":_1070.toUrl("./themes/a11y/colors3x4.png")},constructor:function(alias,row,col,title){this._title=title;this._row=row;this._col=col;this.setColor(Color.named[alias]);},getValue:function(){return this.toHex();},fillCell:function(cell,_1079){var html=_1077.substitute(has("highcontrast")?this.hcTemplate:this.template,{color:this.toHex(),blankGif:_1079,alt:this._title,title:this._title,image:this._imagePaths[this.palette].toString(),left:this._col*-20-5,top:this._row*-20-5,size:this.palette=="7x10"?"height: 145px; width: 206px":"height: 64px; width: 86px"});_1076.place(html,cell);}});return _1078;});},"dojox/widget/ColorPicker":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/html","dojo/_base/connect","dojo/_base/sniff","dojo/_base/window","dojo/_base/event","dojo/dom","dojo/dom-class","dojo/keys","dojo/fx","dojo/dnd/move","dijit/registry","dijit/_base/focus","dijit/form/_FormWidget","dijit/typematic","dojox/color","dojo/i18n","dojo/i18n!./nls/ColorPicker","dojo/i18n!dojo/cldr/nls/number","dojo/text!./ColorPicker/ColorPicker.html"],function(_107a,_107b,lang,_107c,html,Hub,has,win,Event,DOM,_107d,Keys,fx,move,_107e,_107f,_1080,_1081,color,i18n,_1082,_1083,_1084){_107a.experimental("dojox.widget.ColorPicker");var _1085=function(hex){return hex;};return _107b("dojox.widget.ColorPicker",_1080,{showRgb:true,showHsv:true,showHex:true,webSafe:true,animatePoint:true,slideDuration:250,liveUpdate:false,PICKER_HUE_H:150,PICKER_SAT_VAL_H:150,PICKER_SAT_VAL_W:150,PICKER_HUE_SELECTOR_H:8,PICKER_SAT_SELECTOR_H:10,PICKER_SAT_SELECTOR_W:10,value:"#ffffff",_underlay:require.toUrl("dojox/widget/ColorPicker/images/underlay.png"),_hueUnderlay:require.toUrl("dojox/widget/ColorPicker/images/hue.png"),_pickerPointer:require.toUrl("dojox/widget/ColorPicker/images/pickerPointer.png"),_huePickerPointer:require.toUrl("dojox/widget/ColorPicker/images/hueHandle.png"),_huePickerPointerAlly:require.toUrl("dojox/widget/ColorPicker/images/hueHandleA11y.png"),templateString:_1084,postMixInProperties:function(){if(_107d.contains(win.body(),"dijit_a11y")){this._huePickerPointer=this._huePickerPointerAlly;}this._uId=_107e.getUniqueId(this.id);lang.mixin(this,i18n.getLocalization("dojox.widget","ColorPicker"));lang.mixin(this,i18n.getLocalization("dojo.cldr","number"));this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<7){this.colorUnderlay.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this._underlay+"', sizingMethod='scale')";this.colorUnderlay.src=this._blankGif.toString();}if(!this.showRgb){this.rgbNode.style.visibility="hidden";}if(!this.showHsv){this.hsvNode.style.visibility="hidden";}if(!this.showHex){this.hexNode.style.visibility="hidden";}if(!this.webSafe){this.safePreviewNode.style.visibility="hidden";}},startup:function(){if(this._started){return;}this._started=true;this.set("value",this.value);this._mover=new move.boxConstrainedMoveable(this.cursorNode,{box:{t:-(this.PICKER_SAT_SELECTOR_H/2),l:-(this.PICKER_SAT_SELECTOR_W/2),w:this.PICKER_SAT_VAL_W,h:this.PICKER_SAT_VAL_H}});this._hueMover=new move.boxConstrainedMoveable(this.hueCursorNode,{box:{t:-(this.PICKER_HUE_SELECTOR_H/2),l:0,w:0,h:this.PICKER_HUE_H}});this._subs=[];this._subs.push(Hub.subscribe("/dnd/move/stop",lang.hitch(this,"_clearTimer")));this._subs.push(Hub.subscribe("/dnd/move/start",lang.hitch(this,"_setTimer")));this._keyListeners=[];this._connects.push(_1081.addKeyListener(this.hueCursorNode,{charOrCode:Keys.UP_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateHueCursorNode),25,25));this._connects.push(_1081.addKeyListener(this.hueCursorNode,{charOrCode:Keys.DOWN_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateHueCursorNode),25,25));this._connects.push(_1081.addKeyListener(this.cursorNode,{charOrCode:Keys.UP_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));this._connects.push(_1081.addKeyListener(this.cursorNode,{charOrCode:Keys.DOWN_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));this._connects.push(_1081.addKeyListener(this.cursorNode,{charOrCode:Keys.LEFT_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));this._connects.push(_1081.addKeyListener(this.cursorNode,{charOrCode:Keys.RIGHT_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));},_setValueAttr:function(value,_1086){if(!this._started){return;}this.setColor(value,_1086);},setColor:function(col,force){col=color.fromString(col);this._updatePickerLocations(col);this._updateColorInputs(col);this._updateValue(col,force);},_setTimer:function(mover){if(mover.node!=this.cursorNode&&mover.node!=this.hueCursorNode){return;}_107f.focus(mover.node);DOM.setSelectable(this.domNode,false);this._timer=setInterval(lang.hitch(this,"_updateColor"),45);},_clearTimer:function(mover){if(!this._timer){return;}clearInterval(this._timer);this._timer=null;this.onChange(this.value);DOM.setSelectable(this.domNode,true);},_setHue:function(h){html.style(this.colorUnderlay,"backgroundColor",color.fromHsv(h,100,100).toHex());},_updateHueCursorNode:function(count,node,e){if(count!==-1){var y=html.style(this.hueCursorNode,"top");var _1087=this.PICKER_HUE_SELECTOR_H/2;y+=_1087;var _1088=false;if(e.charOrCode==Keys.UP_ARROW){if(y>0){y-=1;_1088=true;}}else{if(e.charOrCode==Keys.DOWN_ARROW){if(y<this.PICKER_HUE_H){y+=1;_1088=true;}}}y-=_1087;if(_1088){html.style(this.hueCursorNode,"top",y+"px");}}else{this._updateColor(true);}},_updateCursorNode:function(count,node,e){var _1089=this.PICKER_SAT_SELECTOR_H/2;var _108a=this.PICKER_SAT_SELECTOR_W/2;if(count!==-1){var y=html.style(this.cursorNode,"top");var x=html.style(this.cursorNode,"left");y+=_1089;x+=_108a;var _108b=false;if(e.charOrCode==Keys.UP_ARROW){if(y>0){y-=1;_108b=true;}}else{if(e.charOrCode==Keys.DOWN_ARROW){if(y<this.PICKER_SAT_VAL_H){y+=1;_108b=true;}}else{if(e.charOrCode==Keys.LEFT_ARROW){if(x>0){x-=1;_108b=true;}}else{if(e.charOrCode==Keys.RIGHT_ARROW){if(x<this.PICKER_SAT_VAL_W){x+=1;_108b=true;}}}}}if(_108b){y-=_1089;x-=_108a;html.style(this.cursorNode,"top",y+"px");html.style(this.cursorNode,"left",x+"px");}}else{this._updateColor(true);}},_updateColor:function(_108c){var _108d=this.PICKER_HUE_SELECTOR_H/2,_108e=this.PICKER_SAT_SELECTOR_H/2,_108f=this.PICKER_SAT_SELECTOR_W/2;var _1090=html.style(this.hueCursorNode,"top")+_108d,_1091=html.style(this.cursorNode,"top")+_108e,_1092=html.style(this.cursorNode,"left")+_108f,h=Math.round(360-(_1090/this.PICKER_HUE_H*360)),col=color.fromHsv(h,_1092/this.PICKER_SAT_VAL_W*100,100-(_1091/this.PICKER_SAT_VAL_H*100));this._updateColorInputs(col);this._updateValue(col,_108c);if(h!=this._hue){this._setHue(h);}},_colorInputChange:function(e){var col,hasit=false;switch(e.target){case this.hexCode:col=color.fromString(e.target.value);hasit=true;break;case this.Rval:case this.Gval:case this.Bval:col=color.fromArray([this.Rval.value,this.Gval.value,this.Bval.value]);hasit=true;break;case this.Hval:case this.Sval:case this.Vval:col=color.fromHsv(this.Hval.value,this.Sval.value,this.Vval.value);hasit=true;break;}if(hasit){this._updatePickerLocations(col);this._updateColorInputs(col);this._updateValue(col,true);}},_updateValue:function(col,_1093){var hex=col.toHex();this.value=this.valueNode.value=hex;if(_1093&&(!this._timer||this.liveUpdate)){this.onChange(hex);}},_updatePickerLocations:function(col){var _1094=this.PICKER_HUE_SELECTOR_H/2,_1095=this.PICKER_SAT_SELECTOR_H/2,_1096=this.PICKER_SAT_SELECTOR_W/2;var hsv=col.toHsv(),ypos=Math.round(this.PICKER_HUE_H-hsv.h/360*this.PICKER_HUE_H)-_1094,_1097=Math.round(hsv.s/100*this.PICKER_SAT_VAL_W)-_1096,_1098=Math.round(this.PICKER_SAT_VAL_H-hsv.v/100*this.PICKER_SAT_VAL_H)-_1095;if(this.animatePoint){fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:ypos,left:0}).play();fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:_1098,left:_1097}).play();}else{html.style(this.hueCursorNode,"top",ypos+"px");html.style(this.cursorNode,{left:_1097+"px",top:_1098+"px"});}if(hsv.h!=this._hue){this._setHue(hsv.h);}},_updateColorInputs:function(col){var hex=col.toHex();if(this.showRgb){this.Rval.value=col.r;this.Gval.value=col.g;this.Bval.value=col.b;}if(this.showHsv){var hsv=col.toHsv();this.Hval.value=Math.round((hsv.h));this.Sval.value=Math.round(hsv.s);this.Vval.value=Math.round(hsv.v);}if(this.showHex){this.hexCode.value=hex;}this.previewNode.style.backgroundColor=hex;if(this.webSafe){this.safePreviewNode.style.backgroundColor=_1085(hex);}},_setHuePoint:function(evt){var _1099=this.PICKER_HUE_SELECTOR_H/2;var ypos=evt.layerY-_1099;if(this.animatePoint){fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:ypos,left:0,onEnd:lang.hitch(this,function(){this._updateColor(false);_107f.focus(this.hueCursorNode);})}).play();}else{html.style(this.hueCursorNode,"top",ypos+"px");this._updateColor(false);}},_setPoint:function(evt){var _109a=this.PICKER_SAT_SELECTOR_H/2;var _109b=this.PICKER_SAT_SELECTOR_W/2;var _109c=evt.layerY-_109a;var _109d=evt.layerX-_109b;if(evt){_107f.focus(evt.target);}if(this.animatePoint){fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:_109c,left:_109d,onEnd:lang.hitch(this,function(){this._updateColor(true);_107f.focus(this.cursorNode);})}).play();}else{html.style(this.cursorNode,{left:_109d+"px",top:_109c+"px"});this._updateColor(false);}},_handleKey:function(e){},focus:function(){if(!this.focused){_107f.focus(this.focusNode);}},_stopDrag:function(e){Event.stop(e);},destroy:function(){this.inherited(arguments);_107c.forEach(this._subs,function(sub){Hub.unsubscribe(sub);});delete this._subs;}});});},"dojo/dnd/move":function(){define(["../_base/declare","../dom-geometry","../dom-style","./common","./Mover","./Moveable"],function(_109e,_109f,_10a0,dnd,Mover,_10a1){var _10a2=_109e("dojo.dnd.move.constrainedMoveable",_10a1,{constraints:function(){},within:false,constructor:function(node,_10a3){if(!_10a3){_10a3={};}this.constraints=_10a3.constraints;this.within=_10a3.within;},onFirstMove:function(mover){var c=this.constraintBox=this.constraints.call(this,mover);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=_109f.getMarginSize(mover.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(mover,_10a4){var c=this.constraintBox,s=mover.node.style;this.onMoving(mover,_10a4);_10a4.l=_10a4.l<c.l?c.l:c.r<_10a4.l?c.r:_10a4.l;_10a4.t=_10a4.t<c.t?c.t:c.b<_10a4.t?c.b:_10a4.t;s.left=_10a4.l+"px";s.top=_10a4.t+"px";this.onMoved(mover,_10a4);}});var _10a5=_109e("dojo.dnd.move.boxConstrainedMoveable",_10a2,{box:{},constructor:function(node,_10a6){var box=_10a6&&_10a6.box;this.constraints=function(){return box;};}});var _10a7=_109e("dojo.dnd.move.parentConstrainedMoveable",_10a2,{area:"content",constructor:function(node,_10a8){var area=_10a8&&_10a8.area;this.constraints=function(){var n=this.node.parentNode,s=_10a0.getComputedStyle(n),mb=_109f.getMarginBox(n,s);if(area=="margin"){return mb;}var t=_109f.getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=_109f.getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=_109f.getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});return {constrainedMoveable:_10a2,boxConstrainedMoveable:_10a5,parentConstrainedMoveable:_10a7};});},"dojox/color":function(){define(["./color/_base"],function(_10a9){return _10a9;});},"dojox/color/_base":function(){define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(dojox,lang,Color,_10aa){var cx=lang.getObject("color",true,dojox);cx.Color=Color;cx.blend=Color.blendColors;cx.fromRgb=Color.fromRgb;cx.fromHex=Color.fromHex;cx.fromArray=Color.fromArray;cx.fromString=Color.fromString;cx.greyscale=_10aa.makeGrey;lang.mixin(cx,{fromCmy:function(cyan,_10ab,_10ac){if(lang.isArray(cyan)){_10ab=cyan[1],_10ac=cyan[2],cyan=cyan[0];}else{if(lang.isObject(cyan)){_10ab=cyan.m,_10ac=cyan.y,cyan=cyan.c;}}cyan/=100,_10ab/=100,_10ac/=100;var r=1-cyan,g=1-_10ab,b=1-_10ac;return new Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(cyan,_10ad,_10ae,black){if(lang.isArray(cyan)){_10ad=cyan[1],_10ae=cyan[2],black=cyan[3],cyan=cyan[0];}else{if(lang.isObject(cyan)){_10ad=cyan.m,_10ae=cyan.y,black=cyan.b,cyan=cyan.c;}}cyan/=100,_10ad/=100,_10ae/=100,black/=100;var r,g,b;r=1-Math.min(1,cyan*(1-black)+black);g=1-Math.min(1,_10ad*(1-black)+black);b=1-Math.min(1,_10ae*(1-black)+black);return new Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_10af,_10b0){if(lang.isArray(hue)){_10af=hue[1],_10b0=hue[2],hue=hue[0];}else{if(lang.isObject(hue)){_10af=hue.s,_10b0=hue.l,hue=hue.h;}}_10af/=100;_10b0/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_10af*Math.min(r,1)+(1-_10af);g=2*_10af*Math.min(g,1)+(1-_10af);b=2*_10af*Math.min(b,1)+(1-_10af);if(_10b0<0.5){r*=_10b0,g*=_10b0,b*=_10b0;}else{r=(1-_10b0)*r+2*_10b0-1;g=(1-_10b0)*g+2*_10b0-1;b=(1-_10b0)*b+2*_10b0-1;}return new Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});cx.fromHsv=function(hue,_10b1,value){if(lang.isArray(hue)){_10b1=hue[1],value=hue[2],hue=hue[0];}else{if(lang.isObject(hue)){_10b1=hue.s,value=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_10b1/=100;value/=100;var r,g,b;if(_10b1==0){r=value,b=value,g=value;}else{var hTemp=hue/60,i=Math.floor(hTemp),f=hTemp-i;var p=value*(1-_10b1);var q=value*(1-(_10b1*f));var t=value*(1-(_10b1*(1-f)));switch(i){case 0:r=value,g=t,b=p;break;case 1:r=q,g=value,b=p;break;case 2:r=p,g=value,b=t;break;case 3:r=p,g=q,b=value;break;case 4:r=t,g=p,b=value;break;case 5:r=value,g=p,b=q;break;}}return new Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});};lang.extend(Color,{toCmy:function(){var cyan=1-(this.r/255),_10b2=1-(this.g/255),_10b3=1-(this.b/255);return {c:Math.round(cyan*100),m:Math.round(_10b2*100),y:Math.round(_10b3*100)};},toCmyk:function(){var cyan,_10b4,_10b5,black;var r=this.r/255,g=this.g/255,b=this.b/255;black=Math.min(1-r,1-g,1-b);cyan=(1-r-black)/(1-black);_10b4=(1-g-black)/(1-black);_10b5=(1-b-black)/(1-black);return {c:Math.round(cyan*100),m:Math.round(_10b4*100),y:Math.round(_10b5*100),b:Math.round(black*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var delta=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=delta/((l<0.5)?(2*l):(2-2*l));}if(delta>0){if(max==r&&max!=g){h+=(g-b)/delta;}if(max==g&&max!=b){h+=(2+(b-r)/delta);}if(max==b&&max!=r){h+=(4+(r-g)/delta);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var delta=max-min;var h=null,s=(max==0)?0:(delta/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/delta;}else{if(g==max){h=120+60*(b-r)/delta;}else{h=240+60*(r-g)/delta;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});return cx;});},"dojox/editor/plugins/ResizeTableColumn":function(){define(["dojo","dijit","dojox","./TablePlugins"],function(dojo,dijit,dojox,_10b6){var _10b7=dojo.declare("dojox.editor.plugins.ResizeTableColumn",_10b6,{constructor:function(){this.isLtr=this.dir?(this.dir=="ltr"):dojo._isBodyLtr();this.ruleDiv=dojo.create("div",{style:"top: -10000px; z-index: 10001"},dojo.body(),"last");},setEditor:function(_10b8){var _10b9=this.ruleDiv;this.editor=_10b8;this.editor.customUndo=true;this.onEditorLoaded();_10b8.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.connect(this.editor.editNode,"onmousemove",function(evt){var _10ba=dojo.position(_10b8.iframe,true),ex=_10ba.x,cx=evt.clientX;if(!this.isDragging){var obj=evt.target;if(obj.tagName&&obj.tagName.toLowerCase()=="td"){var _10bb=dojo.position(obj),ox=_10bb.x,ow=_10bb.w,pos=ex+_10bb.x-2;if(this.isLtr){_10b9.headerColumn=true;if(!_10d1(obj,"first")||cx>ox+ow/2){pos+=ow;_10b9.headerColumn=false;}}else{_10b9.headerColumn=false;if(_10d1(obj,"first")&&cx>ox+ow/2){pos+=ow;_10b9.headerColumn=true;}}dojo.style(_10b9,{position:"absolute",cursor:"col-resize",display:"block",width:"4px",backgroundColor:"transparent",top:_10ba.y+_10bb.y+"px",left:pos+"px",height:_10bb.h+"px"});this.activeCell=obj;}else{dojo.style(_10b9,{display:"none",top:"-10000px"});}}else{var _10bc=this.activeCell,_10bd=dojo.position(_10bc),ax=_10bd.x,aw=_10bd.w,_10be=_10c6(_10bc),_10bf,sx,sw,_10c0=dojo.position(_10c9(_10bc).parentNode),ctx=_10c0.x,ctw=_10c0.w;if(_10be){_10bf=dojo.position(_10be);sx=_10bf.x;sw=_10bf.w;}if(this.isLtr&&((_10b9.headerColumn&&_10be&&ctx<cx&&cx<ax+aw)||((!_10be&&ax<cx&&cx<ctx+ctw)||(_10be&&ax<cx&&cx<sx+sw)))||!this.isLtr&&((_10b9.headerColumn&&_10be&&ctx>cx&&cx>ax)||((!_10be&&ax+aw>cx&&cx>ctx)||(_10be&&ax+aw>cx&&cx>sx)))){dojo.style(_10b9,{left:ex+cx+"px"});}}});this.connect(_10b9,"onmousedown",function(evt){var _10c1=dojo.position(_10b8.iframe,true),_10c2=dojo.position(_10c9(this.activeCell));this.isDragging=true;dojo.style(_10b8.editNode,{cursor:"col-resize"});dojo.style(_10b9,{width:"1px",left:evt.clientX+"px",top:_10c1.y+_10c2.y+"px",height:_10c2.h+"px",backgroundColor:"#777"});});this.connect(_10b9,"onmouseup",function(evt){var _10c3=this.activeCell,_10c4=dojo.position(_10c3),aw=_10c4.w,ax=_10c4.x,_10c5=_10c6(_10c3),_10c7,sx,sw,_10c8=dojo.position(_10b8.iframe),ex=_10c8.x,table=_10c9(_10c3),_10ca=dojo.position(table),cs=table.getAttribute("cellspacing"),cx=evt.clientX,_10cb=_10cc(_10c3),_10cd,_10ce,_10cf;if(!cs||(cs=parseInt(cs,10))<0){cs=2;}if(_10c5){_10c7=dojo.position(_10c5);sx=_10c7.x;sw=_10c7.w;_10cd=_10cc(_10c5);}if(this.isLtr){if(_10b9.headerColumn){_10ce=ex+ax+aw-cx;}else{_10ce=cx-ex-ax;if(_10c5){_10cf=ex+sx+sw-cx-cs;}}}else{if(_10b9.headerColumn){_10ce=cx-ex-ax;}else{_10ce=ex+ax+aw-cx;if(_10c5){_10cf=cx-ex-sx-cs;}}}this.isDragging=false;_10d0(_10cb,_10ce);if(_10c5){if(!_10b9.headerColumn){_10d0(_10cd,_10cf);}}if(_10b9.headerColumn&&_10d1(_10c3,"first")||_10d1(_10c3,"last")){dojo.marginBox(table,{w:_10ca.w+_10ce-aw});}_10d0(_10cb,dojo.position(_10c3).w);if(_10c5){_10d0(_10cd,dojo.position(_10c5).w);}dojo.style(_10b8.editNode,{cursor:"auto"});dojo.style(_10b9,{display:"none",top:"-10000px"});this.activeCell=null;});}));function _10d1(n,b){var nodes=dojo.query("> td",n.parentNode);switch(b){case "first":return nodes[0]==n;case "last":return nodes[nodes.length-1]==n;default:return false;}};function _10c6(node){node=node.nextSibling;while(node){if(node.tagName&&node.tagName.toLowerCase()=="td"){break;}node=node.nextSibling;}return node;};function _10c9(t){while((t=t.parentNode)&&t.tagName.toLowerCase()!="table"){}return t;};function _10cc(t){var tds=dojo.query("td",_10c9(t)),len=tds.length;for(var i=0;i<len;i++){if(dojo.position(tds[i]).x==dojo.position(t).x){return tds[i];}}return null;};function _10d0(node,width){if(dojo.isIE){var s=node.currentStyle,bl=px(node,s.borderLeftWidth),br=px(node,s.borderRightWidth),pl=px(node,s.paddingLeft),pr=px(node,s.paddingRight);node.style.width=width-bl-br-pl-pr;}else{dojo.marginBox(node,{w:width});}function px(_10d2,_10d3){if(!_10d3){return 0;}if(_10d3=="medium"){return 1;}if(_10d3.slice&&_10d3.slice(-2)=="px"){return parseFloat(_10d3);}with(_10d2){var sLeft=style.left;var _10d4=runtimeStyle.left;runtimeStyle.left=currentStyle.left;try{style.left=_10d3;_10d3=style.pixelLeft;}catch(e){_10d3=0;}style.left=sLeft;runtimeStyle.left=_10d4;}return _10d3;};};}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}if(o.args&&o.args.command){var cmd=o.args.command.charAt(0).toLowerCase()+o.args.command.substring(1,o.args.command.length);if(cmd=="resizeTableColumn"){o.plugin=new _10b7({commandName:cmd});}}});return _10b7;});},"dojox/editor/plugins/PasteFromWord":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/_base/manager","dijit/_editor/RichText","dijit/form/Button","dijit/Dialog","dojox/html/format","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/string","dojo/i18n!dojox/editor/plugins/nls/PasteFromWord","dojo/i18n!dijit/nls/common","dojo/i18n!dijit/_editor/nls/commands"],function(dojo,dijit,dojox,_10d5){var _10d6=dojo.declare("dojox.editor.plugins.PasteFromWord",_10d5,{iconClassPrefix:"dijitAdditionalEditorIcon",width:"400px",height:"300px",_template:["<div class='dijitPasteFromWordEmbeddedRTE'>","<div style='width: ${width}; padding-top: 5px; padding-bottom: 5px;'>${instructions}</div>","<div id='${uId}_rte' style='width: ${width}; height: ${height}'></div>","<table style='width: ${width}' tabindex='-1'>","<tbody>","<tr>","<td align='center'>","<button type='button' dojoType='dijit.form.Button' id='${uId}_paste'>${paste}</button>","&nbsp;","<button type='button' dojoType='dijit.form.Button' id='${uId}_cancel'>${buttonCancel}</button>","</td>","</tr>","</tbody>","</table>","</div>"].join(""),_filters:[{regexp:/(<meta\s*[^>]*\s*>)|(<\s*link\s* href="file:[^>]*\s*>)|(<\/?\s*\w+:[^>]*\s*>)/gi,handler:""},{regexp:/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,handler:""},{regexp:/(class="Mso[^"]*")|(<!--(.|\s){1,}?-->)/gi,handler:""},{regexp:/(<p[^>]*>\s*(\&nbsp;|\u00A0)*\s*<\/p[^>]*>)|(<p[^>]*>\s*<font[^>]*>\s*(\&nbsp;|\u00A0)*\s*<\/\s*font\s*>\s<\/p[^>]*>)/ig,handler:""},{regexp:/(style="[^"]*mso-[^;][^"]*")|(style="margin:\s*[^;"]*;")/gi,handler:""},{regexp:/(<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>)|(<\s*script\b([^<>]|\s)*>?)|(<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>)/ig,handler:""},{regexp:/<(\/?)o\:p[^>]*>/gi,handler:""}],_initButton:function(){this._filters=this._filters.slice(0);var _10d7=dojo.i18n.getLocalization("dojox.editor.plugins","PasteFromWord");dojo.mixin(_10d7,dojo.i18n.getLocalization("dijit","common"));dojo.mixin(_10d7,dojo.i18n.getLocalization("dijit._editor","commands"));this.button=new dijit.form.Button({label:_10d7["pasteFromWord"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"PasteFromWord",tabIndex:"-1",onClick:dojo.hitch(this,"_openDialog")});this._uId=dijit.getUniqueId(this.editor.id);_10d7.uId=this._uId;_10d7.width=this.width||"400px";_10d7.height=this.height||"300px";this._dialog=new dijit.Dialog({title:_10d7["pasteFromWord"]}).placeAt(dojo.body());this._dialog.set("content",dojo.string.substitute(this._template,_10d7));dojo.style(dojo.byId(this._uId+"_rte"),"opacity",0.001);this.connect(dijit.byId(this._uId+"_paste"),"onClick","_paste");this.connect(dijit.byId(this._uId+"_cancel"),"onClick","_cancel");this.connect(this._dialog,"onHide","_clearDialog");},updateState:function(){this.button.set("disabled",this.get("disabled"));},setEditor:function(_10d8){this.editor=_10d8;this._initButton();},_openDialog:function(){this._dialog.show();if(!this._rte){setTimeout(dojo.hitch(this,function(){this._rte=new dijit._editor.RichText({height:this.height||"300px"},this._uId+"_rte");this._rte.startup();this._rte.onLoadDeferred.addCallback(dojo.hitch(this,function(){dojo.animateProperty({node:this._rte.domNode,properties:{opacity:{start:0.001,end:1}}}).play();}));}),100);}},_paste:function(){var _10d9=dojox.html.format.prettyPrint(this._rte.get("value"));this._dialog.hide();var i;for(i=0;i<this._filters.length;i++){var _10da=this._filters[i];_10d9=_10d9.replace(_10da.regexp,_10da.handler);}_10d9=dojox.html.format.prettyPrint(_10d9);this.editor.focus();this.editor.execCommand("inserthtml",_10d9);},_cancel:function(){this._dialog.hide();},_clearDialog:function(){this._rte.set("value","");},destroy:function(){if(this._rte){this._rte.destroy();}if(this._dialog){this._dialog.destroyRecursive();}delete this._dialog;delete this._rte;this.inherited(arguments);}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="pastefromword"){o.plugin=new _10d6({width:("width" in o.args)?o.args.width:"400px",height:("height" in o.args)?o.args.width:"300px"});}});return _10d6;});},"dojox/html/format":function(){define(["dojo/_base/kernel","./entities","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(lang,_10db,_10dc,_10dd,has){var dhf=lang.getObject("dojox.html.format",true);dhf.prettyPrint=function(html,_10de,_10df,map,xhtml){var _10e0=[];var _10e1=0;var _10e2=[];var iTxt="\t";var _10e3="";var _10e4=[];var i;var _10e5=/[=]([^"']+?)(\s|>)/g;var _10e6=/style=("[^"]*"|'[^']*'|\S*)/gi;var _10e7=/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi;if(_10de&&_10de>0&&_10de<10){iTxt="";for(i=0;i<_10de;i++){iTxt+=" ";}}var _10e8=_10dd.doc.createElement("div");_10e8.innerHTML=html;var _10e9=_10db.encode;var _10ea=_10db.decode;var _10eb=function(tag){switch(tag){case "a":case "b":case "strong":case "s":case "strike":case "i":case "u":case "em":case "sup":case "sub":case "span":case "font":case "big":case "cite":case "q":case "small":return true;default:return false;}};var div=_10e8.ownerDocument.createElement("div");var _10ec=function(node){var clone=node.cloneNode(false);div.appendChild(clone);var html=div.innerHTML;div.innerHTML="";return html;};var _10ed=function(){var i,txt="";for(i=0;i<_10e1;i++){txt+=iTxt;}return txt.length;};var _10ee=function(){var i;for(i=0;i<_10e1;i++){_10e0.push(iTxt);}};var _10ef=function(){_10e0.push("\n");};var _10f0=function(n){_10e3+=_10e9(n.nodeValue,map);};var _10f1=function(txt){var i;var _10f2;var _10f3=txt.split("\n");for(i=0;i<_10f3.length;i++){_10f3[i]=lang.trim(_10f3[i]);}txt=_10f3.join(" ");txt=lang.trim(txt);if(txt!==""){var lines=[];if(_10df&&_10df>0){var _10f4=_10ed();var _10f5=_10df;if(_10df>_10f4){_10f5-=_10f4;}while(txt){if(txt.length>_10df){for(i=_10f5;(i>0&&txt.charAt(i)!==" ");i--){}if(!i){for(i=_10f5;(i<txt.length&&txt.charAt(i)!==" ");i++){}}var line=txt.substring(0,i);line=lang.trim(line);txt=lang.trim(txt.substring((i==txt.length)?txt.length:i+1,txt.length));if(line){_10f2="";for(i=0;i<_10e1;i++){_10f2+=iTxt;}line=_10f2+line+"\n";}lines.push(line);}else{_10f2="";for(i=0;i<_10e1;i++){_10f2+=iTxt;}txt=_10f2+txt+"\n";lines.push(txt);txt=null;}}return lines.join("");}else{_10f2="";for(i=0;i<_10e1;i++){_10f2+=iTxt;}txt=_10f2+txt+"\n";return txt;}}else{return "";}};var _10f6=function(txt){if(txt){txt=txt.replace(/&quot;/gi,"\"");txt=txt.replace(/&gt;/gi,">");txt=txt.replace(/&lt;/gi,"<");txt=txt.replace(/&amp;/gi,"&");}return txt;};var _10f7=function(txt){if(txt){txt=_10f6(txt);var i,t,c,_10f8;var _10f9=0;var _10fa=txt.split("\n");var _10fb=[];for(i=0;i<_10fa.length;i++){var line=_10fa[i];var _10fc=(line.indexOf("\n")>-1);line=lang.trim(line);if(line){var _10fd=_10f9;for(c=0;c<line.length;c++){var ch=line.charAt(c);if(ch==="{"){_10f9++;}else{if(ch==="}"){_10f9--;_10fd=_10f9;}}}_10f8="";for(t=0;t<_10e1+_10fd;t++){_10f8+=iTxt;}_10fb.push(_10f8+line+"\n");}else{if(_10fc&&i===0){_10fb.push("\n");}}}txt=_10fb.join("");}return txt;};var _10fe=function(node){var name=node.nodeName.toLowerCase();var nText=lang.trim(_10ec(node));var tag=nText.substring(0,nText.indexOf(">")+1);tag=tag.replace(_10e5,"=\"$1\"$2");tag=tag.replace(_10e6,function(match){var sL=match.substring(0,6);var style=match.substring(6,match.length);var _10ff=style.charAt(0);style=lang.trim(style.substring(1,style.length-1));style=style.split(";");var _1100=[];_10dc.forEach(style,function(s){s=lang.trim(s);if(s){s=s.substring(0,s.indexOf(":")).toLowerCase()+s.substring(s.indexOf(":"),s.length);_1100.push(s);}});_1100=_1100.sort();style=_1100.join("; ");var ts=lang.trim(style);if(!ts||ts===";"){return "";}else{style+=";";return sL+_10ff+style+_10ff;}});var attrs=[];tag=tag.replace(_10e7,function(attr){attrs.push(lang.trim(attr));return "";});attrs=attrs.sort();tag="<"+name;if(attrs.length){tag+=" "+attrs.join(" ");}if(nText.indexOf("</")!=-1){_10e2.push(name);tag+=">";}else{if(xhtml){tag+=" />";}else{tag+=">";}_10e2.push(false);}var _1101=_10eb(name);_10e4.push(_1101);if(_10e3&&!_1101){_10e0.push(_10f1(_10e3));_10e3="";}if(!_1101){_10ee();_10e0.push(tag);_10ef();_10e1++;}else{_10e3+=tag;}};var _1102=function(){var _1103=_10e4.pop();if(_10e3&&!_1103){_10e0.push(_10f1(_10e3));_10e3="";}var ct=_10e2.pop();if(ct){ct="</"+ct+">";if(!_1103){_10e1--;_10ee();_10e0.push(ct);_10ef();}else{_10e3+=ct;}}else{_10e1--;}};var _1104=function(n){var _1105=_10ea(n.nodeValue,map);_10ee();_10e0.push("<!--");_10ef();_10e1++;_10e0.push(_10f1(_1105));_10e1--;_10ee();_10e0.push("-->");_10ef();};var _1106=function(node){var _1107=node.childNodes;if(_1107){var i;for(i=0;i<_1107.length;i++){var n=_1107[i];if(n.nodeType===1){var tg=lang.trim(n.tagName.toLowerCase());if(has("ie")&&n.parentNode!=node){continue;}if(tg&&tg.charAt(0)==="/"){continue;}else{_10fe(n);if(tg==="script"){_10e0.push(_10f7(n.innerHTML));}else{if(tg==="pre"){var _1108=n.innerHTML;if(has("mozilla")){_1108=_1108.replace("<br>","\n");_1108=_1108.replace("<pre>","");_1108=_1108.replace("</pre>","");}if(_1108.charAt(_1108.length-1)!=="\n"){_1108+="\n";}_10e0.push(_1108);}else{_1106(n);}}_1102();}}else{if(n.nodeType===3||n.nodeType===4){_10f0(n);}else{if(n.nodeType===8){_1104(n);}}}}}};_1106(_10e8);if(_10e3){_10e0.push(_10f1(_10e3));_10e3="";}return _10e0.join("");};return dhf;});},"dojox/editor/plugins/InsertAnchor":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/_base/manager","dijit/_editor/range","dijit/_Templated","dijit/TooltipDialog","dijit/form/ValidationTextBox","dijit/form/Select","dijit/form/Button","dijit/form/DropDownButton","dojo/_base/declare","dojo/i18n","dojo/string","dojo/NodeList-dom","dojox/editor/plugins/ToolbarLineBreak","dojo/i18n!dojox/editor/plugins/nls/InsertAnchor","dojo/i18n!dijit/nls/common"],function(dojo,dijit,dojox,_1109){var _110a=dojo.declare("dojox.editor.plugins.InsertAnchor",_1109,{htmlTemplate:"<a name=\"${anchorInput}\" class=\"dijitEditorPluginInsertAnchorStyle\">${textInput}</a>",iconClassPrefix:"dijitAdditionalEditorIcon",_template:["<table role='presentation'><tr><td>","<label for='${id}_anchorInput'>${anchor}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' required='true' "+"id='${id}_anchorInput' name='anchorInput' intermediateChanges='true'>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' required='true' id='${id}_textInput' "+"name='textInput' intermediateChanges='true'>","</td></tr>","<tr><td colspan='2'>","<button dojoType='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button dojoType='dijit.form.Button' type='button' id='${id}_cancelButton'>${cancel}</button>","</td></tr></table>"].join(""),_initButton:function(){var _110b=this;var _110c=dojo.i18n.getLocalization("dojox.editor.plugins","InsertAnchor",this.lang);var _110d=(this.dropDown=new dijit.TooltipDialog({title:_110c["title"],execute:dojo.hitch(this,"setValue"),onOpen:function(){_110b._onOpenDialog();dijit.TooltipDialog.prototype.onOpen.apply(this,arguments);},onCancel:function(){setTimeout(dojo.hitch(_110b,"_onCloseDialog"),0);}}));this.button=new dijit.form.DropDownButton({label:_110c["insertAnchor"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"InsertAnchor",tabIndex:"-1",dropDown:this.dropDown});_110c.id=dijit.getUniqueId(this.editor.id);this._uniqueId=_110c.id;this.dropDown.set("content",_110d.title+"<div style='border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'></div>"+dojo.string.substitute(this._template,_110c));_110d.startup();this._anchorInput=dijit.byId(this._uniqueId+"_anchorInput");this._textInput=dijit.byId(this._uniqueId+"_textInput");this._setButton=dijit.byId(this._uniqueId+"_setButton");this.connect(dijit.byId(this._uniqueId+"_cancelButton"),"onClick",function(){this.dropDown.onCancel();});if(this._anchorInput){this.connect(this._anchorInput,"onChange","_checkInput");}if(this._textInput){this.connect(this._anchorInput,"onChange","_checkInput");}this.editor.contentDomPreFilters.push(dojo.hitch(this,this._preDomFilter));this.editor.contentDomPostFilters.push(dojo.hitch(this,this._postDomFilter));this._setup();},updateState:function(){this.button.set("disabled",this.get("disabled"));},setEditor:function(_110e){this.editor=_110e;this._initButton();},_checkInput:function(){var _110f=true;if(this._anchorInput.isValid()){_110f=false;}this._setButton.set("disabled",_110f);},_setup:function(){this.editor.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.connect(this.editor.editNode,"ondblclick",this._onDblClick);setTimeout(dojo.hitch(this,function(){this._applyStyles();}),100);}));},getAnchorStyle:function(){var style="@media screen {\n"+"\t.dijitEditorPluginInsertAnchorStyle {\n"+"\t\tbackground-image: url({MODURL}/images/anchor.gif);\n"+"\t\tbackground-repeat: no-repeat;\n"+"\t\tbackground-position: top left;\n"+"\t\tborder-width: 1px;\n"+"\t\tborder-style: dashed;\n"+"\t\tborder-color: #D0D0D0;\n"+"\t\tpadding-left: 20px;\n"+"\t}\n"+"}\n";var _1110=dojo.moduleUrl(dojox._scopeName,"editor/plugins/resources").toString();if(!(_1110.match(/^https?:\/\//i))&&!(_1110.match(/^file:\/\//i))){var bUrl;if(_1110.charAt(0)==="/"){var proto=dojo.doc.location.protocol;var hostn=dojo.doc.location.host;bUrl=proto+"//"+hostn;}else{bUrl=this._calcBaseUrl(dojo.global.location.href);}if(bUrl[bUrl.length-1]!=="/"&&_1110.charAt(0)!=="/"){bUrl+="/";}_1110=bUrl+_1110;}return style.replace(/\{MODURL\}/gi,_1110);},_applyStyles:function(){if(!this._styled){try{this._styled=true;var doc=this.editor.document;var style=this.getAnchorStyle();if(!dojo.isIE){var sNode=doc.createElement("style");sNode.appendChild(doc.createTextNode(style));doc.getElementsByTagName("head")[0].appendChild(sNode);}else{var ss=doc.createStyleSheet("");ss.cssText=style;}}catch(e){}}},_calcBaseUrl:function(_1111){var _1112=null;if(_1111!==null){var index=_1111.indexOf("?");if(index!=-1){_1111=_1111.substring(0,index);}index=_1111.lastIndexOf("/");if(index>0&&index<_1111.length){_1112=_1111.substring(0,index);}else{_1112=_1111;}}return _1112;},_checkValues:function(args){if(args){if(args.anchorInput){args.anchorInput=args.anchorInput.replace(/"/g,"&quot;");}if(!args.textInput){args.textInput="&nbsp;";}}return args;},setValue:function(args){this._onCloseDialog();if(!this.editor.window.getSelection){var sel=dijit.range.getSelection(this.editor.window);var range=sel.getRangeAt(0);var a=range.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!=="a")){a=this.editor._sCall("getSelectedElement",["a"]);}if(a&&(a.nodeName&&a.nodeName.toLowerCase()==="a")){if(this.editor.queryCommandEnabled("unlink")){this.editor._sCall("selectElementChildren",[a]);this.editor.execCommand("unlink");}}}args=this._checkValues(args);this.editor.execCommand("inserthtml",dojo.string.substitute(this.htmlTemplate,args));},_onCloseDialog:function(){this.editor.focus();},_getCurrentValues:function(a){var _1113,text;if(a&&a.tagName.toLowerCase()==="a"&&dojo.attr(a,"name")){_1113=dojo.attr(a,"name");text=a.textContent||a.innerText;this.editor._sCall("selectElement",[a,true]);}else{text=this.editor._sCall("getSelectedText");}return {anchorInput:_1113||"",textInput:text||""};},_onOpenDialog:function(){var a;if(!this.editor.window.getSelection){var sel=dijit.range.getSelection(this.editor.window);var range=sel.getRangeAt(0);a=range.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!=="a")){a=this.editor._sCall("getSelectedElement",["a"]);}}else{a=this.editor._sCall("getAncestorElement",["a"]);}this.dropDown.reset();this._setButton.set("disabled",true);this.dropDown.set("value",this._getCurrentValues(a));},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg==="a"&&dojo.attr(t,"name")){this.editor.onDisplayChanged();this.editor._sCall("selectElement",[t]);setTimeout(dojo.hitch(this,function(){this.button.set("disabled",false);this.button.openDropDown();if(this.button.dropDown.focus){this.button.dropDown.focus();}}),10);}}},_preDomFilter:function(node){dojo.query("a[name]:not([href])",this.editor.editNode).addClass("dijitEditorPluginInsertAnchorStyle");},_postDomFilter:function(node){if(node){dojo.query("a[name]:not([href])",node).removeClass("dijitEditorPluginInsertAnchorStyle");}return node;}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name;if(name){name=name.toLowerCase();}if(name==="insertanchor"){o.plugin=new _110a();}});return _110a;});},"dijit/_Templated":function(){define(["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_1114,_1115,_1116,array,_1117,lang,_1118){lang.extend(_1114,{waiRole:"",waiState:""});return _1117("dijit._Templated",[_1115,_1116],{widgetsInTemplate:false,constructor:function(){_1118.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");},_processNode:function(_1119,_111a){var ret=this.inherited(arguments);var role=_111a(_1119,"waiRole");if(role){_1119.setAttribute("role",role);}var _111b=_111a(_1119,"waiState");if(_111b){array.forEach(_111b.split(/\s*,\s*/),function(_111c){if(_111c.indexOf("-")!=-1){var pair=_111c.split("-");_1119.setAttribute("aria-"+pair[0],pair[1]);}});}return ret;}});});},"dijit/form/Select":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormSelectWidget","../_HasDropDown","../DropDownMenu","../MenuItem","../MenuSeparator","../Tooltip","../_KeyNavMixin","../registry","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(array,_111d,_111e,_111f,_1120,i18n,keys,lang,on,has,_1121,_1122,_1123,_1124,_1125,_1126,_1127,_1128,_1129){var _112a=_111d("dijit.form._SelectMenu",_1123,{autoFocus:true,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox");},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"selectstart",function(evt){evt.preventDefault();evt.stopPropagation();}));},focus:function(){var found=false,val=this.parentWidget.value;if(lang.isArray(val)){val=val[val.length-1];}if(val){array.forEach(this.parentWidget._getChildren(),function(child){if(child.option&&(val===child.option.value)){found=true;this.focusChild(child,false);}},this);}if(!found){this.inherited(arguments);}}});var _112b=_111d("dijit.form.Select"+(has("dojo-bidi")?"_NoBidi":""),[_1121,_1122,_1127],{baseClass:"dijitSelect dijitValidationTextBox",templateString:_1129,_buttonInputDisabled:has("ie")?"disabled":"",required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:false,_childrenLoaded:false,labelType:"html",_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[si>=0?si:0].value);}this.dropDown=new _112a({id:this.id+"_menu",parentWidget:this});_111f.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "));},_getMenuItemForOption:function(_112c){if(!_112c.value&&!_112c.label){return new _1125({ownerDocument:this.ownerDocument});}else{var click=lang.hitch(this,"_setValueAttr",_112c);var item=new _1124({option:_112c,label:(this.labelType==="text"?(_112c.label||"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;"):_112c.label)||this.emptyLabel,onClick:click,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:_112c.disabled||false});item.focusNode.setAttribute("role","option");return item;}},_addOptionItem:function(_112d){if(this.dropDown){this.dropDown.addChild(this._getMenuItemForOption(_112d));}},_getChildren:function(){if(!this.dropDown){return [];}return this.dropDown.getChildren();},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},focusChild:function(_112e){if(_112e){this.set("value",_112e.option);}},_getFirst:function(){var _112f=this._getChildren();return _112f.length?_112f[0]:null;},_getLast:function(){var _1130=this._getChildren();return _1130.length?_1130[_1130.length-1]:null;},childSelector:function(node){var node=_1128.byNode(node);return node&&node.getParent()==this.dropDown;},onKeyboardSearch:function(item,evt,_1131,_1132){if(item){this.focusChild(item);}},_loadChildren:function(_1133){if(_1133===true){if(this.dropDown){delete this.dropDown.focusedChild;this.focusedChild=null;}if(this.options.length){this.inherited(arguments);}else{array.forEach(this._getChildren(),function(child){child.destroyRecursive();});var item=new _1124({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(item);}}else{this._updateSelection();}this._isLoaded=false;this._childrenLoaded=true;if(!this._loadingStore){this._setValueAttr(this.value,false);}},_refreshState:function(){if(this._started){this.validate(this.focused);}},startup:function(){this.inherited(arguments);this._refreshState();},_setValueAttr:function(value){this.inherited(arguments);_111e.set(this.valueNode,"value",this.get("value"));this._refreshState();},_setNameAttr:"valueNode",_setDisabledAttr:function(value){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(value){this._set("required",value);this.focusNode.setAttribute("aria-required",value);this._refreshState();},_setOptionsAttr:function(_1134){this._isLoaded=false;this._set("options",_1134);},_setDisplay:function(_1135){var lbl=(this.labelType==="text"?(_1135||"").replace(/&/g,"&amp;").replace(/</g,"&lt;"):_1135)||this.emptyLabel;this.containerNode.innerHTML="<span role=\"option\" class=\"dijitReset dijitInline "+this.baseClass.replace(/\s+|$/g,"Label ")+"\">"+lbl+"</span>";},validate:function(_1136){var _1137=this.disabled||this.isValid(_1136);this._set("state",_1137?"":(this._hasBeenBlurred?"Error":"Incomplete"));this.focusNode.setAttribute("aria-invalid",_1137?"false":"true");var _1138=_1137?"":this._missingMsg;if(_1138&&this.focused&&this._hasBeenBlurred){_1126.show(_1138,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_1126.hide(this.domNode);}this._set("message",_1138);return _1137;},isValid:function(){return (!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));},reset:function(){this.inherited(arguments);_1126.hide(this.domNode);this._refreshState();},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"selectstart",function(evt){evt.preventDefault();evt.stopPropagation();}));this.domNode.setAttribute("aria-expanded","false");var _1139=this._keyNavCodes;delete _1139[keys.LEFT_ARROW];delete _1139[keys.RIGHT_ARROW];},_setStyleAttr:function(value){this.inherited(arguments);_111f.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width);},isLoaded:function(){return this._isLoaded;},loadDropDown:function(_113a){this._loadChildren(true);this._isLoaded=true;_113a();},destroy:function(_113b){if(this.dropDown&&!this.dropDown._destroyed){this.dropDown.destroyRecursive(_113b);delete this.dropDown;}_1126.hide(this.domNode);this.inherited(arguments);},_onFocus:function(){this.validate(true);},_onBlur:function(){_1126.hide(this.domNode);this.inherited(arguments);this.validate(false);}});if(has("dojo-bidi")){_112b=_111d("dijit.form.Select",_112b,{_setDisplay:function(_113c){this.inherited(arguments);this.applyTextDir(this.containerNode);}});}_112b._Menu=_112a;function _113d(_113e){return function(evt){if(!this._isLoaded){this.loadDropDown(lang.hitch(this,_113e,evt));}else{this.inherited(_113e,arguments);}};};_112b.prototype._onContainerKeydown=_113d("_onContainerKeydown");_112b.prototype._onContainerKeypress=_113d("_onContainerKeypress");return _112b;});},"dijit/form/_FormSelectWidget":function(){define(["dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/when","dojo/store/util/QueryResults","./_FormValueWidget"],function(array,_113f,_1140,_1141,_1142,dom,_1143,_1144,lang,query,when,_1145,_1146){var _1147=_1142("dijit.form._FormSelectWidget",_1146,{multiple:false,options:null,store:null,_setStoreAttr:function(val){if(this._created){this._deprecatedSetStore(val);}},query:null,_setQueryAttr:function(query){if(this._created){this._deprecatedSetStore(this.store,this.selectedValue,{query:query});}},queryOptions:null,_setQueryOptionsAttr:function(_1148){if(this._created){this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:_1148});}},labelAttr:"",onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,onLoadDeferred:null,getOptions:function(_1149){var opts=this.options||[];if(_1149==null){return opts;}if(lang.isArray(_1149)){return array.map(_1149,"return this.getOptions(item);",this);}if(lang.isString(_1149)){_1149={value:_1149};}if(lang.isObject(_1149)){if(!array.some(opts,function(_114a,idx){for(var a in _1149){if(!(a in _114a)||_114a[a]!=_1149[a]){return false;}}_1149=idx;return true;})){_1149=-1;}}if(_1149>=0&&_1149<opts.length){return opts[_1149];}return null;},addOption:function(_114b){array.forEach(lang.isArray(_114b)?_114b:[_114b],function(i){if(i&&lang.isObject(i)){this.options.push(i);}},this);this._loadChildren();},removeOption:function(_114c){var _114d=this.getOptions(lang.isArray(_114c)?_114c:[_114c]);array.forEach(_114d,function(_114e){if(_114e){this.options=array.filter(this.options,function(node){return (node.value!==_114e.value||node.label!==_114e.label);});this._removeOptionItem(_114e);}},this);this._loadChildren();},updateOption:function(_114f){array.forEach(lang.isArray(_114f)?_114f:[_114f],function(i){var _1150=this.getOptions({value:i.value}),k;if(_1150){for(k in i){_1150[k]=i[k];}}},this);this._loadChildren();},setStore:function(store,_1151,_1152){_1144.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.","","2.0");this._deprecatedSetStore(store,_1151,_1152);},_deprecatedSetStore:function(store,_1153,_1154){var _1155=this.store;_1154=_1154||{};if(_1155!==store){var h;while((h=this._notifyConnections.pop())){h.remove();}if(!store.get){lang.mixin(store,{_oldAPI:true,get:function(id){var _1156=new _113f();this.fetchItemByIdentity({identity:id,onItem:function(_1157){_1156.resolve(_1157);},onError:function(error){_1156.reject(error);}});return _1156.promise;},query:function(query,_1158){var _1159=new _113f(function(){if(_115a.abort){_115a.abort();}});_1159.total=new _113f();var _115a=this.fetch(lang.mixin({query:query,onBegin:function(count){_1159.total.resolve(count);},onComplete:function(_115b){_1159.resolve(_115b);},onError:function(error){_1159.reject(error);}},_1158));return new _1145(_1159);}});if(store.getFeatures()["dojo.data.api.Notification"]){this._notifyConnections=[_1140.after(store,"onNew",lang.hitch(this,"_onNewItem"),true),_1140.after(store,"onDelete",lang.hitch(this,"_onDeleteItem"),true),_1140.after(store,"onSet",lang.hitch(this,"_onSetItem"),true)];}}this._set("store",store);}if(this.options&&this.options.length){this.removeOption(this.options);}if(this._queryRes&&this._queryRes.close){this._queryRes.close();}if(this._observeHandle&&this._observeHandle.remove){this._observeHandle.remove();this._observeHandle=null;}if(_1154.query){this._set("query",_1154.query);}if(_1154.queryOptions){this._set("queryOptions",_1154.queryOptions);}if(store&&store.query){this._loadingStore=true;this.onLoadDeferred=new _113f();this._queryRes=store.query(this.query,this.queryOptions);when(this._queryRes,lang.hitch(this,function(items){if(this.sortByLabel&&!_1154.sort&&items.length){if(store.getValue){items.sort(_1141.createSortFunction([{attribute:store.getLabelAttributes(items[0])[0]}],store));}else{var _115c=this.labelAttr;items.sort(function(a,b){return a[_115c]>b[_115c]?1:b[_115c]>a[_115c]?-1:0;});}}if(_1154.onFetch){items=_1154.onFetch.call(this,items,_1154);}array.forEach(items,function(i){this._addOptionForItem(i);},this);if(this._queryRes.observe){this._observeHandle=this._queryRes.observe(lang.hitch(this,function(_115d,_115e,_115f){if(_115e==_115f){this._onSetItem(_115d);}else{if(_115e!=-1){this._onDeleteItem(_115d);}if(_115f!=-1){this._onNewItem(_115d);}}}),true);}this._loadingStore=false;this.set("value","_pendingValue" in this?this._pendingValue:_1153);delete this._pendingValue;if(!this.loadChildrenOnOpen){this._loadChildren();}else{this._pseudoLoadChildren(items);}this.onLoadDeferred.resolve(true);this.onSetStore();}),function(err){console.error("dijit.form.Select: "+err.toString());this.onLoadDeferred.reject(err);});}return _1155;},_setValueAttr:function(_1160,_1161){if(!this._onChangeActive){_1161=null;}if(this._loadingStore){this._pendingValue=_1160;return;}if(_1160==null){return;}if(lang.isArray(_1160)){_1160=array.map(_1160,function(value){return lang.isObject(value)?value:{value:value};});}else{if(lang.isObject(_1160)){_1160=[_1160];}else{_1160=[{value:_1160}];}}_1160=array.filter(this.getOptions(_1160),function(i){return i&&i.value;});var opts=this.getOptions()||[];if(!this.multiple&&(!_1160[0]||!_1160[0].value)&&!!opts.length){_1160[0]=opts[0];}array.forEach(opts,function(opt){opt.selected=array.some(_1160,function(v){return v.value===opt.value;});});var val=array.map(_1160,function(opt){return opt.value;});if(typeof val=="undefined"||typeof val[0]=="undefined"){return;}var disp=array.map(_1160,function(opt){return opt.label;});this._setDisplay(this.multiple?disp:disp[0]);this.inherited(arguments,[this.multiple?val:val[0],_1161]);this._updateSelection();},_getDisplayedValueAttr:function(){var ret=array.map([].concat(this.get("selectedOptions")),function(v){if(v&&"label" in v){return v.label;}else{if(v){return v.value;}}return null;},this);return this.multiple?ret:ret[0];},_setDisplayedValueAttr:function(label){this.set("value",this.getOptions(typeof label=="string"?{label:label}:label));},_loadChildren:function(){if(this._loadingStore){return;}array.forEach(this._getChildren(),function(child){child.destroyRecursive();});array.forEach(this.options,this._addOptionItem,this);this._updateSelection();},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var val=[].concat(this.value);if(val&&val[0]){var self=this;array.forEach(this._getChildren(),function(child){var _1162=array.some(val,function(v){return child.option&&(v===child.option.value);});if(_1162&&!self.multiple){self.focusedChild=child;}_1143.toggle(child.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),_1162);child.domNode.setAttribute("aria-selected",_1162?"true":"false");},this);}},_getValueFromOpts:function(){var opts=this.getOptions()||[];if(!this.multiple&&opts.length){var opt=array.filter(opts,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{opts[0].selected=true;return opts[0].value;}}else{if(this.multiple){return array.map(array.filter(opts,function(i){return i.selected;}),function(i){return i.value;})||[];}}return "";},_onNewItem:function(item,_1163){if(!_1163||!_1163.parent){this._addOptionForItem(item);}},_onDeleteItem:function(item){var store=this.store;this.removeOption({value:store.getIdentity(item)});},_onSetItem:function(item){this.updateOption(this._getOptionObjForItem(item));},_getOptionObjForItem:function(item){var store=this.store,label=(this.labelAttr&&this.labelAttr in item)?item[this.labelAttr]:store.getLabel(item),value=(label?store.getIdentity(item):null);return {value:value,label:label,item:item};},_addOptionForItem:function(item){var store=this.store;if(store.isItemLoaded&&!store.isItemLoaded(item)){store.loadItem({item:item,onItem:function(i){this._addOptionForItem(i);},scope:this});return;}var _1164=this._getOptionObjForItem(item);this.addOption(_1164);},constructor:function(_1165){this._oValue=(_1165||{}).value||null;this._notifyConnections=[];},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},_fillContent:function(){if(!this.options){this.options=this.srcNodeRef?query("> *",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:(node.getAttribute("data-"+_1144._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this._set("value",this._getValueFromOpts());}else{if(this.multiple&&typeof this.value=="string"){this._set("value",this.value.split(","));}}},postCreate:function(){this.inherited(arguments);_1140.after(this,"onChange",lang.hitch(this,"_updateSelection"));var store=this.store;if(store&&(store.getIdentity||store.getFeatures()["dojo.data.api.Identity"])){this.store=null;this._deprecatedSetStore(store,this._oValue,{query:this.query,queryOptions:this.queryOptions});}this._storeInitialized=true;},startup:function(){this._loadChildren();this.inherited(arguments);},destroy:function(){var h;while((h=this._notifyConnections.pop())){h.remove();}if(this._queryRes&&this._queryRes.close){this._queryRes.close();}if(this._observeHandle&&this._observeHandle.remove){this._observeHandle.remove();this._observeHandle=null;}this.inherited(arguments);},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return [];},_getSelectedOptionsAttr:function(){return this.getOptions({selected:true});},_pseudoLoadChildren:function(){},onSetStore:function(){}});return _1147;});},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(lang){var _1166={};lang.setObject("dojo.data.util.sorter",_1166);_1166.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};_1166.createSortFunction=function(_1167,store){var _1168=[];function _1169(attr,dir,comp,s){return function(itemA,itemB){var a=s.getValue(itemA,attr);var b=s.getValue(itemB,attr);return dir*comp(a,b);};};var _116a;var map=store.comparatorMap;var bc=_1166.basicComparator;for(var i=0;i<_1167.length;i++){_116a=_1167[i];var attr=_116a.attribute;if(attr){var dir=(_116a.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_1168.push(_1169(attr,dir,comp,store));}}return function(rowA,rowB){var i=0;while(i<_1168.length){var ret=_1168[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};return _1166;});},"dojox/editor/plugins/ToolbarLineBreak":function(){define(["dojo","dijit","dojox","dijit/_Widget","dijit/_TemplatedMixin","dijit/_editor/_Plugin","dojo/_base/declare"],function(dojo,dijit,dojox,_116b,_116c,_116d,_116e){var _116f=_116e("dojox.editor.plugins.ToolbarLineBreak",[_116b,_116c],{templateString:"<span class='dijit dijitReset'><br></span>",postCreate:function(){dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="||"||name==="toolbarlinebreak"){o.plugin=new _116d({button:new _116f(),setEditor:function(_1170){this.editor=_1170;}});}});return _116f;});},"dojox/editor/plugins/Blockquote":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/form/ToggleButton","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/i18n!dojox/editor/plugins/nls/Blockquote"],function(dojo,dijit,dojox,_1171){var _1172=dojo.declare("dojox.editor.plugins.Blockquote",_1171,{iconClassPrefix:"dijitAdditionalEditorIcon",_initButton:function(){this._nlsResources=dojo.i18n.getLocalization("dojox.editor.plugins","Blockquote");this.button=new dijit.form.ToggleButton({label:this._nlsResources["blockquote"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"Blockquote",tabIndex:"-1",onClick:dojo.hitch(this,"_toggleQuote")});},setEditor:function(_1173){this.editor=_1173;this._initButton();this.connect(this.editor,"onNormalizedDisplayChanged","updateState");_1173.customUndo=true;},_toggleQuote:function(arg){try{var ed=this.editor;ed.focus();var _1174=this.button.get("checked");var sel=dijit.range.getSelection(ed.window);var range,elem,start,end;if(sel&&sel.rangeCount>0){range=sel.getRangeAt(0);}if(range){ed.beginEditing();if(_1174){var bq,tag;if(range.startContainer===range.endContainer){if(this._isRootInline(range.startContainer)){start=range.startContainer;while(start&&start.parentNode!==ed.editNode){start=start.parentNode;}while(start&&start.previousSibling&&(this._isTextElement(start)||(start.nodeType===1&&this._isInlineFormat(this._getTagName(start))))){start=start.previousSibling;}if(start&&start.nodeType===1&&!this._isInlineFormat(this._getTagName(start))){start=start.nextSibling;}if(start){bq=ed.document.createElement("blockquote");dojo.place(bq,start,"after");bq.appendChild(start);end=bq.nextSibling;while(end&&(this._isTextElement(end)||(end.nodeType===1&&this._isInlineFormat(this._getTagName(end))))){bq.appendChild(end);end=bq.nextSibling;}}}else{var node=range.startContainer;while((this._isTextElement(node)||this._isInlineFormat(this._getTagName(node))||this._getTagName(node)==="li")&&node!==ed.editNode&&node!==ed.document.body){node=node.parentNode;}if(node!==ed.editNode&&node!==node.ownerDocument.documentElement){bq=ed.document.createElement("blockquote");dojo.place(bq,node,"after");bq.appendChild(node);}}if(bq){ed._sCall("selectElementChildren",[bq]);ed._sCall("collapse",[true]);}}else{var _1175;start=range.startContainer;end=range.endContainer;while(start&&this._isTextElement(start)&&start.parentNode!==ed.editNode){start=start.parentNode;}_1175=start;while(_1175.nextSibling&&ed._sCall("inSelection",[_1175])){_1175=_1175.nextSibling;}end=_1175;if(end===ed.editNode||end===ed.document.body){bq=ed.document.createElement("blockquote");dojo.place(bq,start,"after");tag=this._getTagName(start);if(this._isTextElement(start)||this._isInlineFormat(tag)){var next=start;while(next&&(this._isTextElement(next)||(next.nodeType===1&&this._isInlineFormat(this._getTagName(next))))){bq.appendChild(next);next=bq.nextSibling;}}else{bq.appendChild(start);}return;}end=end.nextSibling;_1175=start;while(_1175&&_1175!==end){if(_1175.nodeType===1){tag=this._getTagName(_1175);if(tag!=="br"){if(!window.getSelection){if(tag==="p"&&this._isEmpty(_1175)){_1175=_1175.nextSibling;continue;}}if(this._isInlineFormat(tag)){if(!bq){bq=ed.document.createElement("blockquote");dojo.place(bq,_1175,"after");bq.appendChild(_1175);}else{bq.appendChild(_1175);}_1175=bq;}else{if(bq){if(this._isEmpty(bq)){bq.parentNode.removeChild(bq);}}bq=ed.document.createElement("blockquote");dojo.place(bq,_1175,"after");bq.appendChild(_1175);_1175=bq;}}}else{if(this._isTextElement(_1175)){if(!bq){bq=ed.document.createElement("blockquote");dojo.place(bq,_1175,"after");bq.appendChild(_1175);}else{bq.appendChild(_1175);}_1175=bq;}}_1175=_1175.nextSibling;}if(bq){if(this._isEmpty(bq)){bq.parentNode.removeChild(bq);}else{ed._sCall("selectElementChildren",[bq]);ed._sCall("collapse",[true]);}bq=null;}}}else{var found=false;if(range.startContainer===range.endContainer){elem=range.endContainer;while(elem&&elem!==ed.editNode&&elem!==ed.document.body){var tg=elem.tagName?elem.tagName.toLowerCase():"";if(tg==="blockquote"){found=true;break;}elem=elem.parentNode;}if(found){var _1176;while(elem.firstChild){_1176=elem.firstChild;dojo.place(_1176,elem,"before");}elem.parentNode.removeChild(elem);if(_1176){ed._sCall("selectElementChildren",[_1176]);ed._sCall("collapse",[true]);}}}else{start=range.startContainer;end=range.endContainer;while(start&&this._isTextElement(start)&&start.parentNode!==ed.editNode){start=start.parentNode;}var _1177=[];var cNode=start;while(cNode&&cNode.nextSibling&&ed._sCall("inSelection",[cNode])){if(cNode.parentNode&&this._getTagName(cNode.parentNode)==="blockquote"){cNode=cNode.parentNode;}_1177.push(cNode);cNode=cNode.nextSibling;}var _1178=this._findBlockQuotes(_1177);while(_1178.length){var bn=_1178.pop();if(bn.parentNode){while(bn.firstChild){dojo.place(bn.firstChild,bn,"before");}bn.parentNode.removeChild(bn);}}}}ed.endEditing();}ed.onNormalizedDisplayChanged();}catch(e){}},updateState:function(){var ed=this.editor;var _1179=this.get("disabled");if(!ed||!ed.isLoaded){return;}if(this.button){this.button.set("disabled",_1179);if(_1179){return;}var elem;var found=false;var sel=dijit.range.getSelection(ed.window);if(sel&&sel.rangeCount>0){var range=sel.getRangeAt(0);if(range){elem=range.endContainer;}}while(elem&&elem!==ed.editNode&&elem!==ed.document){var tg=elem.tagName?elem.tagName.toLowerCase():"";if(tg==="blockquote"){found=true;break;}elem=elem.parentNode;}this.button.set("checked",found);}},_findBlockQuotes:function(_117a){var _117b=[];if(_117a){var i;for(i=0;i<_117a.length;i++){var node=_117a[i];if(node.nodeType===1){if(this._getTagName(node)==="blockquote"){_117b.push(node);}if(node.childNodes&&node.childNodes.length>0){_117b=_117b.concat(this._findBlockQuotes(node.childNodes));}}}}return _117b;},_getTagName:function(node){var tag="";if(node&&node.nodeType===1){tag=node.tagName?node.tagName.toLowerCase():"";}return tag;},_isRootInline:function(node){var ed=this.editor;if(this._isTextElement(node)&&node.parentNode===ed.editNode){return true;}else{if(node.nodeType===1&&this._isInlineFormat(node)&&node.parentNode===ed.editNode){return true;}else{if(this._isTextElement(node)&&this._isInlineFormat(this._getTagName(node.parentNode))){node=node.parentNode;while(node&&node!==ed.editNode&&this._isInlineFormat(this._getTagName(node))){node=node.parentNode;}if(node===ed.editNode){return true;}}}}return false;},_isTextElement:function(node){if(node&&node.nodeType===3||node.nodeType===4){return true;}return false;},_isEmpty:function(node){if(node.childNodes){var empty=true;var i;for(i=0;i<node.childNodes.length;i++){var n=node.childNodes[i];if(n.nodeType===1){if(this._getTagName(n)==="p"){if(!dojo.trim(n.innerHTML)){continue;}}empty=false;break;}else{if(this._isTextElement(n)){var nv=dojo.trim(n.nodeValue);if(nv&&nv!=="&nbsp;"&&nv!==" "){empty=false;break;}}else{empty=false;break;}}}return empty;}else{return true;}},_isInlineFormat:function(tag){switch(tag){case "a":case "b":case "strong":case "s":case "strike":case "i":case "u":case "em":case "sup":case "sub":case "span":case "font":case "big":case "cite":case "q":case "img":case "small":return true;default:return false;}}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="blockquote"){o.plugin=new _1172({});}});return _1172;});},"dojox/editor/plugins/LocalImage":function(){define(["dojo","dijit","dijit/registry","dijit/_base/popup","dijit/_editor/_Plugin","dijit/_editor/plugins/LinkDialog","dijit/TooltipDialog","dijit/form/_TextBoxMixin","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/DropDownButton","dojo/_base/connect","dojo/_base/declare","dojo/_base/sniff","dojox/form/FileUploader","dojo/i18n!dojox/editor/plugins/nls/LocalImage"],function(dojo,dijit,_117c,popup,_117d,_117e,_117f,_1180,_1181,_1182,_1183,_1184,_1185,has,_1186,_1187){var _1188=dojo.declare("dojox.editor.plugins.LocalImage",_117e.ImgLinkDialog,{uploadable:false,uploadUrl:"",baseImageUrl:"",fileMask:"*.jpg;*.jpeg;*.gif;*.png;*.bmp",urlRegExp:"",htmlFieldName:"uploadedfile",_isLocalFile:false,_messages:"",_cssPrefix:"dijitEditorEilDialog",_closable:true,linkDialogTemplate:["<div style='border-bottom: 1px solid black; padding-bottom: 2pt; margin-bottom: 4pt;'></div>","<div class='dijitEditorEilDialogDescription'>${prePopuTextUrl}${prePopuTextBrowse}</div>","<table role='presentation'><tr><td colspan='2'>","<label for='${id}_urlInput' title='${prePopuTextUrl}${prePopuTextBrowse}'>${url}</label>","</td></tr><tr><td class='dijitEditorEilDialogField'>","<input dojoType='dijit.form.ValidationTextBox' class='dijitEditorEilDialogField'"+"regExp='${urlRegExp}' title='${prePopuTextUrl}${prePopuTextBrowse}'  selectOnClick='true' required='true' "+"id='${id}_urlInput' name='urlInput' intermediateChanges='true' invalidMessage='${invalidMessage}' "+"prePopuText='&lt;${prePopuTextUrl}${prePopuTextBrowse}&gt'>","</td><td>","<div id='${id}_browse' style='display:${uploadable}'>${browse}</div>","</td></tr><tr><td colspan='2'>","<label for='${id}_textInput'>${text}</label>","</td></tr><tr><td>","<input dojoType='dijit.form.TextBox' required='false' id='${id}_textInput' "+"name='textInput' intermediateChanges='true' selectOnClick='true' class='dijitEditorEilDialogField'>","</td><td></td></tr><tr><td>","</td><td>","</td></tr><tr><td colspan='2'>","<button dojoType='dijit.form.Button' id='${id}_setButton'>${set}</button>","</td></tr></table>"].join(""),_initButton:function(){var _1189=this;this._messages=_1187;this.tag="img";var _118a=(this.dropDown=new _117f({title:_1187[this.command+"Title"],onOpen:function(){_1189._initialFileUploader();_1189._onOpenDialog();_117f.prototype.onOpen.apply(this,arguments);setTimeout(function(){_1180.selectInputText(_1189._urlInput.textbox);_1189._urlInput.isLoadComplete=true;},0);},onClose:function(){dojo.disconnect(_1189.blurHandler);_1189.blurHandler=null;this.onHide();},onCancel:function(){setTimeout(dojo.hitch(_1189,"_onCloseDialog"),0);}}));var label=this.getLabel(this.command),_118b=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1),props=dojo.mixin({label:label,showLabel:false,iconClass:_118b,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});if(!has("ie")){props.closeDropDown=function(focus){if(_1189._closable){if(this._opened){popup.close(this.dropDown);if(focus){this.focus();}this._opened=false;this.state="";}}setTimeout(function(){_1189._closable=true;},10);};}this.button=new _1183(props);var masks=this.fileMask.split(";"),temp="";dojo.forEach(masks,function(m){m=m.replace(/\./,"\\.").replace(/\*/g,".*");temp+="|"+m+"|"+m.toUpperCase();});_1187.urlRegExp=this.urlRegExp=temp.substring(1);if(!this.uploadable){_1187.prePopuTextBrowse=".";}_1187.id=_117c.getUniqueId(this.editor.id);_1187.uploadable=this.uploadable?"inline":"none";this._uniqueId=_1187.id;this._setContent("<div class='"+this._cssPrefix+"Title'>"+_118a.title+"</div>"+dojo.string.substitute(this.linkDialogTemplate,_1187));_118a.startup();var _118c=(this._urlInput=_117c.byId(this._uniqueId+"_urlInput"));this._textInput=_117c.byId(this._uniqueId+"_textInput");this._setButton=_117c.byId(this._uniqueId+"_setButton");if(_118c){var pt=_1182.prototype;_118c=dojo.mixin(_118c,{isLoadComplete:false,isValid:function(_118d){if(this.isLoadComplete){return pt.isValid.apply(this,arguments);}else{return this.get("value").length>0;}},reset:function(){this.isLoadComplete=false;pt.reset.apply(this,arguments);}});this.connect(_118c,"onKeyDown","_cancelFileUpload");this.connect(_118c,"onChange","_checkAndFixInput");}if(this._setButton){this.connect(this._setButton,"onClick","_checkAndSetValue");}this._connectTagEvents();},_initialFileUploader:function(){var fup=null,_118e=this,_118f=_118e._uniqueId,fUpId=_118f+"_browse",_1190=_118e._urlInput;if(_118e.uploadable&&!_118e._fileUploader){fup=_118e._fileUploader=new _1186({force:"html",uploadUrl:_118e.uploadUrl,htmlFieldName:_118e.htmlFieldName,uploadOnChange:false,selectMultipleFiles:false,showProgress:true},fUpId);fup.reset=function(){_118e._isLocalFile=false;fup._resetHTML();};_118e.connect(fup,"onClick",function(){_1190.validate(false);if(!has("ie")){_118e._closable=false;}});_118e.connect(fup,"onChange",function(data){_118e._isLocalFile=true;_1190.set("value",data[0].name);_1190.focus();});_118e.connect(fup,"onComplete",function(data){var _1191=_118e.baseImageUrl;_1191=_1191&&_1191.charAt(_1191.length-1)=="/"?_1191:_1191+"/";_1190.set("value",_1191+data[0].file);_118e._isLocalFile=false;_118e._setDialogStatus(true);_118e.setValue(_118e.dropDown.get("value"));});_118e.connect(fup,"onError",function(_1192){_118e._setDialogStatus(true);});}},_checkAndFixInput:function(){this._setButton.set("disabled",!this._isValid());},_isValid:function(){return this._urlInput.isValid();},_cancelFileUpload:function(){this._fileUploader.reset();this._isLocalFile=false;},_checkAndSetValue:function(){if(this._fileUploader&&this._isLocalFile){this._setDialogStatus(false);this._fileUploader.upload();}else{this.setValue(this.dropDown.get("value"));}},_setDialogStatus:function(value){this._urlInput.set("disabled",!value);this._textInput.set("disabled",!value);this._setButton.set("disabled",!value);},destroy:function(){this.inherited(arguments);if(this._fileUploader){this._fileUploader.destroy();delete this._fileUploader;}}});var _1193=function(args){return new _1188({command:"insertImage",uploadable:("uploadable" in args)?args.uploadable:false,uploadUrl:("uploadable" in args&&"uploadUrl" in args)?args.uploadUrl:"",htmlFieldName:("uploadable" in args&&"htmlFieldName" in args)?args.htmlFieldName:"uploadedfile",baseImageUrl:("uploadable" in args&&"baseImageUrl" in args)?args.baseImageUrl:"",fileMask:("fileMask" in args)?args.fileMask:"*.jpg;*.jpeg;*.gif;*.png;*.bmp"});};_117d.registry["LocalImage"]=_1193;_117d.registry["localImage"]=_1193;_117d.registry["localimage"]=_1193;return _1188;});},"dojox/form/FileUploader":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/window","dojo/_base/sniff","dojo/query","dojo/dom","dojo/dom-style","dojo/dom-geometry","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-form","dojo/_base/config","dijit/_base/manager","dojo/io/iframe","dojo/_base/Color","dojo/_base/unload","dijit/_Widget","dijit/_TemplatedMixin","dijit/_Contained","dojox/embed/Flash","dojox/embed/flashVars","dojox/html/styles"],function(_1194,_1195,lang,array,_1196,win,has,query,dom,_1197,_1198,_1199,_119a,_119b,_119c,_119d,_119e,_119f,Color,_11a0,_11a1,_11a2,_11a3,_11a4,_11a5,_11a6){_1194.deprecated("dojox.form.FileUploader","Use dojox.form.Uploader","2.0");return _1195("dojox.form.FileUploader",[_11a1,_11a2,_11a3],{swfPath:_119d.uploaderPath||require.toUrl("dojox/form/resources/fileuploader.swf"),templateString:"<div><div dojoAttachPoint=\"progNode\"><div dojoAttachPoint=\"progTextNode\"></div></div><div dojoAttachPoint=\"insideNode\" class=\"uploaderInsideNode\"></div></div>",uploadUrl:"",isDebug:false,devMode:false,baseClass:"dojoxUploaderNorm",hoverClass:"dojoxUploaderHover",activeClass:"dojoxUploaderActive",disabledClass:"dojoxUploaderDisabled",force:"",uploaderType:"",flashObject:null,flashMovie:null,insideNode:null,deferredUploading:1,fileListId:"",uploadOnChange:false,selectMultipleFiles:true,htmlFieldName:"uploadedfile",flashFieldName:"flashUploadFiles",fileMask:null,minFlashVersion:9,tabIndex:-1,showProgress:false,progressMessage:"Loading",progressBackgroundUrl:require.toUrl("dijit/themes/tundra/images/buttonActive.png"),progressBackgroundColor:"#ededed",progressWidgetId:"",skipServerCheck:false,serverTimeout:5000,log:function(){if(this.isDebug){console["log"](Array.prototype.slice.call(arguments).join(" "));}},constructor:function(){this._subs=[];},postMixInProperties:function(){this.fileList=[];this._cons=[];this.fileMask=this.fileMask||[];this.fileInputs=[];this.fileCount=0;this.flashReady=false;this._disabled=false;this.force=this.force.toLowerCase();this.uploaderType=((_11a4.available>=this.minFlashVersion||this.force=="flash")&&this.force!="html")?"flash":"html";this.deferredUploading=this.deferredUploading===true?1:this.deferredUploading;this._refNode=this.srcNodeRef;this.getButtonStyle();},startup:function(){},postCreate:function(){this.inherited(arguments);this.setButtonStyle();var _11a7;if(this.uploaderType=="flash"){_11a7="createFlashUploader";}else{this.uploaderType="html";_11a7="createHtmlUploader";}this[_11a7]();if(this.fileListId){this.connect(dom.byId(this.fileListId),"click",function(evt){var p=evt.target.parentNode.parentNode.parentNode;if(p.id&&p.id.indexOf("file_")>-1){this.removeFile(p.id.split("file_")[1]);}});}_11a0.addOnUnload(this,this.destroy);},getHiddenNode:function(node){if(!node){return null;}var _11a8=null;var p=node.parentNode;while(p&&p.tagName.toLowerCase()!="body"){var d=_1197.get(p,"display");if(d=="none"){_11a8=p;break;}p=p.parentNode;}return _11a8;},getButtonStyle:function(){var _11a9=this.srcNodeRef;this._hiddenNode=this.getHiddenNode(_11a9);if(this._hiddenNode){_1197.set(this._hiddenNode,"display","block");}if(!_11a9&&this.button&&this.button.domNode){var _11aa=true;var cls=this.button.domNode.className+" dijitButtonNode";var txt=this.getText(query(".dijitButtonText",this.button.domNode)[0]);var _11ab="<button id=\""+this.button.id+"\" class=\""+cls+"\">"+txt+"</button>";_11a9=_119b.place(_11ab,this.button.domNode,"after");this.srcNodeRef=_11a9;this.button.destroy();this.baseClass="dijitButton";this.hoverClass="dijitButtonHover";this.pressClass="dijitButtonActive";this.disabledClass="dijitButtonDisabled";}else{if(!this.srcNodeRef&&this.button){_11a9=this.button;}}if(_1199.get(_11a9,"class")){this.baseClass+=" "+_1199.get(_11a9,"class");}_1199.set(_11a9,"class",this.baseClass);this.norm=this.getStyle(_11a9);this.width=this.norm.w;this.height=this.norm.h;if(this.uploaderType=="flash"){this.over=this.getTempNodeStyle(_11a9,this.baseClass+" "+this.hoverClass,_11aa);this.down=this.getTempNodeStyle(_11a9,this.baseClass+" "+this.activeClass,_11aa);this.dsbl=this.getTempNodeStyle(_11a9,this.baseClass+" "+this.disabledClass,_11aa);this.fhtml={cn:this.getText(_11a9),nr:this.norm,ov:this.over,dn:this.down,ds:this.dsbl};}else{this.fhtml={cn:this.getText(_11a9),nr:this.norm};if(this.norm.va=="middle"){this.norm.lh=this.norm.h;}}if(this.devMode){this.log("classes - base:",this.baseClass," hover:",this.hoverClass,"active:",this.activeClass);this.log("fhtml:",this.fhtml);this.log("norm:",this.norm);this.log("over:",this.over);this.log("down:",this.down);}},setButtonStyle:function(){_1197.set(this.domNode,{width:this.fhtml.nr.w+"px",height:(this.fhtml.nr.h)+"px",padding:"0px",lineHeight:"normal",position:"relative"});if(this.uploaderType=="html"&&this.norm.va=="middle"){_1197.set(this.domNode,"lineHeight",this.norm.lh+"px");}if(this.showProgress){this.progTextNode.innerHTML=this.progressMessage;_1197.set(this.progTextNode,{width:this.fhtml.nr.w+"px",height:(this.fhtml.nr.h+0)+"px",padding:"0px",margin:"0px",left:"0px",lineHeight:(this.fhtml.nr.h+0)+"px",position:"absolute"});_1197.set(this.progNode,{width:this.fhtml.nr.w+"px",height:(this.fhtml.nr.h+0)+"px",padding:"0px",margin:"0px",left:"0px",position:"absolute",display:"none",backgroundImage:"url("+this.progressBackgroundUrl+")",backgroundPosition:"bottom",backgroundRepeat:"repeat-x",backgroundColor:this.progressBackgroundColor});}else{_119b.destroy(this.progNode);}_1197.set(this.insideNode,{position:"absolute",top:"0px",left:"0px",display:""});_119a.add(this.domNode,this.srcNodeRef.className);if(this.fhtml.nr.d.indexOf("inline")>-1){_119a.add(this.domNode,"dijitInline");}try{this.insideNode.innerHTML=this.fhtml.cn;}catch(e){if(this.uploaderType=="flash"){this.insideNode=this.insideNode.parentNode.removeChild(this.insideNode);win.body().appendChild(this.insideNode);this.insideNode.innerHTML=this.fhtml.cn;var c=_1196.connect(this,"onReady",this,function(){_1196.disconnect(c);this.insideNode=this.insideNode.parentNode.removeChild(this.insideNode);this.domNode.appendChild(this.insideNode);});}else{this.insideNode.appendChild(document.createTextNode(this.fhtml.cn));}}if(this._hiddenNode){_1197.set(this._hiddenNode,"display","none");}},onChange:function(_11ac){},onProgress:function(_11ad){},onComplete:function(_11ae){},onCancel:function(){},onError:function(_11af){},onReady:function(_11b0){},onLoad:function(_11b1){},submit:function(form){var data=form?_119c.toObject(form):null;this.upload(data);return false;},upload:function(data){if(!this.fileList.length){return false;}if(!this.uploadUrl){console.warn("uploadUrl not provided. Aborting.");return false;}if(!this.showProgress){this.set("disabled",true);}if(this.progressWidgetId){var node=_119e.byId(this.progressWidgetId).domNode;if(_1197.get(node,"display")=="none"){this.restoreProgDisplay="none";_1197.set(node,"display","block");}if(_1197.get(node,"visibility")=="hidden"){this.restoreProgDisplay="hidden";_1197.set(node,"visibility","visible");}}if(data&&!data.target){this.postData=data;}this.log("upload type:",this.uploaderType," - postData:",this.postData);for(var i=0;i<this.fileList.length;i++){var f=this.fileList[i];f.bytesLoaded=0;f.bytesTotal=f.size||100000;f.percent=0;}if(this.uploaderType=="flash"){this.uploadFlash();}else{this.uploadHTML();}return false;},removeFile:function(name,_11b2){var i;for(i=0;i<this.fileList.length;i++){if(this.fileList[i].name==name){if(!_11b2){this.fileList.splice(i,1);}break;}}if(this.uploaderType=="flash"){this.flashMovie.removeFile(name);}else{if(!_11b2){_119b.destroy(this.fileInputs[i]);this.fileInputs.splice(i,1);this._renumberInputs();}}if(this.fileListId){_119b.destroy("file_"+name);}},destroy:function(){if(this.uploaderType=="flash"&&!this.flashMovie){this._cons.push(_1196.connect(this,"onLoad",this,"destroy"));return;}array.forEach(this._subs,_1196.unsubscribe,dojo);array.forEach(this._cons,_1196.disconnect,dojo);if(this.scrollConnect){_1196.disconnect(this.scrollConnect);}if(this.uploaderType=="flash"){this.flashObject.destroy();delete this.flashObject;}else{_119b.destroy(this._fileInput);_119b.destroy(this._formNode);}this.inherited(arguments);},_displayProgress:function(_11b3){if(_11b3===true){if(this.uploaderType=="flash"){_1197.set(this.insideNode,"top","-2500px");}else{_1197.set(this.insideNode,"display","none");}_1197.set(this.progNode,"display","");}else{if(_11b3===false){_1197.set(this.insideNode,{display:"",top:"0"});_1197.set(this.progNode,"display","none");}else{var w=_11b3*this.fhtml.nr.w;_1197.set(this.progNode,"width",w+"px");}}},_animateProgress:function(){this._displayProgress(true);var _11b4=false;var c=_1196.connect(this,"_complete",function(){_1196.disconnect(c);_11b4=true;});var w=0;var _11b5=setInterval(lang.hitch(this,function(){w+=5;if(w>this.fhtml.nr.w){w=0;_11b4=true;}this._displayProgress(w/this.fhtml.nr.w);if(_11b4){clearInterval(_11b5);setTimeout(lang.hitch(this,function(){this._displayProgress(false);}),500);}}),50);},_error:function(evt){if(typeof (evt)=="string"){evt=new Error(evt);}this.onError(evt);},_addToFileList:function(){if(this.fileListId){var str="";array.forEach(this.fileList,function(d){str+="<table id=\"file_"+d.name+"\" class=\"fileToUpload\"><tr><td class=\"fileToUploadClose\"></td><td class=\"fileToUploadName\">"+d.name+"</td><td class=\"fileToUploadSize\">"+(d.size?Math.ceil(d.size*0.001)+"kb":"")+"</td></tr></table>";},this);dom.byId(this.fileListId).innerHTML=str;}},_change:function(_11b6){if(has("ie")){array.forEach(_11b6,function(f){f.name=f.name.split("\\")[f.name.split("\\").length-1];});}if(this.selectMultipleFiles){this.fileList=this.fileList.concat(_11b6);}else{if(this.fileList[0]){this.removeFile(this.fileList[0].name,true);}this.fileList=_11b6;}this._addToFileList();this.onChange(_11b6);if(this.uploadOnChange){if(this.uploaderType=="html"){this._buildFileInput();}this.upload();}else{if(this.uploaderType=="html"&&this.selectMultipleFiles){this._buildFileInput();this._connectInput();}}},_complete:function(_11b7){_11b7=lang.isArray(_11b7)?_11b7:[_11b7];array.forEach(_11b7,function(f){if(f.ERROR){this._error(f.ERROR);}},this);array.forEach(this.fileList,function(f){f.bytesLoaded=1;f.bytesTotal=1;f.percent=100;this._progress(f);},this);array.forEach(this.fileList,function(f){this.removeFile(f.name,true);},this);this.onComplete(_11b7);this.fileList=[];this._resetHTML();this.set("disabled",false);if(this.restoreProgDisplay){setTimeout(lang.hitch(this,function(){_1197.set(_119e.byId(this.progressWidgetId).domNode,this.restoreProgDisplay=="none"?"display":"visibility",this.restoreProgDisplay);}),500);}},_progress:function(_11b8){var total=0;var _11b9=0;for(var i=0;i<this.fileList.length;i++){var f=this.fileList[i];if(f.name==_11b8.name){f.bytesLoaded=_11b8.bytesLoaded;f.bytesTotal=_11b8.bytesTotal;f.percent=Math.ceil(f.bytesLoaded/f.bytesTotal*100);this.log(f.name,"percent:",f.percent);}_11b9+=Math.ceil(0.001*f.bytesLoaded);total+=Math.ceil(0.001*f.bytesTotal);}var _11ba=Math.ceil(_11b9/total*100);if(this.progressWidgetId){_119e.byId(this.progressWidgetId).update({progress:_11ba+"%"});}if(this.showProgress){this._displayProgress(_11ba*0.01);}this.onProgress(this.fileList);},_getDisabledAttr:function(){return this._disabled;},_setDisabledAttr:function(_11bb){if(this._disabled==_11bb){return;}if(this.uploaderType=="flash"){if(!this.flashReady){var _11bc=_1196.connect(this,"onLoad",this,function(){_1196.disconnect(_11bc);this._setDisabledAttr(_11bb);});return;}this._disabled=_11bb;this.flashMovie.doDisable(_11bb);}else{this._disabled=_11bb;_1197.set(this._fileInput,"display",this._disabled?"none":"");}_119a.toggle(this.domNode,this.disabledClass,_11bb);},_onFlashBlur:function(){this.flashMovie.blur();if(!this.nextFocusObject&&this.tabIndex){var nodes=query("[tabIndex]");for(var i=0;i<nodes.length;i++){if(nodes[i].tabIndex>=Number(this.tabIndex)+1){this.nextFocusObject=nodes[i];break;}}}this.nextFocusObject.focus();},_disconnect:function(){array.forEach(this._cons,_1196.disconnect,dojo);},uploadHTML:function(){if(this.selectMultipleFiles){_119b.destroy(this._fileInput);}this._setHtmlPostData();if(this.showProgress){this._animateProgress();}var dfd=_119f.send({url:this.uploadUrl.toString(),form:this._formNode,handleAs:"json",error:lang.hitch(this,function(err){this._error("HTML Upload Error:"+err.message);}),load:lang.hitch(this,function(data,_11bd,_11be){this._complete(data);})});},createHtmlUploader:function(){this._buildForm();this._setFormStyle();this._buildFileInput();this._connectInput();this._styleContent();_1197.set(this.insideNode,"visibility","visible");this.onReady();},_connectInput:function(){this._disconnect();this._cons.push(_1196.connect(this._fileInput,"mouseover",this,function(evt){_119a.add(this.domNode,this.hoverClass);this.onMouseOver(evt);}));this._cons.push(_1196.connect(this._fileInput,"mouseout",this,function(evt){setTimeout(lang.hitch(this,function(){_119a.remove(this.domNode,this.activeClass);_119a.remove(this.domNode,this.hoverClass);this.onMouseOut(evt);this._checkHtmlCancel("off");}),0);}));this._cons.push(_1196.connect(this._fileInput,"mousedown",this,function(evt){_119a.add(this.domNode,this.activeClass);_119a.remove(this.domNode,this.hoverClass);this.onMouseDown(evt);}));this._cons.push(_1196.connect(this._fileInput,"mouseup",this,function(evt){_119a.remove(this.domNode,this.activeClass);this.onMouseUp(evt);this.onClick(evt);this._checkHtmlCancel("up");}));this._cons.push(_1196.connect(this._fileInput,"change",this,function(){this._checkHtmlCancel("change");this._change([{name:this._fileInput.value,type:"",size:0}]);}));if(this.tabIndex>=0){_1199.set(this.domNode,"tabIndex",this.tabIndex);}},_checkHtmlCancel:function(_11bf){if(_11bf=="change"){this.dialogIsOpen=false;}if(_11bf=="up"){this.dialogIsOpen=true;}if(_11bf=="off"){if(this.dialogIsOpen){this.onCancel();}this.dialogIsOpen=false;}},_styleContent:function(){var o=this.fhtml.nr;_1197.set(this.insideNode,{width:o.w+"px",height:o.va=="middle"?o.h+"px":"auto",textAlign:o.ta,paddingTop:o.p[0]+"px",paddingRight:o.p[1]+"px",paddingBottom:o.p[2]+"px",paddingLeft:o.p[3]+"px"});try{_1197.set(this.insideNode,"lineHeight","inherit");}catch(e){}},_resetHTML:function(){if(this.uploaderType=="html"&&this._formNode){this.fileInputs=[];query("*",this._formNode).forEach(function(n){_119b.destroy(n);});this.fileCount=0;this._buildFileInput();this._connectInput();}},_buildForm:function(){if(this._formNode){return;}if(has("ie")<9||(has("ie")&&has("quirks"))){this._formNode=document.createElement("<form enctype=\"multipart/form-data\" method=\"post\">");this._formNode.encoding="multipart/form-data";this._formNode.id=_119e.getUniqueId("FileUploaderForm");this.domNode.appendChild(this._formNode);}else{this._formNode=_119b.create("form",{enctype:"multipart/form-data",method:"post",id:_119e.getUniqueId("FileUploaderForm")},this.domNode);}},_buildFileInput:function(){if(this._fileInput){this._disconnect();this._fileInput.id=this._fileInput.id+this.fileCount;_1197.set(this._fileInput,"display","none");}this._fileInput=document.createElement("input");this.fileInputs.push(this._fileInput);var nm=this.htmlFieldName;var _11c0=this.id;if(this.selectMultipleFiles){nm+=this.fileCount;_11c0+=this.fileCount;this.fileCount++;}_1199.set(this._fileInput,{id:this.id,name:nm,type:"file"});_119a.add(this._fileInput,"dijitFileInputReal");this._formNode.appendChild(this._fileInput);var real=_1198.getMarginBox(this._fileInput);_1197.set(this._fileInput,{position:"relative",left:(this.fhtml.nr.w-real.w)+"px",opacity:0});},_renumberInputs:function(){if(!this.selectMultipleFiles){return;}var nm;this.fileCount=0;array.forEach(this.fileInputs,function(inp){nm=this.htmlFieldName+this.fileCount;this.fileCount++;_1199.set(inp,"name",nm);},this);},_setFormStyle:function(){var size=Math.max(2,Math.max(Math.ceil(this.fhtml.nr.w/60),Math.ceil(this.fhtml.nr.h/15)));_11a6.insertCssRule("#"+this._formNode.id+" input","font-size:"+size+"em");_1197.set(this.domNode,{overflow:"hidden",position:"relative"});_1197.set(this.insideNode,"position","absolute");},_setHtmlPostData:function(){if(this.postData){for(var nm in this.postData){_119b.create("input",{type:"hidden",name:nm,value:this.postData[nm]},this._formNode);}}},uploadFlash:function(){try{if(this.showProgress){this._displayProgress(true);var c=_1196.connect(this,"_complete",this,function(){_1196.disconnect(c);this._displayProgress(false);});}var o={};for(var nm in this.postData){o[nm]=this.postData[nm];}this.flashMovie.doUpload(o);}catch(err){this._error("FileUploader - Sorry, the SWF failed to initialize."+err);}},createFlashUploader:function(){this.uploadUrl=this.uploadUrl.toString();if(this.uploadUrl){if(this.uploadUrl.toLowerCase().indexOf("http")<0&&this.uploadUrl.indexOf("/")!=0){var loc=window.location.href.split("/");loc.pop();loc=loc.join("/")+"/";this.uploadUrl=loc+this.uploadUrl;this.log("SWF Fixed - Relative loc:",loc," abs loc:",this.uploadUrl);}else{this.log("SWF URL unmodified:",this.uploadUrl);}}else{console.warn("Warning: no uploadUrl provided.");}var w=this.fhtml.nr.w;var h=this.fhtml.nr.h;var args={expressInstall:true,path:this.swfPath.uri||this.swfPath,width:w,height:h,allowScriptAccess:"always",allowNetworking:"all",vars:{uploadDataFieldName:this.flashFieldName,uploadUrl:this.uploadUrl,uploadOnSelect:this.uploadOnChange,deferredUploading:this.deferredUploading||0,selectMultipleFiles:this.selectMultipleFiles,id:this.id,isDebug:this.isDebug,devMode:this.devMode,flashButton:_11a5.serialize("fh",this.fhtml),fileMask:_11a5.serialize("fm",this.fileMask),noReturnCheck:this.skipServerCheck,serverTimeout:this.serverTimeout},params:{scale:"noscale",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"}};this.flashObject=new _11a4(args,this.insideNode);this.flashObject.onError=lang.hitch(function(msg){this._error("Flash Error: "+msg);});this.flashObject.onReady=lang.hitch(this,function(){_1197.set(this.insideNode,"visibility","visible");this.log("FileUploader flash object ready");this.onReady(this);});this.flashObject.onLoad=lang.hitch(this,function(mov){this.flashMovie=mov;this.flashReady=true;this.onLoad(this);});this._connectFlash();},_connectFlash:function(){this._doSub("/filesSelected","_change");this._doSub("/filesUploaded","_complete");this._doSub("/filesProgress","_progress");this._doSub("/filesError","_error");this._doSub("/filesCanceled","onCancel");this._doSub("/stageBlur","_onFlashBlur");this._doSub("/up","onMouseUp");this._doSub("/down","onMouseDown");this._doSub("/over","onMouseOver");this._doSub("/out","onMouseOut");this.connect(this.domNode,"focus",function(){this.flashMovie.focus();this.flashMovie.doFocus();});if(this.tabIndex>=0){_1199.set(this.domNode,"tabIndex",this.tabIndex);}},_doSub:function(_11c1,_11c2){this._subs.push(_1196.subscribe(this.id+_11c1,this,_11c2));},urlencode:function(url){if(!url||url=="none"){return false;}return url.replace(/:/g,"||").replace(/\./g,"^^").replace("url(","").replace(")","").replace(/'/g,"").replace(/"/g,"");},isButton:function(node){var tn=node.tagName.toLowerCase();return tn=="button"||tn=="input";},getTextStyle:function(node){var o={};o.ff=_1197.get(node,"fontFamily");if(o.ff){o.ff=o.ff.replace(", ",",");o.ff=o.ff.replace(/\"|\'/g,"");o.ff=o.ff=="sans-serif"?"Arial":o.ff;o.fw=_1197.get(node,"fontWeight");o.fi=_1197.get(node,"fontStyle");o.fs=parseInt(_1197.get(node,"fontSize"),10);if(_1197.get(node,"fontSize").indexOf("%")>-1){var n=node;while(n.tagName){if(_1197.get(n,"fontSize").indexOf("%")==-1){o.fs=parseInt(_1197.get(n,"fontSize"),10);break;}if(n.tagName.toLowerCase()=="body"){o.fs=16*0.01*parseInt(_1197.get(n,"fontSize"),10);}n=n.parentNode;}}o.fc=new Color(_1197.get(node,"color")).toHex();o.fc=parseInt(o.fc.substring(1,Infinity),16);}o.lh=_1197.get(node,"lineHeight");o.ta=_1197.get(node,"textAlign");o.ta=o.ta=="start"||!o.ta?"left":o.ta;o.va=this.isButton(node)?"middle":o.lh==o.h?"middle":_1197.get(node,"verticalAlign");return o;},getText:function(node){var cn=lang.trim(node.innerHTML);if(cn.indexOf("<")>-1){cn=escape(cn);}return cn;},getStyle:function(node){var o={};var dim=_1198.getContentBox(node);var pad=_1198.getPadExtents(node);o.p=[pad.t,pad.w-pad.l,pad.h-pad.t,pad.l];o.w=dim.w+pad.w;o.h=dim.h+pad.h;o.d=_1197.get(node,"display");var clr=new Color(_1197.get(node,"backgroundColor"));o.bc=clr.a==0?"#ffffff":clr.toHex();o.bc=parseInt(o.bc.substring(1,Infinity),16);var url=this.urlencode(_1197.get(node,"backgroundImage"));if(url){o.bi={url:url,rp:_1197.get(node,"backgroundRepeat"),pos:escape(_1197.get(node,"backgroundPosition"))};if(!o.bi.pos){var rx=_1197.get(node,"backgroundPositionX");var ry=_1197.get(node,"backgroundPositionY");rx=(rx=="left")?"0%":(rx=="right")?"100%":rx;ry=(ry=="top")?"0%":(ry=="bottom")?"100%":ry;o.bi.pos=escape(rx+" "+ry);}}return lang.mixin(o,this.getTextStyle(node));},getTempNodeStyle:function(node,_11c3,_11c4){var temp,style;if(_11c4){temp=_119b.place("<"+node.tagName+"><span>"+node.innerHTML+"</span></"+node.tagName+">",node.parentNode);var first=temp.firstChild;_119a.add(first,node.className);_119a.add(temp,_11c3);style=this.getStyle(first);}else{temp=_119b.place("<"+node.tagName+">"+node.innerHTML+"</"+node.tagName+">",node.parentNode);_119a.add(temp,node.className);_119a.add(temp,_11c3);temp.id=node.id;style=this.getStyle(temp);}_119b.destroy(temp);return style;}});});},"dojo/io/iframe":function(){define(["../_base/config","../_base/json","../_base/kernel","../_base/lang","../_base/xhr","../sniff","../_base/window","../dom","../dom-construct","../query","require","../aspect","../request/iframe"],function(_11c5,json,_11c6,lang,xhr,has,win,dom,_11c7,query,_11c8,_11c9,_11ca){_11c6.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");var mid=_11ca._iframeName;mid=mid.substring(0,mid.lastIndexOf("_"));var _11cb=lang.delegate(_11ca,{create:function(){return _11cb._frame=_11ca.create.apply(_11ca,arguments);},get:null,post:null,send:function(args){var rDfd;var dfd=xhr._ioSetArgs(args,function(dfd){rDfd&&rDfd.cancel();},function(dfd){var value=null,_11cc=dfd.ioArgs;try{var _11cd=_11cc.handleAs;if(_11cd==="xml"||_11cd==="html"){value=rDfd.response.data;}else{value=rDfd.response.text;if(_11cd==="json"){value=json.fromJson(value);}else{if(_11cd==="javascript"){value=_11c6.eval(value);}}}}catch(e){value=e;}return value;},function(error,dfd){dfd.ioArgs._hasError=true;return error;});var _11ce=dfd.ioArgs;var _11cf="GET",form=dom.byId(args.form);if(args.method&&args.method.toUpperCase()==="POST"&&form){_11cf="POST";}var _11d0={method:_11cf,handleAs:args.handleAs==="json"||args.handleAs==="javascript"?"text":args.handleAs,form:args.form,query:form?null:args.content,data:form?args.content:null,timeout:args.timeout,ioArgs:_11ce};if(_11d0.method){_11d0.method=_11d0.method.toUpperCase();}if(_11c5.ioPublish&&_11c6.publish&&_11ce.args.ioPublish!==false){var start=_11c9.after(_11ca,"_notifyStart",function(data){if(data.options.ioArgs===_11ce){start.remove();xhr._ioNotifyStart(dfd);}},true);}rDfd=_11ca(_11ce.url,_11d0,true);_11ce._callNext=rDfd._callNext;rDfd.then(function(){dfd.resolve(dfd);}).otherwise(function(error){dfd.ioArgs.error=error;dfd.reject(error);});return dfd;},_iframeOnload:win.global[mid+"_onload"]});lang.setObject("dojo.io.iframe",_11cb);return _11cb;});},"dojo/request/iframe":function(){define(["module","require","./watch","./util","./handlers","../_base/lang","../io-query","../query","../has","../dom","../dom-construct","../_base/window","../NodeList-dom"],function(_11d1,_11d2,watch,util,_11d3,lang,_11d4,query,has,dom,_11d5,win){var mid=_11d1.id.replace(/[\/\.\-]/g,"_"),_11d6=mid+"_onload";if(!win.global[_11d6]){win.global[_11d6]=function(){var dfd=_11d7._currentDfd;if(!dfd){_11d7._fireNextRequest();return;}var _11d8=dfd.response,_11d9=_11d8.options,_11da=dom.byId(_11d9.form)||dfd._tmpForm;if(_11da){var _11db=dfd._contentToClean;for(var i=0;i<_11db.length;i++){var key=_11db[i];for(var j=0;j<_11da.childNodes.length;j++){var _11dc=_11da.childNodes[j];if(_11dc.name===key){_11d5.destroy(_11dc);break;}}}dfd._originalAction&&_11da.setAttribute("action",dfd._originalAction);if(dfd._originalMethod){_11da.setAttribute("method",dfd._originalMethod);_11da.method=dfd._originalMethod;}if(dfd._originalTarget){_11da.setAttribute("target",dfd._originalTarget);_11da.target=dfd._originalTarget;}}if(dfd._tmpForm){_11d5.destroy(dfd._tmpForm);delete dfd._tmpForm;}dfd._finished=true;};}function _11dd(name,_11de,uri){if(win.global[name]){return win.global[name];}if(win.global.frames[name]){return win.global.frames[name];}if(!uri){if(has("config-useXDomain")&&!has("config-dojoBlankHtmlUrl")){console.warn("dojo/request/iframe: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}uri=(has("config-dojoBlankHtmlUrl")||_11d2.toUrl("dojo/resources/blank.html"));}var frame=_11d5.place("<iframe id=\""+name+"\" name=\""+name+"\" src=\""+uri+"\" onload=\""+_11de+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",win.body());win.global[name]=frame;return frame;};function _11df(_11e0,src,_11e1){var frame=win.global.frames[_11e0.name];if(frame.contentWindow){frame=frame.contentWindow;}try{if(!_11e1){frame.location=src;}else{frame.location.replace(src);}}catch(e){}};function doc(_11e2){if(_11e2.contentDocument){return _11e2.contentDocument;}var name=_11e2.name;if(name){var _11e3=win.doc.getElementsByTagName("iframe");if(_11e2.document&&_11e3[name].contentWindow&&_11e3[name].contentWindow.document){return _11e3[name].contentWindow.document;}else{if(win.doc.frames[name]&&win.doc.frames[name].document){return win.doc.frames[name].document;}}}return null;};function _11e4(){return _11d5.create("form",{name:mid+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},win.body());};function _11e5(){var dfd;try{if(_11d7._currentDfd||!_11d7._dfdQueue.length){return;}do{dfd=_11d7._currentDfd=_11d7._dfdQueue.shift();}while(dfd&&(dfd.canceled||(dfd.isCanceled&&dfd.isCanceled()))&&_11d7._dfdQueue.length);if(!dfd||dfd.canceled||(dfd.isCanceled&&dfd.isCanceled())){_11d7._currentDfd=null;return;}var _11e6=dfd.response,_11e7=_11e6.options,c2c=dfd._contentToClean=[],_11e8=dom.byId(_11e7.form),_11e9=util.notify,data=_11e7.data||null,_11ea;if(!dfd._legacy&&_11e7.method==="POST"&&!_11e8){_11e8=dfd._tmpForm=_11e4();}else{if(_11e7.method==="GET"&&_11e8&&_11e6.url.indexOf("?")>-1){_11ea=_11e6.url.slice(_11e6.url.indexOf("?")+1);data=lang.mixin(_11d4.queryToObject(_11ea),data);}}if(_11e8){if(!dfd._legacy){var _11eb=_11e8;do{_11eb=_11eb.parentNode;}while(_11eb&&_11eb!==win.doc.documentElement);if(!_11eb){_11e8.style.position="absolute";_11e8.style.left="-1000px";_11e8.style.top="-1000px";win.body().appendChild(_11e8);}if(!_11e8.name){_11e8.name=mid+"_form";}}if(data){var _11ec=function(name,value){_11d5.create("input",{type:"hidden",name:name,value:value},_11e8);c2c.push(name);};for(var x in data){var val=data[x];if(lang.isArray(val)&&val.length>1){for(var i=0;i<val.length;i++){_11ec(x,val[i]);}}else{if(!_11e8[x]){_11ec(x,val);}else{_11e8[x].value=val;}}}}var _11ed=_11e8.getAttributeNode("action"),_11ee=_11e8.getAttributeNode("method"),_11ef=_11e8.getAttributeNode("target");if(_11e6.url){dfd._originalAction=_11ed?_11ed.value:null;if(_11ed){_11ed.value=_11e6.url;}else{_11e8.setAttribute("action",_11e6.url);}}if(!dfd._legacy){dfd._originalMethod=_11ee?_11ee.value:null;if(_11ee){_11ee.value=_11e7.method;}else{_11e8.setAttribute("method",_11e7.method);}}else{if(!_11ee||!_11ee.value){if(_11ee){_11ee.value=_11e7.method;}else{_11e8.setAttribute("method",_11e7.method);}}}dfd._originalTarget=_11ef?_11ef.value:null;if(_11ef){_11ef.value=_11d7._iframeName;}else{_11e8.setAttribute("target",_11d7._iframeName);}_11e8.target=_11d7._iframeName;_11e9&&_11e9.emit("send",_11e6,dfd.promise.cancel);_11d7._notifyStart(_11e6);_11e8.submit();}else{var extra="";if(_11e6.options.data){extra=_11e6.options.data;if(typeof extra!=="string"){extra=_11d4.objectToQuery(extra);}}var _11f0=_11e6.url+(_11e6.url.indexOf("?")>-1?"&":"?")+extra;_11e9&&_11e9.emit("send",_11e6,dfd.promise.cancel);_11d7._notifyStart(_11e6);_11d7.setSrc(_11d7._frame,_11f0,true);}}catch(e){dfd.reject(e);}};function _11f1(_11f2){return !this.isFulfilled();};function _11f3(_11f4){return !!this._finished;};function _11f5(_11f6,error){if(!error){try{var _11f7=_11f6.options,doc=_11d7.doc(_11d7._frame),_11f8=_11f7.handleAs;if(_11f8!=="html"){if(_11f8==="xml"){if(doc.documentElement.tagName.toLowerCase()==="html"){query("a",doc.documentElement).orphan();var _11f9=doc.documentElement.innerText;_11f9=_11f9.replace(/>\s+</g,"><");_11f6.text=lang.trim(_11f9);}else{_11f6.data=doc;}}else{_11f6.text=doc.getElementsByTagName("textarea")[0].value;}_11d3(_11f6);}else{_11f6.data=doc;}}catch(e){error=e;}}if(error){this.reject(error);}else{if(this._finished){this.resolve(_11f6);}else{this.reject(new Error("Invalid dojo/request/iframe request state"));}}};function last(_11fa){this._callNext();};var _11fb={method:"POST"};function _11d7(url,_11fc,_11fd){var _11fe=util.parseArgs(url,util.deepCreate(_11fb,_11fc),true);url=_11fe.url;_11fc=_11fe.options;if(_11fc.method!=="GET"&&_11fc.method!=="POST"){throw new Error(_11fc.method+" not supported by dojo/request/iframe");}if(!_11d7._frame){_11d7._frame=_11d7.create(_11d7._iframeName,_11d6+"();");}var dfd=util.deferred(_11fe,null,_11f1,_11f3,_11f5,last);dfd._callNext=function(){if(!this._calledNext){this._calledNext=true;_11d7._currentDfd=null;_11d7._fireNextRequest();}};dfd._legacy=_11fd;_11d7._dfdQueue.push(dfd);_11d7._fireNextRequest();watch(dfd);return _11fd?dfd:dfd.promise;};_11d7.create=_11dd;_11d7.doc=doc;_11d7.setSrc=_11df;_11d7._iframeName=mid+"_IoIframe";_11d7._notifyStart=function(){};_11d7._dfdQueue=[];_11d7._currentDfd=null;_11d7._fireNextRequest=_11e5;util.addCommonMethods(_11d7,["GET","POST"]);return _11d7;});},"dojox/embed/Flash":function(){define(["dojo/_base/lang","dojo/_base/unload","dojo/_base/array","dojo/query","dojo/has","dojo/dom","dojo/on","dojo/window","dojo/string"],function(lang,_11ff,array,query,has,dom,on,win,_1200){var _1201,_1202;var _1203=9;var _1204="dojox-embed-flash-",_1205=0;var _1206={expressInstall:false,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};function prep(_1207){_1207=lang.delegate(_1206,_1207);if(!("path" in _1207)){console.error("dojox.embed.Flash(ctor):: no path reference to a Flash movie was provided.");return null;}if(!("id" in _1207)){_1207.id=(_1204+_1205++);}return _1207;};if(has("ie")){_1201=function(_1208){_1208=prep(_1208);if(!_1208){return null;}var p;var path=_1208.path;if(_1208.vars){var a=[];for(p in _1208.vars){a.push(encodeURIComponent(p)+"="+encodeURIComponent(_1208.vars[p]));}_1208.params.FlashVars=a.join("&");delete _1208.vars;}var s="<object id=\""+_1200.escape(String(_1208.id))+"\" "+"classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" "+"width=\""+_1200.escape(String(_1208.width))+"\" "+"height=\""+_1200.escape(String(_1208.height))+"\""+((_1208.style)?" style=\""+_1200.escape(String(_1208.style))+"\"":"")+">"+"<param name=\"movie\" value=\""+_1200.escape(String(path))+"\" />";if(_1208.params){for(p in _1208.params){s+="<param name=\""+_1200.escape(p)+"\" value=\""+_1200.escape(String(_1208.params[p]))+"\" />";}}s+="</object>";return {id:_1208.id,markup:s};};_1202=(function(){var _1209=10,_120a=null;while(!_120a&&_1209>7){try{_120a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_1209--);}catch(e){}}if(_120a){var v=_120a.GetVariable("$version").split(" ")[1].split(",");return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};}return {major:0,minor:0,rev:0};})();_11ff.addOnWindowUnload(function(){console.warn("***************UNLOAD");var dummy=function(){};var objs=query("object").reverse().style("display","none").forEach(function(i){for(var p in i){if((p!="FlashVars")&&typeof i[p]=="function"){try{i[p]=dummy;}catch(e){}}}});});}else{_1201=function(_120b){_120b=prep(_120b);if(!_120b){return null;}var p;var path=_120b.path;if(_120b.vars){var a=[];for(p in _120b.vars){a.push(encodeURIComponent(p)+"="+encodeURIComponent(_120b.vars[p]));}_120b.params.flashVars=a.join("&");delete _120b.vars;}var s="<embed type=\"application/x-shockwave-flash\" "+"src=\""+_1200.escape(String(path))+"\" "+"id=\""+_1200.escape(String(_120b.id))+"\" "+"width=\""+_1200.escape(String(_120b.width))+"\" "+"height=\""+_1200.escape(String(_120b.height))+"\""+((_120b.style)?" style=\""+_1200.escape(String(_120b.style))+"\" ":"")+"pluginspage=\""+window.location.protocol+"//www.adobe.com/go/getflashplayer\" ";if(_120b.params){for(p in _120b.params){s+=" "+_1200.escape(p)+"=\""+_1200.escape(String(_120b.params[p]))+"\"";}}s+=" />";return {id:_120b.id,markup:s};};_1202=(function(){var _120c=navigator.plugins["Shockwave Flash"];if(_120c&&_120c.description){var v=_120c.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".");return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};}return {major:0,minor:0,rev:0};})();}var Flash=function(_120d,node){if(location.href.toLowerCase().indexOf("file://")>-1){throw new Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");}this.available=_1202.major;this.minimumVersion=_120d.minimumVersion||_1203;this.id=null;this.movie=null;this.domNode=null;if(node){node=dom.byId(node);}setTimeout(lang.hitch(this,function(){if(_120d.expressInstall||this.available&&this.available>=this.minimumVersion){if(_120d&&node){this.init(_120d,node);}else{this.onError("embed.Flash was not provided with the proper arguments.");}}else{if(!this.available){this.onError("Flash is not installed.");}else{this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);}}}),100);};lang.extend(Flash,{onReady:function(movie){},onLoad:function(movie){},onError:function(msg){},_onload:function(){clearInterval(this._poller);delete this._poller;delete this._pollCount;delete this._pollMax;this.onLoad(this.movie);},init:function(_120e,node){this.destroy();node=dom.byId(node||this.domNode);if(!node){throw new Error("dojox.embed.Flash: no domNode reference has been passed.");}var p=0,_120f=false;this._poller=null;this._pollCount=0;this._pollMax=15;this.pollTime=100;if(Flash.initialized){this.id=Flash.place(_120e,node);this.domNode=node;setTimeout(lang.hitch(this,function(){this.movie=this.byId(this.id,_120e.doc);this.onReady(this.movie);this._poller=setInterval(lang.hitch(this,function(){try{p=this.movie.PercentLoaded();}catch(e){console.warn("this.movie.PercentLoaded() failed",e,this.movie);}if(p==100){this._onload();}else{if(p==0&&this._pollCount++>this._pollMax){clearInterval(this._poller);throw new Error("Building SWF failed.");}}}),this.pollTime);}),1);}},_destroy:function(){try{this.domNode.removeChild(this.movie);}catch(e){}this.id=this.movie=this.domNode=null;},destroy:function(){if(!this.movie){return;}var test=lang.delegate({id:true,movie:true,domNode:true,onReady:true,onLoad:true});for(var p in this){if(!test[p]){delete this[p];}}if(this._poller){on(this,"Load",this,"_destroy");}else{this._destroy();}},byId:function(_1210,doc){doc=doc||document;if(doc.embeds[_1210]){return doc.embeds[_1210];}if(doc[_1210]){return doc[_1210];}if(window[_1210]){return window[_1210];}if(document[_1210]){return document[_1210];}return null;}});lang.mixin(Flash,{minSupported:8,available:_1202.major,supported:(_1202.major>=_1202.required),minimumRequired:_1202.required,version:_1202,initialized:false,onInitialize:function(){Flash.initialized=true;},__ie_markup__:function(_1211){return _1201(_1211);},proxy:function(obj,_1212){array.forEach((_1212 instanceof Array?_1212:[_1212]),function(item){this[item]=lang.hitch(this,function(){return (function(){return eval(this.movie.CallFunction("<invoke name=\""+item+"\" returntype=\"javascript\">"+"<arguments>"+array.map(arguments,function(item){return __flash__toXML(item);}).join("")+"</arguments>"+"</invoke>"));}).apply(this,arguments||[]);});},obj);}});Flash.place=function(_1213,node){var o=_1201(_1213);node=dom.byId(node);if(!node){node=win.doc.createElement("div");node.id=o.id+"-container";win.body().appendChild(node);}if(o){node.innerHTML=o.markup;return o.id;}return null;};Flash.onInitialize();lang.setObject("dojox.embed.Flash",Flash);return Flash;});},"dojox/embed/flashVars":function(){define(["dojo"],function(dojo){dojo.deprecated("dojox.embed.flashVars","Will be removed in 2.0","2.0");var _1214={serialize:function(n,o){var esc=function(val){if(typeof val=="string"){val=val.replace(/;/g,"_sc_");val=val.replace(/\./g,"_pr_");val=val.replace(/\:/g,"_cl_");}return val;};var df=dojox.embed.flashVars.serialize;var txt="";if(dojo.isArray(o)){for(var i=0;i<o.length;i++){txt+=df(n+"."+i,esc(o[i]))+";";}return txt.replace(/;{2,}/g,";");}else{if(dojo.isObject(o)){for(var nm in o){txt+=df(n+"."+nm,esc(o[nm]))+";";}return txt.replace(/;{2,}/g,";");}}return n+":"+o;}};dojo.setObject("dojox.embed.flashVars",_1214);return _1214;});},"dojox/html/styles":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(lang,_1215,_1216,has){var dh=lang.getObject("dojox.html",true);var _1217={};var _1218={};var _1219=[];dh.insertCssRule=function(_121a,_121b,_121c){var ss=dh.getDynamicStyleSheet(_121c);var _121d=_121a+" {"+_121b+"}";if(has("ie")){ss.cssText+=_121d;}else{if(ss.sheet){ss.sheet.insertRule(_121d,ss._indicies.length);}else{ss.appendChild(_1216.doc.createTextNode(_121d));}}ss._indicies.push(_121a+" "+_121b);return _121a;};dh.removeCssRule=function(_121e,_121f,_1220){var ss;var index=-1;var nm;var i;for(nm in _1217){if(_1220&&_1220!==nm){continue;}ss=_1217[nm];for(i=0;i<ss._indicies.length;i++){if(_121e+" "+_121f===ss._indicies[i]){index=i;break;}}if(index>-1){break;}}if(!ss){console.warn("No dynamic style sheet has been created from which to remove a rule.");return false;}if(index===-1){console.warn("The css rule was not found and could not be removed.");return false;}ss._indicies.splice(index,1);if(has("ie")){ss.removeRule(index);}else{if(ss.sheet){ss.sheet.deleteRule(index);}}return true;};dh.modifyCssRule=function(_1221,_1222,_1223){};dh.getStyleSheet=function(_1224){if(_1217[_1224||"default"]){return _1217[_1224||"default"];}if(!_1224){return false;}var _1225=dh.getStyleSheets();if(_1225[_1224]){return dh.getStyleSheets()[_1224];}var nm;for(nm in _1225){if(_1225[nm].href&&_1225[nm].href.indexOf(_1224)>-1){return _1225[nm];}}return false;};dh.getDynamicStyleSheet=function(_1226){if(!_1226){_1226="default";}if(!_1217[_1226]){if(_1216.doc.createStyleSheet){_1217[_1226]=_1216.doc.createStyleSheet();if(has("ie")<9){_1217[_1226].title=_1226;}}else{_1217[_1226]=_1216.doc.createElement("style");_1217[_1226].setAttribute("type","text/css");_1216.doc.getElementsByTagName("head")[0].appendChild(_1217[_1226]);}_1217[_1226]._indicies=[];}return _1217[_1226];};dh.enableStyleSheet=function(_1227){var ss=dh.getStyleSheet(_1227);if(ss){if(ss.sheet){ss.sheet.disabled=false;}else{ss.disabled=false;}}};dh.disableStyleSheet=function(_1228){var ss=dh.getStyleSheet(_1228);if(ss){if(ss.sheet){ss.sheet.disabled=true;}else{ss.disabled=true;}}};dh.activeStyleSheet=function(title){var _1229=dh.getToggledStyleSheets();var i;if(arguments.length===1){_1215.forEach(_1229,function(s){s.disabled=(s.title===title)?false:true;});}else{for(i=0;i<_1229.length;i++){if(_1229[i].disabled===false){return _1229[i];}}}return true;};dh.getPreferredStyleSheet=function(){};dh.getToggledStyleSheets=function(){var nm;if(!_1219.length){var _122a=dh.getStyleSheets();for(nm in _122a){if(_122a[nm].title){_1219.push(_122a[nm]);}}}return _1219;};dh.getStyleSheets=function(){if(_1218.collected){return _1218;}var _122b=_1216.doc.styleSheets;_1215.forEach(_122b,function(n){var s=(n.sheet)?n.sheet:n;var name=s.title||s.href;if(has("ie")){if(s.cssText.indexOf("#default#VML")===-1){if(s.href){_1218[name]=s;}else{if(s.imports.length){_1215.forEach(s.imports,function(si){_1218[si.title||si.href]=si;});}else{_1218[name]=s;}}}}else{_1218[name]=s;_1218[name].id=s.ownerNode.id;var rules=[];try{rules=s[s.cssRules?"cssRules":"rules"];}catch(err){console.warn("Reading css rules from stylesheet "+s.href+" is forbidden due to same-origin policy. See http://www.w3.org/TR/CSP/#cascading-style-sheet-css-parsing",s);}_1215.forEach(rules,function(r){if(r.href){_1218[r.href]=r.styleSheet;_1218[r.href].id=s.ownerNode.id;}});}});_1218.collected=true;return _1218;};return dh;});},"dijit/form/CheckBox":function(){define(["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(_122c,_122d,_122e,has,query,ready,_122f,_1230,_1231){if(has("dijit-legacy-requires")){ready(0,function(){var _1232=["dijit/form/RadioButton"];_122c(_1232);});}return _122d("dijit.form.CheckBox",[_122f,_1230],{templateString:_1231,baseClass:"dijitCheckBox",_setValueAttr:function(_1233,_1234){if(typeof _1233=="string"){this.inherited(arguments);_1233=true;}if(this._created){this.set("checked",_1233,_1234);}},_getValueAttr:function(){return this.checked&&this._get("value");},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting="";},_fillContent:function(){},_onFocus:function(){if(this.id){query("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){query("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_1235,_1236){return _1235("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(value){this._set("readOnly",value);_1236.set(this.focusNode,"readOnly",value);},_setLabelAttr:undefined,_getSubmitValue:function(value){return (value==null||value==="")?"on":value;},_setValueAttr:function(_1237){_1237=this._getSubmitValue(_1237);this._set("value",_1237);_1236.set(this.focusNode,"value",_1237);},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));_1236.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){e.stopPropagation();e.preventDefault();return false;}return this.inherited(arguments);}});});},"dijit/ProgressBar":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/number","./_Widget","./_TemplatedMixin","dojo/text!./templates/ProgressBar.html"],function(_1238,_1239,_123a,lang,_123b,_123c,_123d,_123e){return _1239("dijit.ProgressBar",[_123c,_123d],{progress:"0",value:"",maximum:100,places:0,indeterminate:false,label:"",name:"",templateString:_123e,_indeterminateHighContrastImagePath:_1238.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);if(!(this.params&&"value" in this.params)){this.value=this.indeterminate?Infinity:this.progress;}},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update();},_setDirAttr:function(val){var rtl=val.toLowerCase()=="rtl";_123a.toggle(this.domNode,"dijitProgressBarRtl",rtl);_123a.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&rtl);this.inherited(arguments);},update:function(_123f){lang.mixin(this,_123f||{});var tip=this.internalProgress,ap=this.domNode;var _1240=1;if(this.indeterminate){ap.removeAttribute("aria-valuenow");}else{if(String(this.progress).indexOf("%")!=-1){_1240=Math.min(parseFloat(this.progress)/100,1);this.progress=_1240*this.maximum;}else{this.progress=Math.min(this.progress,this.maximum);_1240=this.maximum?this.progress/this.maximum:0;}ap.setAttribute("aria-valuenow",this.progress);}ap.setAttribute("aria-labelledby",this.labelNode.id);ap.setAttribute("aria-valuemin",0);ap.setAttribute("aria-valuemax",this.maximum);this.labelNode.innerHTML=this.report(_1240);_123a.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);_123a.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&!this.isLeftToRight());tip.style.width=(_1240*100)+"%";this.onChange();},_setValueAttr:function(v){this._set("value",v);if(v==Infinity){this.update({indeterminate:true});}else{this.update({indeterminate:false,progress:v});}},_setLabelAttr:function(label){this._set("label",label);this.update();},_setIndeterminateAttr:function(_1241){this._set("indeterminate",_1241);this.update();},report:function(_1242){return this.label?this.label:(this.indeterminate?"&#160;":_123b.format(_1242,{type:"percent",places:this.places,locale:this.lang}));},onChange:function(){}});});},"dijit/form/Form":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(_1243,_1244,_1245,has,_1246,_1247,_1248,_1249){return _1243("dijit.form.Form",[_1246,_1247,_1248,_1249],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(value){_1244.set(this.domNode,"encType",value);if(has("ie")){this.domNode.encoding=value;}this._set("encType",value);},reset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};if(!(this.onReset(faux)===false)&&faux.returnValue){this.inherited(arguments,[]);}},onReset:function(){return true;},_onReset:function(e){this.reset(e);e.stopPropagation();e.preventDefault();return false;},_onSubmit:function(e){var fp=this.constructor.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){_1245.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){e.stopPropagation();e.preventDefault();}},onSubmit:function(){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});});},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_124a,_124b,_124c){return _124a("dijit.form.RadioButton",[_124b,_124c],{baseClass:"dijitRadio"});});},"dijit/form/_RadioButtonMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/lang","dojo/query!css2","../registry"],function(array,_124d,_124e,lang,query,_124f){return _124d("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];query("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_1250){if(_1250.name==this.name&&_1250.form==this.focusNode.form){var _1251=_124f.getEnclosingWidget(_1250);if(_1251){ary.push(_1251);}}}));return ary;},_setCheckedAttr:function(value){this.inherited(arguments);if(!this._created){return;}if(value){array.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_1252){if(_1252!=this&&_1252.checked){_1252.set("checked",false);}}));}},_getSubmitValue:function(value){return value==null?"on":value;},_onClick:function(e){if(this.checked||this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.readOnly){e.stopPropagation();e.preventDefault();array.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_1253){_124e.set(this.focusNode||this.domNode,"checked",_1253.checked);}));return false;}return this.inherited(arguments);}});});},"dojox/widget/Standby":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/window","dojo/_base/window","dojo/_base/fx","dojo/fx","dijit/_Widget","dijit/_TemplatedMixin","dijit/registry"],function(_1254,_1255,array,event,has,dom,attr,_1256,_1257,_1258,_1259,_125a,_125b,fx,_125c,_125d,_125e){_1254.experimental("dojox.widget.Standby");return _1255("dojox.widget.Standby",[_125c,_125d],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:0.75,templateString:"<div>"+"<div style=\"display: none; opacity: 0; z-index: 9999; "+"position: absolute; cursor:wait;\" dojoAttachPoint=\"_underlayNode\"></div>"+"<img src=\"${image}\" style=\"opacity: 0; display: none; z-index: -10000; "+"position: absolute; top: 0px; left: 0px; cursor:wait;\" "+"dojoAttachPoint=\"_imageNode\">"+"<div style=\"opacity: 0; display: none; z-index: -10000; position: absolute; "+"top: 0px;\" dojoAttachPoint=\"_textNode\"></div>"+"</div>",_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:false,_resizeCheck:null,_started:false,_parent:null,startup:function(args){if(!this._started){if(typeof this.target==="string"){var w=_125e.byId(this.target);this.target=w?w.domNode:dom.byId(this.target);}if(this.text){this._textNode.innerHTML=this.text;}if(this.centerIndicator==="image"){this._centerNode=this._imageNode;attr.set(this._imageNode,"src",this.image);attr.set(this._imageNode,"alt",this.imageText);}else{this._centerNode=this._textNode;}_1258.set(this._underlayNode,{display:"none",backgroundColor:this.color});_1258.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");if(this.domNode.parentNode&&this.domNode.parentNode!=_125a.body()){_125a.body().appendChild(this.domNode);}if(has("ie")==7){this._ieFixNode=_1256.create("div");_1258.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"});_125a.body().appendChild(this._ieFixNode);}this.inherited(arguments);}},show:function(){if(!this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._displayed=true;this._size();this._disableOverflow();this._fadeIn();}},hide:function(){if(this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._size();this._fadeOut();this._displayed=false;if(this._resizeCheck!==null){clearInterval(this._resizeCheck);this._resizeCheck=null;}}},isVisible:function(){return this._displayed;},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=false;if(this._resizeCheck){clearInterval(this._resizeCheck);}_1258.set(this._centerNode,"display","none");_1258.set(this._underlayNode,"display","none");if(has("ie")==7&&this._ieFixNode){_125a.body().removeChild(this._ieFixNode);delete this._ieFixNode;}if(this._anim){this._anim.stop();delete this._anim;}this.target=null;this._imageNode=null;this._textNode=null;this._centerNode=null;this.inherited(arguments);},_size:function(){if(this._displayed){var dir=attr.get(_125a.body(),"dir");if(dir){dir=dir.toLowerCase();}var _125f;var _1260=this._scrollerWidths();var _1261=this.target;var _1262=_1258.get(this._centerNode,"display");_1258.set(this._centerNode,"display","block");var box=_1257.position(_1261,true);if(_1261===_125a.body()||_1261===_125a.doc){box=_1259.getBox();box.x=box.l;box.y=box.t;}var _1263=_1257.getMarginBox(this._centerNode);_1258.set(this._centerNode,"display",_1262);if(this._ieFixNode){_125f=-this._ieFixNode.offsetTop/1000;box.x=Math.floor((box.x+0.9)/_125f);box.y=Math.floor((box.y+0.9)/_125f);box.w=Math.floor((box.w+0.9)/_125f);box.h=Math.floor((box.h+0.9)/_125f);}var zi=_1258.get(_1261,"zIndex");var ziUl=zi;var ziIn=zi;if(this.zIndex==="auto"){if(zi!="auto"){ziUl=parseInt(ziUl,10)+1;ziIn=parseInt(ziIn,10)+2;}else{var cNode=_1261;if(cNode&&cNode!==_125a.body()&&cNode!==_125a.doc){cNode=_1261.parentNode;var oldZi=-100000;while(cNode&&cNode!==_125a.body()){zi=_1258.get(cNode,"zIndex");if(!zi||zi==="auto"){cNode=cNode.parentNode;}else{var newZi=parseInt(zi,10);if(oldZi<newZi){oldZi=newZi;ziUl=newZi+1;ziIn=newZi+2;}cNode=cNode.parentNode;}}}}}else{ziUl=parseInt(this.zIndex,10)+1;ziIn=parseInt(this.zIndex,10)+2;}_1258.set(this._centerNode,"zIndex",ziIn);_1258.set(this._underlayNode,"zIndex",ziUl);var pn=_1261.parentNode;if(pn&&pn!==_125a.body()&&_1261!==_125a.body()&&_1261!==_125a.doc){var obh=box.h;var obw=box.w;var pnBox=_1257.position(pn,true);if(this._ieFixNode){_125f=-this._ieFixNode.offsetTop/1000;pnBox.x=Math.floor((pnBox.x+0.9)/_125f);pnBox.y=Math.floor((pnBox.y+0.9)/_125f);pnBox.w=Math.floor((pnBox.w+0.9)/_125f);pnBox.h=Math.floor((pnBox.h+0.9)/_125f);}pnBox.w-=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_1260.v:0;pnBox.h-=pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_1260.h:0;if(dir==="rtl"){if(has("opera")){box.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_1260.v:0;pnBox.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_1260.v:0;}else{if(has("ie")){pnBox.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_1260.v:0;}else{if(has("webkit")){}}}}if(pnBox.w<box.w){box.w=box.w-pnBox.w;}if(pnBox.h<box.h){box.h=box.h-pnBox.h;}var vpTop=pnBox.y;var _1264=pnBox.y+pnBox.h;var bTop=box.y;var _1265=box.y+obh;var _1266=pnBox.x;var _1267=pnBox.x+pnBox.w;var bLeft=box.x;var _1268=box.x+obw;var delta;if(_1265>vpTop&&bTop<vpTop){box.y=pnBox.y;delta=vpTop-bTop;var _1269=obh-delta;if(_1269<pnBox.h){box.h=_1269;}else{box.h-=2*(pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_1260.h:0);}}else{if(bTop<_1264&&_1265>_1264){box.h=_1264-bTop;}else{if(_1265<=vpTop||bTop>=_1264){box.h=0;}}}if(_1268>_1266&&bLeft<_1266){box.x=pnBox.x;delta=_1266-bLeft;var _126a=obw-delta;if(_126a<pnBox.w){box.w=_126a;}else{box.w-=2*(pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_1260.w:0);}}else{if(bLeft<_1267&&_1268>_1267){box.w=_1267-bLeft;}else{if(_1268<=_1266||bLeft>=_1267){box.w=0;}}}}if(box.h>0&&box.w>0){_1258.set(this._underlayNode,{display:"block",width:box.w+"px",height:box.h+"px",top:box.y+"px",left:box.x+"px"});var _126b=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];this._cloneStyles(_126b);if(!has("ie")){_126b=["MozBorderRadius","MozBorderRadiusTopleft","MozBorderRadiusTopright","MozBorderRadiusBottomleft","MozBorderRadiusBottomright","WebkitBorderRadius","WebkitBorderTopLeftRadius","WebkitBorderTopRightRadius","WebkitBorderBottomLeftRadius","WebkitBorderBottomRightRadius"];this._cloneStyles(_126b,this);}var _126c=(box.h/2)-(_1263.h/2);var _126d=(box.w/2)-(_1263.w/2);if(box.h>=_1263.h&&box.w>=_1263.w){_1258.set(this._centerNode,{top:(_126c+box.y)+"px",left:(_126d+box.x)+"px",display:"block"});}else{_1258.set(this._centerNode,"display","none");}}else{_1258.set(this._underlayNode,"display","none");_1258.set(this._centerNode,"display","none");}if(this._resizeCheck===null){var self=this;this._resizeCheck=setInterval(function(){self._size();},100);}}},_cloneStyles:function(list){array.forEach(list,function(s){_1258.set(this._underlayNode,s,_1258.get(this.target,s));},this);},_fadeIn:function(){var self=this;var _126e=_125b.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:0,end:self.opacity}}});var _126f=_125b.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){self.onShow();delete self._anim;}});this._anim=fx.combine([_126e,_126f]);this._anim.play();},_fadeOut:function(){var self=this;var _1270=_125b.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:self.opacity,end:0}},onEnd:function(){_1258.set(this.node,{"display":"none","zIndex":"-1000"});}});var _1271=_125b.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){_1258.set(this.node,{"display":"none","zIndex":"-1000"});self.onHide();self._enableOverflow();delete self._anim;}});this._anim=fx.combine([_1270,_1271]);this._anim.play();},_ignore:function(e){if(e){event.stop(e);}},_scrollerWidths:function(){var div=_1256.create("div");_1258.set(div,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var iDiv=_1256.create("div");_1258.set(iDiv,{width:"200px",height:"10px"});div.appendChild(iDiv);_125a.body().appendChild(div);var b=_1257.getContentBox(div);_1258.set(div,"overflow","scroll");var a=_1257.getContentBox(div);_125a.body().removeChild(div);return {v:b.w-a.w,h:b.h-a.h};},_setTextAttr:function(text){this._textNode.innerHTML=text;this.text=text;},_setColorAttr:function(c){_1258.set(this._underlayNode,"backgroundColor",c);this.color=c;},_setImageTextAttr:function(text){attr.set(this._imageNode,"alt",text);this.imageText=text;},_setImageAttr:function(url){attr.set(this._imageNode,"src",url);this.image=url;},_setCenterIndicatorAttr:function(_1272){this.centerIndicator=_1272;if(_1272==="image"){this._centerNode=this._imageNode;_1258.set(this._textNode,"display","none");}else{this._centerNode=this._textNode;_1258.set(this._imageNode,"display","none");}},_disableOverflow:function(){if(this.target===_125a.body()||this.target===_125a.doc){this._overflowDisabled=true;var body=_125a.body();if(body.style&&body.style.overflow){this._oldOverflow=_1258.get(body,"overflow");}else{this._oldOverflow="";}if(has("ie")&&!has("quirks")){if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){this._oldBodyParentOverflow=body.parentNode.style.overflow;}else{try{this._oldBodyParentOverflow=_1258.get(body.parentNode,"overflow");}catch(e){this._oldBodyParentOverflow="scroll";}}_1258.set(body.parentNode,"overflow","hidden");}_1258.set(body,"overflow","hidden");}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var body=_125a.body();if(has("ie")&&!has("quirks")){body.parentNode.style.overflow=this._oldBodyParentOverflow;delete this._oldBodyParentOverflow;}_1258.set(body,"overflow",this._oldOverflow);if(has("webkit")){var div=_1256.create("div",{style:{height:"2px"}});body.appendChild(div);setTimeout(function(){body.removeChild(div);},0);}delete this._oldOverflow;}}});});},"dojox/geo/openlayers/Map":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/dom","dojo/dom-style","./_base","./TouchInteractionSupport","./Layer","./Patch"],function(_1273,_1274,lang,array,json,dom,style,_1275,_1276,Layer,Patch){_1273.experimental("dojox.geo.openlayers.Map");Patch.patchGFX();return _1274("dojox.geo.openlayers.Map",null,{olMap:null,_tp:null,constructor:function(div,_1277){if(!_1277){_1277={};}div=dom.byId(div);this._tp={x:0,y:0};var opts=_1277.openLayersMapOptions;if(!opts){opts={controls:[new OpenLayers.Control.ScaleLine({maxWidth:200}),new OpenLayers.Control.Navigation()]};}if(_1277.accessible){var kbd=new OpenLayers.Control.KeyboardDefaults();if(!opts.controls){opts.controls=[];}opts.controls.push(kbd);}var _1278=_1277.baseLayerType;if(!_1278){_1278=_1275.BaseLayerType.OSM;}var map=new OpenLayers.Map(div,opts);this.olMap=map;this._layerDictionary={olLayers:[],layers:[]};if(_1277.touchHandler){this._touchControl=new _1276(map);}var base=this._createBaseLayer(_1277);this.addLayer(base);this.initialFit(_1277);},initialFit:function(_1279){var o=_1279.initialLocation;if(!o){o=[-160,70,160,-70];}this.fitTo(o);},setBaseLayerType:function(type){if(type==this.baseLayerType){return null;}var o=null;if(typeof type=="string"){o={baseLayerName:type,baseLayerType:type};this.baseLayerType=type;}else{if(typeof type=="object"){o=type;this.baseLayerType=o.baseLayerType;}}var bl=null;if(o!=null){bl=this._createBaseLayer(o);if(bl!=null){var olm=this.olMap;var ob=olm.getZoom();var oc=olm.getCenter();var _127a=!!oc&&!!olm.baseLayer&&!!olm.baseLayer.map;if(_127a){var proj=olm.getProjectionObject();if(proj!=null){oc=oc.transform(proj,_1275.EPSG4326);}}var old=olm.baseLayer;if(old!=null){var l=this._getLayer(old);this.removeLayer(l);}if(bl!=null){this.addLayer(bl);}if(_127a){proj=olm.getProjectionObject();if(proj!=null){oc=oc.transform(_1275.EPSG4326,proj);}olm.setCenter(oc,ob);}}}return bl;},getBaseLayerType:function(){return this.baseLayerType;},getScale:function(_127b){var scale=null;var om=this.olMap;if(_127b){var units=om.getUnits();if(!units){return null;}var _127c=OpenLayers.INCHES_PER_UNIT;scale=(om.getGeodesicPixelSize().w||0.000001)*_127c["km"]*OpenLayers.DOTS_PER_INCH;}else{scale=om.getScale();}return scale;},getOLMap:function(){return this.olMap;},_createBaseLayer:function(_127d){var base=null;var type=_127d.baseLayerType;var url=_127d.baseLayerUrl;var name=_127d.baseLayerName;var _127e=_127d.baseLayerOptions;if(!name){name=type;}if(!_127e){_127e={};}switch(type){case _1275.BaseLayerType.OSM:_127e.transitionEffect="resize";base=new Layer(name,{olLayer:new OpenLayers.Layer.OSM(name,url,_127e)});break;case _1275.BaseLayerType.Transport:_127e.transitionEffect="resize";base=new Layer(name,{olLayer:new OpenLayers.Layer.OSM.TransportMap(name,url,_127e)});break;case _1275.BaseLayerType.WMS:if(!url){url="http://labs.metacarta.com/wms/vmap0";if(!_127e.layers){_127e.layers="basic";}}base=new Layer(name,{olLayer:new OpenLayers.Layer.WMS(name,url,_127e,{transitionEffect:"resize"})});break;case _1275.BaseLayerType.GOOGLE:base=new Layer(name,{olLayer:new OpenLayers.Layer.Google(name,_127e)});break;case _1275.BaseLayerType.VIRTUAL_EARTH:base=new Layer(name,{olLayer:new OpenLayers.Layer.VirtualEarth(name,_127e)});break;case _1275.BaseLayerType.YAHOO:base=new Layer(name,{olLayer:new OpenLayers.Layer.Yahoo(name,_127e)});break;case _1275.BaseLayerType.ARCGIS:if(!url){url="http://server.arcgisonline.com/ArcGIS/rest/services/ESRI_StreetMap_World_2D/MapServer/export";}base=new Layer(name,{olLayer:new OpenLayers.Layer.ArcGIS93Rest(name,url,_127e,{})});break;}if(base==null){if(type instanceof OpenLayers.Layer){base=type;}else{_127e.transitionEffect="resize";base=new Layer(name,{olLayer:new OpenLayers.Layer.OSM(name,url,_127e)});this.baseLayerType=_1275.BaseLayerType.OSM;}}return base;},removeLayer:function(layer){var om=this.olMap;var i=array.indexOf(this._layerDictionary.layers,layer);if(i>0){this._layerDictionary.layers.splice(i,1);}var oll=layer.olLayer;var j=array.indexOf(this._layerDictionary.olLayers,oll);if(j>0){this._layerDictionary.olLayers.splice(i,j);}om.removeLayer(oll,false);},layerIndex:function(layer,index){var olm=this.olMap;if(!index){return olm.getLayerIndex(layer.olLayer);}olm.setLayerIndex(layer.olLayer,index);this._layerDictionary.layers.sort(function(l1,l2){return olm.getLayerIndex(l1.olLayer)-olm.getLayerIndex(l2.olLayer);});this._layerDictionary.olLayers.sort(function(l1,l2){return olm.getLayerIndex(l1)-olm.getLayerIndex(l2);});return index;},addLayer:function(layer){layer.dojoMap=this;var om=this.olMap;var ol=layer.olLayer;this._layerDictionary.olLayers.push(ol);this._layerDictionary.layers.push(layer);om.addLayer(ol);layer.added();},_getLayer:function(ol){var i=array.indexOf(this._layerDictionary.olLayers,ol);if(i!=-1){return this._layerDictionary.layers[i];}return null;},getLayer:function(_127f,value){var om=this.olMap;var ols=om.getBy("layers",_127f,value);var ret=new Array();array.forEach(ols,function(ol){ret.push(this._getLayer(ol));},this);return ret;},getLayerCount:function(){var om=this.olMap;if(om.layers==null){return 0;}return om.layers.length;},fitTo:function(o){var map=this.olMap;var from=_1275.EPSG4326;if(o==null){var c=this.transformXY(0,0,from);map.setCenter(new OpenLayers.LonLat(c.x,c.y));return;}var b=null;if(typeof o=="string"){var j=json.fromJson(o);}else{j=o;}var ul;var lr;if(j.hasOwnProperty("bounds")){var a=j.bounds;b=new OpenLayers.Bounds();ul=this.transformXY(a[0],a[1],from);b.left=ul.x;b.top=ul.y;lr=this.transformXY(a[2],a[3],from);b.right=lr.x;b.bottom=lr.y;}if(b==null){if(j.hasOwnProperty("position")){var p=j.position;var e=j.hasOwnProperty("extent")?j.extent:1;if(typeof e=="string"){e=parseFloat(e);}b=new OpenLayers.Bounds();ul=this.transformXY(p[0]-e,p[1]+e,from);b.left=ul.x;b.top=ul.y;lr=this.transformXY(p[0]+e,p[1]-e,from);b.right=lr.x;b.bottom=lr.y;}}if(b==null){if(o.length==4){b=new OpenLayers.Bounds();if(false){b.left=o[0];b.top=o[1];b.right=o[2];b.bottom=o[3];}else{ul=this.transformXY(o[0],o[1],from);b.left=ul.x;b.top=ul.y;lr=this.transformXY(o[2],o[3],from);b.right=lr.x;b.bottom=lr.y;}}}if(b!=null){map.zoomToExtent(b,true);}},transform:function(p,from,to){return this.transformXY(p.x,p.y,from,to);},transformXY:function(x,y,from,to){var tp=this._tp;tp.x=x;tp.y=y;if(!from){from=_1275.EPSG4326;}if(!to){to=this.olMap.getProjectionObject();}tp=OpenLayers.Projection.transform(tp,from,to);return tp;}});});},"dojox/geo/openlayers/_base":function(){define(["dojo/_base/lang"],function(lang){var _1280=lang.getObject("dojox.geo.openlayers",true);_1280.BaseLayerType={OSM:"OSM",Transport:"OSM.Transport",WMS:"WMS",GOOGLE:"Google",VIRTUAL_EARTH:"VirtualEarth",BING:"VirtualEarth",YAHOO:"Yahoo",ARCGIS:"ArcGIS"};_1280.EPSG4326=new OpenLayers.Projection("EPSG:4326");var re=/^\s*(\d{1,3})[D°]\s*(\d{1,2})[M']\s*(\d{1,2}\.?\d*)\s*(S|"|'')\s*([NSEWnsew]{0,1})\s*$/i;_1280.parseDMS=function(v,_1281){var res=re.exec(v);if(res==null||res.length<5){return parseFloat(v);}var d=parseFloat(res[1]);var m=parseFloat(res[2]);var s=parseFloat(res[3]);var nsew=res[5];if(_1281){var lc=nsew.toLowerCase();var dd=d+(m+s/60)/60;if(lc=="w"||lc=="s"){dd=-dd;}return dd;}return [d,m,s,nsew];};return _1280;});},"dojox/geo/openlayers/TouchInteractionSupport":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/html","dojo/_base/lang","dojo/_base/event","dojo/_base/window"],function(_1282,_1283,html,lang,event,win){return _1282("dojox.geo.openlayers.TouchInteractionSupport",null,{_map:null,_centerTouchLocation:null,_touchMoveListener:null,_touchEndListener:null,_initialFingerSpacing:null,_initialScale:null,_tapCount:null,_tapThreshold:null,_lastTap:null,constructor:function(map){this._map=map;this._centerTouchLocation=new OpenLayers.LonLat(0,0);var div=this._map.div;_1283.connect(div,"touchstart",this,this._touchStartHandler);_1283.connect(div,"touchmove",this,this._touchMoveHandler);_1283.connect(div,"touchend",this,this._touchEndHandler);this._tapCount=0;this._lastTap={x:0,y:0};this._tapThreshold=100;},_getTouchBarycenter:function(_1284){var _1285=_1284.touches;var _1286=_1285[0];var _1287=null;if(_1285.length>1){_1287=_1285[1];}else{_1287=_1285[0];}var _1288=html.marginBox(this._map.div);var _1289=(_1286.pageX+_1287.pageX)/2-_1288.l;var _128a=(_1286.pageY+_1287.pageY)/2-_1288.t;return {x:_1289,y:_128a};},_getFingerSpacing:function(_128b){var _128c=_128b.touches;var _128d=-1;if(_128c.length>=2){var dx=(_128c[1].pageX-_128c[0].pageX);var dy=(_128c[1].pageY-_128c[0].pageY);_128d=Math.sqrt(dx*dx+dy*dy);}return _128d;},_isDoubleTap:function(_128e){var _128f=false;var _1290=_128e.touches;if((this._tapCount>0)&&_1290.length==1){var dx=(_1290[0].pageX-this._lastTap.x);var dy=(_1290[0].pageY-this._lastTap.y);var _1291=dx*dx+dy*dy;if(_1291<this._tapThreshold){_128f=true;}else{this._tapCount=0;}}this._tapCount++;this._lastTap.x=_1290[0].pageX;this._lastTap.y=_1290[0].pageY;setTimeout(lang.hitch(this,function(){this._tapCount=0;}),300);return _128f;},_doubleTapHandler:function(_1292){var _1293=_1292.touches;var _1294=html.marginBox(this._map.div);var offX=_1293[0].pageX-_1294.l;var offY=_1293[0].pageY-_1294.t;var _1295=this._map.getLonLatFromPixel(new OpenLayers.Pixel(offX,offY));this._map.setCenter(new OpenLayers.LonLat(_1295.lon,_1295.lat),this._map.getZoom()+1);},_touchStartHandler:function(_1296){event.stop(_1296);if(this._isDoubleTap(_1296)){this._doubleTapHandler(_1296);return;}var _1297=this._getTouchBarycenter(_1296);this._centerTouchLocation=this._map.getLonLatFromPixel(new OpenLayers.Pixel(_1297.x,_1297.y));this._initialFingerSpacing=this._getFingerSpacing(_1296);this._initialScale=this._map.getScale();if(!this._touchMoveListener){this._touchMoveListener=_1283.connect(win.global,"touchmove",this,this._touchMoveHandler);}if(!this._touchEndListener){this._touchEndListener=_1283.connect(win.global,"touchend",this,this._touchEndHandler);}},_touchEndHandler:function(_1298){event.stop(_1298);var _1299=_1298.touches;if(_1299.length==0){if(this._touchMoveListener){_1283.disconnect(this._touchMoveListener);this._touchMoveListener=null;}if(this._touchEndListener){_1283.disconnect(this._touchEndListener);this._touchEndListener=null;}}else{var _129a=this._getTouchBarycenter(_1298);this._centerTouchLocation=this._map.getLonLatFromPixel(new OpenLayers.Pixel(_129a.x,_129a.y));}},_touchMoveHandler:function(_129b){event.stop(_129b);var _129c=this._getTouchBarycenter(_129b);var _129d=this._map.getLonLatFromPixel(new OpenLayers.Pixel(_129c.x,_129c.y));var _129e=_129d.lon-this._centerTouchLocation.lon;var _129f=_129d.lat-this._centerTouchLocation.lat;var _12a0=1;var _12a1=_129b.touches;if(_12a1.length>=2){var _12a2=this._getFingerSpacing(_129b);_12a0=_12a2/this._initialFingerSpacing;this._map.zoomToScale(this._initialScale/_12a0);}var _12a3=this._map.getCenter();this._map.setCenter(new OpenLayers.LonLat(_12a3.lon-_129e,_12a3.lat-_129f));}});});},"dojox/geo/openlayers/Layer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/sniff","./Feature"],function(_12a4,lang,array,sniff,_12a5){return _12a4("dojox.geo.openlayers.Layer",null,{constructor:function(name,_12a6){var ol=_12a6?_12a6.olLayer:null;if(!ol){ol=lang.delegate(new OpenLayers.Layer(name,_12a6));}this.olLayer=ol;this._features=null;this.olLayer.events.register("moveend",this,lang.hitch(this,this.moveTo));},renderFeature:function(f){f.render();},getDojoMap:function(){return this.dojoMap;},addFeature:function(f){if(lang.isArray(f)){array.forEach(f,function(item){this.addFeature(item);},this);return;}if(this._features==null){this._features=[];}this._features.push(f);f._setLayer(this);},removeFeature:function(f){var ft=this._features;if(ft==null){return;}if(f instanceof Array){f=f.slice(0);array.forEach(f,function(item){this.removeFeature(item);},this);return;}var i=array.indexOf(ft,f);if(i!=-1){ft.splice(i,1);}f._setLayer(null);f.remove();},removeFeatureAt:function(index){var ft=this._features;var f=ft[index];if(!f){return;}ft.splice(index,1);f._setLayer(null);f.remove();},getFeatures:function(){return this._features;},getFeatureAt:function(i){if(this._features==null){return undefined;}return this._features[i];},getFeatureCount:function(){if(this._features==null){return 0;}return this._features.length;},clear:function(){var fa=this.getFeatures();this.removeFeature(fa);},moveTo:function(event){if(event.zoomChanged){if(this._features==null){return;}array.forEach(this._features,function(f){this.renderFeature(f);},this);}},redraw:function(){if(sniff.isIE){setTimeout(lang.hitch(this,function(){this.olLayer.redraw();},0));}else{this.olLayer.redraw();}},added:function(){}});});},"dojox/geo/openlayers/Feature":function(){define(["dojo/_base/kernel","dojo/_base/declare","./_base"],function(dojo,_12a7,_12a8){return _12a7("dojox.geo.openlayers.Feature",null,{constructor:function(){this._layer=null;this._coordSys=_12a8.EPSG4326;},getCoordinateSystem:function(){return this._coordSys;},setCoordinateSystem:function(cs){this._coordSys=cs;},getLayer:function(){return this._layer;},_setLayer:function(l){this._layer=l;},render:function(){},remove:function(){},_getLocalXY:function(p){var x=p.x;var y=p.y;var layer=this.getLayer();var _12a9=layer.olLayer.map.getResolution();var _12aa=layer.olLayer.getExtent();var rx=(x/_12a9+(-_12aa.left/_12a9));var ry=((_12aa.top/_12a9)-y/_12a9);return [rx,ry];}});});},"dojox/geo/openlayers/Patch":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojox/gfx","dojox/gfx/shape"],function(dojo,lang,sniff,gfx,shape){var dgo=lang.getObject("geo.openlayers",true,dojox);dgo.Patch={patchMethod:function(type,_12ab,_12ac,_12ad){var old=type.prototype[_12ab];type.prototype[_12ab]=function(){var _12ae=_12ab;if(_12ac){_12ac.call(this,_12ae,arguments);}var ret=old.apply(this,arguments);if(_12ad){ret=_12ad.call(this,_12ae,ret,arguments)||ret;}return ret;};},patchGFX:function(){var _12af=function(){if(!this.rawNode.path){this.rawNode.path={};}};var _12b0=function(){if(this.rawNode.fill&&!this.rawNode.fill.colors){this.rawNode.fill.colors={};}};if(sniff.isIE<=8&&gfx.renderer==="vml"){this.patchMethod(gfx.Line,"setShape",_12af,null);this.patchMethod(gfx.Polyline,"setShape",_12af,null);this.patchMethod(gfx.Path,"setShape",_12af,null);this.patchMethod(shape.Shape,"setFill",_12b0,null);}}};return dgo.Patch;});},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(lang,_12b1,_12b2){_12b1.switchTo(_12b2);return _12b1;});},"dojox/gfx/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/Color","dojo/_base/sniff","dojo/_base/window","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-geometry"],function(_12b3,lang,Color,has,win,arr,dom,_12b4,_12b5){var g=lang.getObject("dojox.gfx",true),b=g._base={};g._hasClass=function(node,_12b6){var cls=node.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_12b6+" ")>=0;};g._addClass=function(node,_12b7){var cls=node.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_12b7+" ")<0){node.setAttribute("className",cls+(cls?" ":"")+_12b7);}};g._removeClass=function(node,_12b8){var cls=node.getAttribute("className");if(cls){node.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_12b8+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _12b9={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};var p,_12ba;if(has("ie")){_12ba=win.doc.documentElement.style.fontSize||"";if(!_12ba){win.doc.documentElement.style.fontSize="100%";}}var div=_12b4.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},win.body());for(p in _12b9){div.style.fontSize=p;_12b9[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}if(has("ie")){win.doc.documentElement.style.fontSize=_12ba;}win.body().removeChild(div);return _12b9;};var _12bb=null;b._getCachedFontMeasurements=function(_12bc){if(_12bc||!_12bb){_12bb=b._getFontMeasurements();}return _12bb;};var _12bd=null,empty={};b._getTextBox=function(text,style,_12be){var m,s,al=arguments.length;var i,box;if(!_12bd){_12bd=_12b4.create("div",{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},win.body());}m=_12bd;m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&style){for(i in style){if(i in empty){continue;}s[i]=style[i];}}if(al>2&&_12be){m.className=_12be;}m.innerHTML=text;if(m.getBoundingClientRect){var bcr=m.getBoundingClientRect();box={l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{box=_12b5.getMarginBox(m);}m.innerHTML="";return box;};b._computeTextLocation=function(_12bf,width,_12c0,_12c1){var loc={},align=_12bf.align;switch(align){case "end":loc.x=_12bf.x-width;break;case "middle":loc.x=_12bf.x-width/2;break;default:loc.x=_12bf.x;break;}var c=_12c1?0.75:1;loc.y=_12bf.y-_12c0*c;return loc;};b._computeTextBoundingBox=function(s){if(!g._base._isRendered(s)){return {x:0,y:0,width:0,height:0};}var loc,_12c2=s.getShape(),font=s.getFont()||g.defaultFont,w=s.getTextWidth(),h=g.normalizedLength(font.size);loc=b._computeTextLocation(_12c2,w,h,true);return {x:loc.x,y:loc.y,width:w,height:h};};b._isRendered=function(s){var p=s.parent;while(p&&p.getParent){p=p.parent;}return p!==null;};var _12c3=0;b._getUniqueId=function(){var id;do{id=_12b3._scopeName+"xUnique"+(++_12c3);}while(dom.byId(id));return id;};b._fixMsTouchAction=function(_12c4){var r=_12c4.rawNode;if(typeof r.style.msTouchAction!="undefined"){r.style.msTouchAction="none";}};lang.mixin(g,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _12c5={};return function(type){var t=_12c5[type];if(t){return new t();}t=_12c5[type]=new Function();t.prototype=g["default"+type];return new t();};})(),normalizeColor:function(color){return (color instanceof Color)?color:new Color(color);},normalizeParameters:function(_12c6,_12c7){var x;if(_12c7){var empty={};for(x in _12c6){if(x in _12c7&&!(x in empty)){_12c6[x]=_12c7[x];}}}return _12c6;},makeParameters:function(_12c8,_12c9){var i=null;if(!_12c9){return lang.delegate(_12c8);}var _12ca={};for(i in _12c8){if(!(i in _12ca)){_12ca[i]=lang.clone((i in _12c9)?_12c9[i]:_12c8[i]);}}return _12ca;},formatNumber:function(x,_12cb){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var point=val.indexOf(".");if(point>=0&&val.length-point>5){val=x.toFixed(4);}}if(x<0){return val;}return _12cb?" "+val:val;},makeFontString:function(font){return font.style+" "+font.variant+" "+font.weight+" "+font.size+" "+font.family;},splitFontString:function(str){var font=g.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}font.style=t[0];font.variant=t[1];font.weight=t[2];var i=t[3].indexOf("/");font.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){font.family=t.slice(j).join(" ");}}while(false);return font;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return g._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*g.px_in_pt();},px2pt:function(len){return len/g.px_in_pt();},normalizedLength:function(len){if(len.length===0){return 0;}if(len.length>2){var _12cc=g.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_12cc;case "in":return val*72*_12cc;case "pc":return val*12*_12cc;case "mm":return val*g.mm_in_pt*_12cc;case "cm":return val*g.cm_in_pt*_12cc;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,equalSources:function(a,b){return a&&b&&a===b;},switchTo:function(_12cd){var ns=typeof _12cd=="string"?g[_12cd]:_12cd;if(ns){arr.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","Surface","createSurface","fixTarget"],function(name){g[name]=ns[name];});if(typeof _12cd=="string"){g.renderer=_12cd;}else{arr.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(r){return (g.renderer=g[r]&&g[r].Surface===g.Surface?r:null);});}}}});return g;});},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(g,lang,has,win,_12ce){var _12cf=null;has.add("vml",function(_12d0,_12d1,_12d2){_12d2.innerHTML="<v:shape adj=\"1\"/>";var _12d3=("adj" in _12d2.firstChild);_12d2.innerHTML="";return _12d3;});return {load:function(id,_12d4,load){if(_12cf&&id!="force"){load(_12cf);return;}var _12d5=_12ce.forceGfxRenderer,_12d6=!_12d5&&(lang.isString(_12ce.gfxRenderer)?_12ce.gfxRenderer:"svg,vml,canvas,silverlight").split(","),_12d7,_12d8;while(!_12d5&&_12d6.length){switch(_12d6.shift()){case "svg":if("SVGAngle" in win.global){_12d5="svg";}break;case "vml":if(has("vml")){_12d5="vml";}break;case "silverlight":try{if(has("ie")){_12d7=new ActiveXObject("AgControl.AgControl");if(_12d7&&_12d7.IsVersionSupported("1.0")){_12d8=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_12d8=true;}}}catch(e){_12d8=false;}finally{_12d7=null;}if(_12d8){_12d5="silverlight";}break;case "canvas":if(win.global.CanvasRenderingContext2D){_12d5="canvas";}break;}}if(_12d5==="canvas"&&_12ce.canvasEvents!==false){_12d5="canvasWithEvents";}if(_12ce.isDebug){}function _12d9(){_12d4(["dojox/gfx/"+_12d5],function(_12da){g.renderer=_12d5;_12cf=_12da;load(_12da);});};if(_12d5=="svg"&&typeof window.svgweb!="undefined"){window.svgweb.addOnLoad(_12d9);}else{_12d9();}}};});},"dojox/gfx/shape":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","dojo/_base/kernel","dojo/_base/sniff","dojo/on","dojo/_base/array","dojo/dom-construct","dojo/_base/Color","./matrix"],function(g,lang,_12db,_12dc,has,on,arr,_12dd,Color,_12de){var shape=g.shape={};shape.Shape=_12db("dojox.gfx.shape.Shape",null,{constructor:function(){this.rawNode=null;this.shape=null;this.matrix=null;this.fillStyle=null;this.strokeStyle=null;this.bbox=null;this.parent=null;this.parentMatrix=null;if(has("gfxRegistry")){var uid=shape.register(this);this.getUID=function(){return uid;};}},destroy:function(){if(has("gfxRegistry")){shape.dispose(this);}if(this.rawNode&&"__gfxObject__" in this.rawNode){this.rawNode.__gfxObject__=null;}this.rawNode=null;},getNode:function(){return this.rawNode;},getShape:function(){return this.shape;},getTransform:function(){return this.matrix;},getFill:function(){return this.fillStyle;},getStroke:function(){return this.strokeStyle;},getParent:function(){return this.parent;},getBoundingBox:function(){return this.bbox;},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b){return null;}var m=this._getRealMatrix(),gm=_12de;return [gm.multiplyPoint(m,b.x,b.y),gm.multiplyPoint(m,b.x+b.width,b.y),gm.multiplyPoint(m,b.x+b.width,b.y+b.height),gm.multiplyPoint(m,b.x,b.y+b.height)];},getEventSource:function(){return this.rawNode;},setClip:function(clip){this.clip=clip;},getClip:function(){return this.clip;},setShape:function(shape){this.shape=g.makeParameters(this.shape,shape);this.bbox=null;return this;},setFill:function(fill){if(!fill){this.fillStyle=null;return this;}var f=null;if(typeof (fill)=="object"&&"type" in fill){switch(fill.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,fill);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,fill);break;case "pattern":f=g.makeParameters(g.defaultPattern,fill);break;}}else{f=g.normalizeColor(fill);}this.fillStyle=f;return this;},setStroke:function(_12df){if(!_12df){this.strokeStyle=null;return this;}if(typeof _12df=="string"||lang.isArray(_12df)||_12df instanceof Color){_12df={color:_12df};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_12df);s.color=g.normalizeColor(s.color);return this;},setTransform:function(_12e0){this.matrix=_12de.clone(_12e0?_12de.normalize(_12e0):_12de.identity);return this._applyTransform();},_applyTransform:function(){return this;},moveToFront:function(){var p=this.getParent();if(p){p._moveChildToFront(this);this._moveToFront();}return this;},moveToBack:function(){var p=this.getParent();if(p){p._moveChildToBack(this);this._moveToBack();}return this;},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(_12e1){return _12e1?this.setTransform([this.matrix,_12e1]):this;},applyLeftTransform:function(_12e2){return _12e2?this.setTransform([_12e2,this.matrix]):this;},applyTransform:function(_12e3){return _12e3?this.setTransform([this.matrix,_12e3]):this;},removeShape:function(_12e4){if(this.parent){this.parent.remove(this,_12e4);}return this;},_setParent:function(_12e5,_12e6){this.parent=_12e5;return this._updateParentMatrix(_12e6);},_updateParentMatrix:function(_12e7){this.parentMatrix=_12e7?_12de.clone(_12e7):null;return this._applyTransform();},_getRealMatrix:function(){var m=this.matrix;var p=this.parent;while(p){if(p.matrix){m=_12de.multiply(p.matrix,m);}p=p.parent;}return m;}});shape._eventsProcessing={on:function(type,_12e8){return on(this.getEventSource(),type,shape.fixCallback(this,g.fixTarget,_12e8));},connect:function(name,_12e9,_12ea){if(name.substring(0,2)=="on"){name=name.substring(2);}return this.on(name,_12ea?lang.hitch(_12e9,_12ea):_12e9);},disconnect:function(token){return token.remove();}};shape.fixCallback=function(_12eb,_12ec,scope,_12ed){if(!_12ed){_12ed=scope;scope=null;}if(lang.isString(_12ed)){scope=scope||_12dc.global;if(!scope[_12ed]){throw (["dojox.gfx.shape.fixCallback: scope[\"",_12ed,"\"] is null (scope=\"",scope,"\")"].join(""));}return function(e){return _12ec(e,_12eb)?scope[_12ed].apply(scope,arguments||[]):undefined;};}return !scope?function(e){return _12ec(e,_12eb)?_12ed.apply(scope,arguments):undefined;}:function(e){return _12ec(e,_12eb)?_12ed.apply(scope,arguments||[]):undefined;};};lang.extend(shape.Shape,shape._eventsProcessing);shape.Container={_init:function(){this.children=[];this._batch=0;},openBatch:function(){return this;},closeBatch:function(){return this;},add:function(shape){var _12ee=shape.getParent();if(_12ee){_12ee.remove(shape,true);}this.children.push(shape);return shape._setParent(this,this._getRealMatrix());},remove:function(shape,_12ef){for(var i=0;i<this.children.length;++i){if(this.children[i]==shape){if(_12ef){}else{shape.parent=null;shape.parentMatrix=null;}this.children.splice(i,1);break;}}return this;},clear:function(_12f0){var shape;for(var i=0;i<this.children.length;++i){shape=this.children[i];shape.parent=null;shape.parentMatrix=null;if(_12f0){shape.destroy();}}this.children=[];return this;},getBoundingBox:function(){if(this.children){var _12f1=null;arr.forEach(this.children,function(shape){var bb=shape.getBoundingBox();if(bb){var ct=shape.getTransform();if(ct){bb=_12de.multiplyRectangle(ct,bb);}if(_12f1){_12f1.x=Math.min(_12f1.x,bb.x);_12f1.y=Math.min(_12f1.y,bb.y);_12f1.endX=Math.max(_12f1.endX,bb.x+bb.width);_12f1.endY=Math.max(_12f1.endY,bb.y+bb.height);}else{_12f1={x:bb.x,y:bb.y,endX:bb.x+bb.width,endY:bb.y+bb.height};}}});if(_12f1){_12f1.width=_12f1.endX-_12f1.x;_12f1.height=_12f1.endY-_12f1.y;}return _12f1;}return null;},_moveChildToFront:function(shape){for(var i=0;i<this.children.length;++i){if(this.children[i]==shape){this.children.splice(i,1);this.children.push(shape);break;}}return this;},_moveChildToBack:function(shape){for(var i=0;i<this.children.length;++i){if(this.children[i]==shape){this.children.splice(i,1);this.children.unshift(shape);break;}}return this;}};shape.Surface=_12db("dojox.gfx.shape.Surface",null,{constructor:function(){this.rawNode=null;this._parent=null;this._nodes=[];this._events=[];},destroy:function(){arr.forEach(this._nodes,_12dd.destroy);this._nodes=[];arr.forEach(this._events,function(h){if(h){h.remove();}});this._events=[];this.rawNode=null;if(has("ie")){while(this._parent.lastChild){_12dd.destroy(this._parent.lastChild);}}else{this._parent.innerHTML="";}this._parent=null;},getEventSource:function(){return this.rawNode;},_getRealMatrix:function(){return null;},isLoaded:true,onLoad:function(_12f2){},whenLoaded:function(_12f3,_12f4){var f=lang.hitch(_12f3,_12f4);if(this.isLoaded){f(this);}else{on.once(this,"load",function(_12f5){f(_12f5);});}}});lang.extend(shape.Surface,shape._eventsProcessing);shape.Rect=_12db("dojox.gfx.shape.Rect",shape.Shape,{constructor:function(_12f6){this.shape=g.getDefault("Rect");this.rawNode=_12f6;},getBoundingBox:function(){return this.shape;}});shape.Ellipse=_12db("dojox.gfx.shape.Ellipse",shape.Shape,{constructor:function(_12f7){this.shape=g.getDefault("Ellipse");this.rawNode=_12f7;},getBoundingBox:function(){if(!this.bbox){var shape=this.shape;this.bbox={x:shape.cx-shape.rx,y:shape.cy-shape.ry,width:2*shape.rx,height:2*shape.ry};}return this.bbox;}});shape.Circle=_12db("dojox.gfx.shape.Circle",shape.Shape,{constructor:function(_12f8){this.shape=g.getDefault("Circle");this.rawNode=_12f8;},getBoundingBox:function(){if(!this.bbox){var shape=this.shape;this.bbox={x:shape.cx-shape.r,y:shape.cy-shape.r,width:2*shape.r,height:2*shape.r};}return this.bbox;}});shape.Line=_12db("dojox.gfx.shape.Line",shape.Shape,{constructor:function(_12f9){this.shape=g.getDefault("Line");this.rawNode=_12f9;},getBoundingBox:function(){if(!this.bbox){var shape=this.shape;this.bbox={x:Math.min(shape.x1,shape.x2),y:Math.min(shape.y1,shape.y2),width:Math.abs(shape.x2-shape.x1),height:Math.abs(shape.y2-shape.y1)};}return this.bbox;}});shape.Polyline=_12db("dojox.gfx.shape.Polyline",shape.Shape,{constructor:function(_12fa){this.shape=g.getDefault("Polyline");this.rawNode=_12fa;},setShape:function(_12fb,_12fc){if(_12fb&&_12fb instanceof Array){this.inherited(arguments,[{points:_12fb}]);if(_12fc&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.inherited(arguments,[_12fb]);}return this;},_normalizePoints:function(){var p=this.shape.points,l=p&&p.length;if(l&&typeof p[0]=="number"){var _12fd=[];for(var i=0;i<l;i+=2){_12fd.push({x:p[i],y:p[i+1]});}this.shape.points=_12fd;}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){var p=this.shape.points;var l=p.length;var t=p[0];var bbox={l:t.x,t:t.y,r:t.x,b:t.y};for(var i=1;i<l;++i){t=p[i];if(bbox.l>t.x){bbox.l=t.x;}if(bbox.r<t.x){bbox.r=t.x;}if(bbox.t>t.y){bbox.t=t.y;}if(bbox.b<t.y){bbox.b=t.y;}}this.bbox={x:bbox.l,y:bbox.t,width:bbox.r-bbox.l,height:bbox.b-bbox.t};}return this.bbox;}});shape.Image=_12db("dojox.gfx.shape.Image",shape.Shape,{constructor:function(_12fe){this.shape=g.getDefault("Image");this.rawNode=_12fe;},getBoundingBox:function(){return this.shape;},setStroke:function(){return this;},setFill:function(){return this;}});shape.Text=_12db(shape.Shape,{constructor:function(_12ff){this.fontStyle=null;this.shape=g.getDefault("Text");this.rawNode=_12ff;},getFont:function(){return this.fontStyle;},setFont:function(_1300){this.fontStyle=typeof _1300=="string"?g.splitFontString(_1300):g.makeParameters(g.defaultFont,_1300);this._setFont();return this;},getBoundingBox:function(){var bbox=null,s=this.getShape();if(s.text){bbox=g._base._computeTextBoundingBox(this);}return bbox;}});shape.Creator={createShape:function(shape){switch(shape.type){case g.defaultPath.type:return this.createPath(shape);case g.defaultRect.type:return this.createRect(shape);case g.defaultCircle.type:return this.createCircle(shape);case g.defaultEllipse.type:return this.createEllipse(shape);case g.defaultLine.type:return this.createLine(shape);case g.defaultPolyline.type:return this.createPolyline(shape);case g.defaultImage.type:return this.createImage(shape);case g.defaultText.type:return this.createText(shape);case g.defaultTextPath.type:return this.createTextPath(shape);}return null;},createGroup:function(){return this.createObject(g.Group);},createRect:function(rect){return this.createObject(g.Rect,rect);},createEllipse:function(_1301){return this.createObject(g.Ellipse,_1301);},createCircle:function(_1302){return this.createObject(g.Circle,_1302);},createLine:function(line){return this.createObject(g.Line,line);},createPolyline:function(_1303){return this.createObject(g.Polyline,_1303);},createImage:function(image){return this.createObject(g.Image,image);},createText:function(text){return this.createObject(g.Text,text);},createPath:function(path){return this.createObject(g.Path,path);},createTextPath:function(text){return this.createObject(g.TextPath,{}).setText(text);},createObject:function(_1304,_1305){return null;}};return shape;});},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(g,lang){var m=g.matrix={};var _1306={};m._degToRad=function(_1307){return _1306[_1307]||(_1306[_1307]=(Math.PI*_1307/180));};m._radToDeg=function(_1308){return _1308/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _1309=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_1309,r=m.normalize(arg[i]);_1309=new m.Matrix2D();_1309.xx=l.xx*r.xx+l.xy*r.yx;_1309.xy=l.xx*r.xy+l.xy*r.yy;_1309.yx=l.yx*r.xx+l.yy*r.yx;_1309.yy=l.yx*r.xy+l.yy*r.yy;_1309.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_1309.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}lang.mixin(this,_1309);}}else{lang.mixin(this,arg);}}}};lang.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});lang.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(angle){var c=Math.cos(angle);var s=Math.sin(angle);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_130a){return m.rotate(m._degToRad(_130a));},skewX:function(angle){return new m.Matrix2D({xy:Math.tan(angle)});},skewXg:function(_130b){return m.skewX(m._degToRad(_130b));},skewY:function(angle){return new m.Matrix2D({yx:Math.tan(angle)});},skewYg:function(_130c){return m.skewY(m._degToRad(_130c));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_130d){return (_130d instanceof m.Matrix2D)?_130d:new m.Matrix2D(_130d);},isIdentity:function(_130e){return _130e.xx==1&&_130e.xy==0&&_130e.yx==0&&_130e.yy==1&&_130e.dx==0&&_130e.dy==0;},clone:function(_130f){var obj=new m.Matrix2D();for(var i in _130f){if(typeof (_130f[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_130f[i]){obj[i]=_130f[i];}}return obj;},invert:function(_1310){var M=m.normalize(_1310),D=M.xx*M.yy-M.xy*M.yx;M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_1311,x,y){return {x:_1311.xx*x+_1311.xy*y+_1311.dx,y:_1311.yx*x+_1311.yy*y+_1311.dy};},multiplyPoint:function(_1312,a,b){var M=m.normalize(_1312);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiplyRectangle:function(_1313,rect){var M=m.normalize(_1313);rect=rect||{x:0,y:0,width:0,height:0};if(m.isIdentity(M)){return {x:rect.x,y:rect.y,width:rect.width,height:rect.height};}var p0=m.multiplyPoint(M,rect.x,rect.y),p1=m.multiplyPoint(M,rect.x,rect.y+rect.height),p2=m.multiplyPoint(M,rect.x+rect.width,rect.y),p3=m.multiplyPoint(M,rect.x+rect.width,rect.y+rect.height),minx=Math.min(p0.x,p1.x,p2.x,p3.x),miny=Math.min(p0.y,p1.y,p2.y,p3.y),maxx=Math.max(p0.x,p1.x,p2.x,p3.x),maxy=Math.max(p0.y,p1.y,p2.y,p3.y);return {x:minx,y:miny,width:maxx-minx,height:maxy-miny};},multiply:function(_1314){var M=m.normalize(_1314);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_1315,x,y){return m.multiply(m.translate(x,y),_1315,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(angle,a,b){if(arguments.length>2){return m._sandwich(m.rotate(angle),a,b);}return m._sandwich(m.rotate(angle),a.x,a.y);},rotategAt:function(_1316,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_1316),a,b);}return m._sandwich(m.rotateg(_1316),a.x,a.y);},skewXAt:function(angle,a,b){if(arguments.length>2){return m._sandwich(m.skewX(angle),a,b);}return m._sandwich(m.skewX(angle),a.x,a.y);},skewXgAt:function(_1317,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_1317),a,b);}return m._sandwich(m.skewXg(_1317),a.x,a.y);},skewYAt:function(angle,a,b){if(arguments.length>2){return m._sandwich(m.skewY(angle),a,b);}return m._sandwich(m.skewY(angle),a.x,a.y);},skewYgAt:function(_1318,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_1318),a,b);}return m._sandwich(m.skewYg(_1318),a.x,a.y);}});g.Matrix2D=m.Matrix2D;return m;});},"dojox/geo/openlayers/widget/Map":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","dojo/query","dijit/_Widget","../_base","../Map","../Layer","../GfxLayer"],function(lang,_1319,array,_131a,query,_131b,_131c,Map,Layer,_131d){return _1319("dojox.geo.openlayers.widget.Map",_131b,{baseLayerType:_131c.BaseLayerType.OSM,initialLocation:null,touchHandler:false,map:null,startup:function(){this.inherited(arguments);this.map.initialFit({initialLocation:this.initialLocation});},buildRendering:function(){this.inherited(arguments);var div=this.domNode;var map=new Map(div,{baseLayerType:this.baseLayerType,touchHandler:this.touchHandler});this.map=map;this._makeLayers();},_makeLayers:function(){var n=this.domNode;var _131e=query("> .layer",n);array.forEach(_131e,function(l){var type=l.getAttribute("type");var name=l.getAttribute("name");var cls="dojox.geo.openlayers."+type;var p=lang.getObject(cls);if(p){var layer=new p(name,{});if(layer){this.map.addLayer(layer);}}},this);},resize:function(b,h){var olm=this.map.getOLMap();var box;switch(arguments.length){case 0:break;case 1:box=lang.mixin({},b);_131a.setMarginBox(olm.div,box);break;case 2:box={w:arguments[0],h:arguments[1]};_131a.setMarginBox(olm.div,box);break;}olm.updateSize();}});});},"dojox/geo/openlayers/GfxLayer":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/dom-style","dojox/gfx","dojox/gfx/matrix","./Feature","./Layer"],function(_131f,_1320,style,gfx,_1321,_1322,Layer){return _131f("dojox.geo.openlayers.GfxLayer",Layer,{_viewport:null,constructor:function(name,_1323){var s=gfx.createSurface(this.olLayer.div,100,100);this._surface=s;var vp;if(_1323&&_1323.viewport){vp=_1323.viewport;}else{vp=s.createGroup();}this.setViewport(vp);_1320.connect(this.olLayer,"onMapResize",this,"onMapResize");this.olLayer.getDataExtent=this.getDataExtent;},getViewport:function(){return this._viewport;},setViewport:function(g){if(this._viewport){this._viewport.removeShape();}this._viewport=g;this._surface.add(g);},onMapResize:function(){this._surfaceSize();},setMap:function(map){this.inherited(arguments);this._surfaceSize();},getDataExtent:function(){var ret=this._surface.getDimensions();return ret;},getSurface:function(){return this._surface;},_surfaceSize:function(){var s=this.olLayer.map.getSize();this._surface.setDimensions(s.w,s.h);},moveTo:function(event){var s=style.get(this.olLayer.map.layerContainerDiv);var left=parseInt(s.left);var top=parseInt(s.top);if(event.zoomChanged||left||top){var d=this.olLayer.div;style.set(d,{left:-left+"px",top:-top+"px"});if(this._features==null){return;}var vp=this.getViewport();vp.setTransform(_1321.translate(left,top));this.inherited(arguments);}},added:function(){this.inherited(arguments);this._surfaceSize();}});});},"dojox/gfx/svg":function(){define(["dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","dojo/dom-attr","dojo/_base/Color","./_base","./shape","./path"],function(lang,has,win,dom,_1324,arr,_1325,_1326,Color,g,gs,_1327){var svg=g.svg={};svg.useSvgWeb=(typeof window.svgweb!="undefined");var _1328=navigator.userAgent,_1329=has("ios"),_132a=has("android"),_132b=has("chrome")||(_132a&&_132a>=4)?"auto":"optimizeLegibility";function _132c(ns,_132d){if(win.doc.createElementNS){return win.doc.createElementNS(ns,_132d);}else{return win.doc.createElement(_132d);}};function _132e(node,ns,attr,value){if(node.setAttributeNS){return node.setAttributeNS(ns,attr,value);}else{return node.setAttribute(attr,value);}};function _132f(text){if(svg.useSvgWeb){return win.doc.createTextNode(text,true);}else{return win.doc.createTextNode(text);}};function _1330(){if(svg.useSvgWeb){return win.doc.createDocumentFragment(true);}else{return win.doc.createDocumentFragment();}};svg.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};svg.getRef=function(name){if(!name||name=="none"){return null;}if(name.match(/^url\(#.+\)$/)){return dom.byId(name.slice(5,-1));}if(name.match(/^#dojoUnique\d+$/)){return dom.byId(name.slice(1));}return null;};svg.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var _1331=0;svg.Shape=_1324("dojox.gfx.svg.Shape",gs.Shape,{destroy:function(){if(this.fillStyle&&"type" in this.fillStyle){var fill=this.rawNode.getAttribute("fill"),ref=svg.getRef(fill);if(ref){ref.parentNode.removeChild(ref);}}if(this.clip){var _1332=this.rawNode.getAttribute("clip-path");if(_1332){var _1333=dom.byId(_1332.match(/gfx_clip[\d]+/)[0]);if(_1333){_1333.parentNode.removeChild(_1333);}}}gs.Shape.prototype.destroy.apply(this,arguments);},setFill:function(fill){if(!fill){this.fillStyle=null;this.rawNode.setAttribute("fill","none");this.rawNode.setAttribute("fill-opacity",0);return this;}var f;var _1334=function(x){this.setAttribute(x,f[x].toFixed(8));};if(typeof (fill)=="object"&&"type" in fill){switch(fill.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,fill);var _1335=this._setFillObject(f,"linearGradient");arr.forEach(["x1","y1","x2","y2"],_1334,_1335);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,fill);var grad=this._setFillObject(f,"radialGradient");arr.forEach(["cx","cy","r"],_1334,grad);break;case "pattern":f=g.makeParameters(g.defaultPattern,fill);var _1336=this._setFillObject(f,"pattern");arr.forEach(["x","y","width","height"],_1334,_1336);break;}this.fillStyle=f;return this;}f=g.normalizeColor(fill);this.fillStyle=f;this.rawNode.setAttribute("fill",f.toCss());this.rawNode.setAttribute("fill-opacity",f.a);this.rawNode.setAttribute("fill-rule","evenodd");return this;},setStroke:function(_1337){var rn=this.rawNode;if(!_1337){this.strokeStyle=null;rn.setAttribute("stroke","none");rn.setAttribute("stroke-opacity",0);return this;}if(typeof _1337=="string"||lang.isArray(_1337)||_1337 instanceof Color){_1337={color:_1337};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_1337);s.color=g.normalizeColor(s.color);if(s){rn.setAttribute("stroke",s.color.toCss());rn.setAttribute("stroke-opacity",s.color.a);rn.setAttribute("stroke-width",s.width);rn.setAttribute("stroke-linecap",s.cap);if(typeof s.join=="number"){rn.setAttribute("stroke-linejoin","miter");rn.setAttribute("stroke-miterlimit",s.join);}else{rn.setAttribute("stroke-linejoin",s.join);}var da=s.style.toLowerCase();if(da in svg.dasharray){da=svg.dasharray[da];}if(da instanceof Array){da=lang._toArray(da);var i;for(i=0;i<da.length;++i){da[i]*=s.width;}if(s.cap!="butt"){for(i=0;i<da.length;i+=2){da[i]-=s.width;if(da[i]<1){da[i]=1;}}for(i=1;i<da.length;i+=2){da[i]+=s.width;}}da=da.join(",");}rn.setAttribute("stroke-dasharray",da);rn.setAttribute("dojoGfxStrokeStyle",s.style);}return this;},_getParentSurface:function(){var _1338=this.parent;for(;_1338&&!(_1338 instanceof g.Surface);_1338=_1338.parent){}return _1338;},_setFillObject:function(f,_1339){var svgns=svg.xmlns.svg;this.fillStyle=f;var _133a=this._getParentSurface(),defs=_133a.defNode,fill=this.rawNode.getAttribute("fill"),ref=svg.getRef(fill);if(ref){fill=ref;if(fill.tagName.toLowerCase()!=_1339.toLowerCase()){var id=fill.id;fill.parentNode.removeChild(fill);fill=_132c(svgns,_1339);fill.setAttribute("id",id);defs.appendChild(fill);}else{while(fill.childNodes.length){fill.removeChild(fill.lastChild);}}}else{fill=_132c(svgns,_1339);fill.setAttribute("id",g._base._getUniqueId());defs.appendChild(fill);}if(_1339=="pattern"){fill.setAttribute("patternUnits","userSpaceOnUse");var img=_132c(svgns,"image");img.setAttribute("x",0);img.setAttribute("y",0);img.setAttribute("width",f.width.toFixed(8));img.setAttribute("height",f.height.toFixed(8));_132e(img,svg.xmlns.xlink,"xlink:href",f.src);fill.appendChild(img);}else{fill.setAttribute("gradientUnits","userSpaceOnUse");for(var i=0;i<f.colors.length;++i){var c=f.colors[i],t=_132c(svgns,"stop"),cc=c.color=g.normalizeColor(c.color);t.setAttribute("offset",c.offset.toFixed(8));t.setAttribute("stop-color",cc.toCss());t.setAttribute("stop-opacity",cc.a);fill.appendChild(t);}}this.rawNode.setAttribute("fill","url(#"+fill.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return fill;},_applyTransform:function(){var _133b=this.matrix;if(_133b){var tm=this.matrix;this.rawNode.setAttribute("transform","matrix("+tm.xx.toFixed(8)+","+tm.yx.toFixed(8)+","+tm.xy.toFixed(8)+","+tm.yy.toFixed(8)+","+tm.dx.toFixed(8)+","+tm.dy.toFixed(8)+")");}else{this.rawNode.removeAttribute("transform");}return this;},setRawNode:function(_133c){var r=this.rawNode=_133c;if(this.shape.type!="image"){r.setAttribute("fill","none");}r.setAttribute("fill-opacity",0);r.setAttribute("stroke","none");r.setAttribute("stroke-opacity",0);r.setAttribute("stroke-width",1);r.setAttribute("stroke-linecap","butt");r.setAttribute("stroke-linejoin","miter");r.setAttribute("stroke-miterlimit",4);r.__gfxObject__=this;},setShape:function(_133d){this.shape=g.makeParameters(this.shape,_133d);for(var i in this.shape){if(i!="type"){this.rawNode.setAttribute(i,this.shape[i]);}}this.bbox=null;return this;},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this;},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this;},setClip:function(clip){this.inherited(arguments);var _133e=clip?"width" in clip?"rect":"cx" in clip?"ellipse":"points" in clip?"polyline":"d" in clip?"path":null:null;if(clip&&!_133e){return this;}if(_133e==="polyline"){clip=lang.clone(clip);clip.points=clip.points.join(",");}var _133f,_1340,_1341=_1326.get(this.rawNode,"clip-path");if(_1341){_133f=dom.byId(_1341.match(/gfx_clip[\d]+/)[0]);if(_133f){_133f.removeChild(_133f.childNodes[0]);}}if(clip){if(_133f){_1340=_132c(svg.xmlns.svg,_133e);_133f.appendChild(_1340);}else{var _1342=++_1331;var _1343="gfx_clip"+_1342;var _1344="url(#"+_1343+")";this.rawNode.setAttribute("clip-path",_1344);_133f=_132c(svg.xmlns.svg,"clipPath");_1340=_132c(svg.xmlns.svg,_133e);_133f.appendChild(_1340);this.rawNode.parentNode.insertBefore(_133f,this.rawNode);_1326.set(_133f,"id",_1343);}_1326.set(_1340,clip);}else{this.rawNode.removeAttribute("clip-path");if(_133f){_133f.parentNode.removeChild(_133f);}}return this;},_removeClipNode:function(){var _1345,_1346=_1326.get(this.rawNode,"clip-path");if(_1346){_1345=dom.byId(_1346.match(/gfx_clip[\d]+/)[0]);if(_1345){_1345.parentNode.removeChild(_1345);}}return _1345;}});svg.Group=_1324("dojox.gfx.svg.Group",svg.Shape,{constructor:function(){gs.Container._init.call(this);},setRawNode:function(_1347){this.rawNode=_1347;this.rawNode.__gfxObject__=this;},destroy:function(){this.clear(true);svg.Shape.prototype.destroy.apply(this,arguments);}});svg.Group.nodeType="g";svg.Rect=_1324("dojox.gfx.svg.Rect",[svg.Shape,gs.Rect],{setShape:function(_1348){this.shape=g.makeParameters(this.shape,_1348);this.bbox=null;for(var i in this.shape){if(i!="type"&&i!="r"){this.rawNode.setAttribute(i,this.shape[i]);}}if(this.shape.r!=null){this.rawNode.setAttribute("ry",this.shape.r);this.rawNode.setAttribute("rx",this.shape.r);}return this;}});svg.Rect.nodeType="rect";svg.Ellipse=_1324("dojox.gfx.svg.Ellipse",[svg.Shape,gs.Ellipse],{});svg.Ellipse.nodeType="ellipse";svg.Circle=_1324("dojox.gfx.svg.Circle",[svg.Shape,gs.Circle],{});svg.Circle.nodeType="circle";svg.Line=_1324("dojox.gfx.svg.Line",[svg.Shape,gs.Line],{});svg.Line.nodeType="line";svg.Polyline=_1324("dojox.gfx.svg.Polyline",[svg.Shape,gs.Polyline],{setShape:function(_1349,_134a){if(_1349&&_1349 instanceof Array){this.shape=g.makeParameters(this.shape,{points:_1349});if(_134a&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_1349);}this.bbox=null;this._normalizePoints();var attr=[],p=this.shape.points;for(var i=0;i<p.length;++i){attr.push(p[i].x.toFixed(8),p[i].y.toFixed(8));}this.rawNode.setAttribute("points",attr.join(" "));return this;}});svg.Polyline.nodeType="polyline";svg.Image=_1324("dojox.gfx.svg.Image",[svg.Shape,gs.Image],{setShape:function(_134b){this.shape=g.makeParameters(this.shape,_134b);this.bbox=null;var _134c=this.rawNode;for(var i in this.shape){if(i!="type"&&i!="src"){_134c.setAttribute(i,this.shape[i]);}}_134c.setAttribute("preserveAspectRatio","none");_132e(_134c,svg.xmlns.xlink,"xlink:href",this.shape.src);_134c.__gfxObject__=this;return this;}});svg.Image.nodeType="image";svg.Text=_1324("dojox.gfx.svg.Text",[svg.Shape,gs.Text],{setShape:function(_134d){this.shape=g.makeParameters(this.shape,_134d);this.bbox=null;var r=this.rawNode,s=this.shape;r.setAttribute("x",s.x);r.setAttribute("y",s.y);r.setAttribute("text-anchor",s.align);r.setAttribute("text-decoration",s.decoration);r.setAttribute("rotate",s.rotated?90:0);r.setAttribute("kerning",s.kerning?"auto":0);r.setAttribute("text-rendering",_132b);if(r.firstChild){r.firstChild.nodeValue=s.text;}else{r.appendChild(_132f(s.text));}return this;},getTextWidth:function(){var _134e=this.rawNode,_134f=_134e.parentNode,_1350=_134e.cloneNode(true);_1350.style.visibility="hidden";var _1351=0,_1352=_1350.firstChild.nodeValue;_134f.appendChild(_1350);if(_1352!=""){while(!_1351){if(_1350.getBBox){_1351=parseInt(_1350.getBBox().width);}else{_1351=68;}}}_134f.removeChild(_1350);return _1351;},getBoundingBox:function(){var s=this.getShape(),bbox=null;if(s.text){try{bbox=this.rawNode.getBBox();}catch(e){bbox={x:0,y:0,width:0,height:0};}}return bbox;}});svg.Text.nodeType="text";svg.Path=_1324("dojox.gfx.svg.Path",[svg.Shape,_1327.Path],{_updateWithSegment:function(_1353){this.inherited(arguments);if(typeof (this.shape.path)=="string"){this.rawNode.setAttribute("d",this.shape.path);}},setShape:function(_1354){this.inherited(arguments);if(this.shape.path){this.rawNode.setAttribute("d",this.shape.path);}else{this.rawNode.removeAttribute("d");}return this;}});svg.Path.nodeType="path";svg.TextPath=_1324("dojox.gfx.svg.TextPath",[svg.Shape,_1327.TextPath],{_updateWithSegment:function(_1355){this.inherited(arguments);this._setTextPath();},setShape:function(_1356){this.inherited(arguments);this._setTextPath();return this;},_setTextPath:function(){if(typeof this.shape.path!="string"){return;}var r=this.rawNode;if(!r.firstChild){var tp=_132c(svg.xmlns.svg,"textPath"),tx=_132f("");tp.appendChild(tx);r.appendChild(tp);}var ref=r.firstChild.getAttributeNS(svg.xmlns.xlink,"href"),path=ref&&svg.getRef(ref);if(!path){var _1357=this._getParentSurface();if(_1357){var defs=_1357.defNode;path=_132c(svg.xmlns.svg,"path");var id=g._base._getUniqueId();path.setAttribute("id",id);defs.appendChild(path);_132e(r.firstChild,svg.xmlns.xlink,"xlink:href","#"+id);}}if(path){path.setAttribute("d",this.shape.path);}},_setText:function(){var r=this.rawNode;if(!r.firstChild){var tp=_132c(svg.xmlns.svg,"textPath"),tx=_132f("");tp.appendChild(tx);r.appendChild(tp);}r=r.firstChild;var t=this.text;r.setAttribute("alignment-baseline","middle");switch(t.align){case "middle":r.setAttribute("text-anchor","middle");r.setAttribute("startOffset","50%");break;case "end":r.setAttribute("text-anchor","end");r.setAttribute("startOffset","100%");break;default:r.setAttribute("text-anchor","start");r.setAttribute("startOffset","0%");break;}r.setAttribute("baseline-shift","0.5ex");r.setAttribute("text-decoration",t.decoration);r.setAttribute("rotate",t.rotated?90:0);r.setAttribute("kerning",t.kerning?"auto":0);r.firstChild.data=t.text;}});svg.TextPath.nodeType="text";var _1358=(function(){var _1359=/WebKit\/(\d*)/.exec(_1328);return _1359?_1359[1]:0;})()>534;svg.Surface=_1324("dojox.gfx.svg.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},destroy:function(){gs.Container.clear.call(this,true);this.defNode=null;this.inherited(arguments);},setDimensions:function(width,_135a){if(!this.rawNode){return this;}this.rawNode.setAttribute("width",width);this.rawNode.setAttribute("height",_135a);if(_1358){this.rawNode.style.width=width;this.rawNode.style.height=_135a;}return this;},getDimensions:function(){var t=this.rawNode?{width:g.normalizedLength(this.rawNode.getAttribute("width")),height:g.normalizedLength(this.rawNode.getAttribute("height"))}:null;return t;}});svg.createSurface=function(_135b,width,_135c){var s=new svg.Surface();s.rawNode=_132c(svg.xmlns.svg,"svg");s.rawNode.setAttribute("overflow","hidden");if(width){s.rawNode.setAttribute("width",width);}if(_135c){s.rawNode.setAttribute("height",_135c);}var _135d=_132c(svg.xmlns.svg,"defs");s.rawNode.appendChild(_135d);s.defNode=_135d;s._parent=dom.byId(_135b);s._parent.appendChild(s.rawNode);g._base._fixMsTouchAction(s);return s;};var Font={_setFont:function(){var f=this.fontStyle;this.rawNode.setAttribute("font-style",f.style);this.rawNode.setAttribute("font-variant",f.variant);this.rawNode.setAttribute("font-weight",f.weight);this.rawNode.setAttribute("font-size",f.size);this.rawNode.setAttribute("font-family",f.family);}};var C=gs.Container;var _135e=svg.Container={openBatch:function(){if(!this._batch){this.fragment=_1330();}++this._batch;return this;},closeBatch:function(){this._batch=this._batch>0?--this._batch:0;if(this.fragment&&!this._batch){this.rawNode.appendChild(this.fragment);delete this.fragment;}return this;},add:function(shape){if(this!=shape.getParent()){if(this.fragment){this.fragment.appendChild(shape.rawNode);}else{this.rawNode.appendChild(shape.rawNode);}C.add.apply(this,arguments);shape.setClip(shape.clip);}return this;},remove:function(shape,_135f){if(this==shape.getParent()){if(this.rawNode==shape.rawNode.parentNode){this.rawNode.removeChild(shape.rawNode);}if(this.fragment&&this.fragment==shape.rawNode.parentNode){this.fragment.removeChild(shape.rawNode);}shape._removeClipNode();C.remove.apply(this,arguments);}return this;},clear:function(){var r=this.rawNode;while(r.lastChild){r.removeChild(r.lastChild);}var _1360=this.defNode;if(_1360){while(_1360.lastChild){_1360.removeChild(_1360.lastChild);}r.appendChild(_1360);}return C.clear.apply(this,arguments);},getBoundingBox:C.getBoundingBox,_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _1361=svg.Creator={createObject:function(_1362,_1363){if(!this.rawNode){return null;}var shape=new _1362(),node=_132c(svg.xmlns.svg,_1362.nodeType);shape.setRawNode(node);shape.setShape(_1363);this.add(shape);return shape;}};lang.extend(svg.Text,Font);lang.extend(svg.TextPath,Font);lang.extend(svg.Group,_135e);lang.extend(svg.Group,gs.Creator);lang.extend(svg.Group,_1361);lang.extend(svg.Surface,_135e);lang.extend(svg.Surface,gs.Creator);lang.extend(svg.Surface,_1361);svg.fixTarget=function(event,_1364){if(!event.gfxTarget){if(_1329&&event.target.wholeText){event.gfxTarget=event.target.parentElement.__gfxObject__;}else{event.gfxTarget=event.target.__gfxObject__;}}return true;};if(svg.useSvgWeb){svg.createSurface=function(_1365,width,_1366){var s=new svg.Surface();if(!width||!_1366){var pos=_1325.position(_1365);width=width||pos.w;_1366=_1366||pos.h;}_1365=dom.byId(_1365);var id=_1365.id?_1365.id+"_svgweb":g._base._getUniqueId();var _1367=_132c(svg.xmlns.svg,"svg");_1367.id=id;_1367.setAttribute("width",width);_1367.setAttribute("height",_1366);svgweb.appendChild(_1367,_1365);_1367.addEventListener("SVGLoad",function(){s.rawNode=this;s.isLoaded=true;var _1368=_132c(svg.xmlns.svg,"defs");s.rawNode.appendChild(_1368);s.defNode=_1368;if(s.onLoad){s.onLoad(s);}},false);s.isLoaded=false;return s;};svg.Surface.extend({destroy:function(){var _1369=this.rawNode;svgweb.removeChild(_1369,_1369.parentNode);}});var _136a={connect:function(name,_136b,_136c){if(name.substring(0,2)==="on"){name=name.substring(2);}if(arguments.length==2){_136c=_136b;}else{_136c=lang.hitch(_136b,_136c);}this.getEventSource().addEventListener(name,_136c,false);return [this,name,_136c];},disconnect:function(token){this.getEventSource().removeEventListener(token[1],token[2],false);delete token[0];}};lang.extend(svg.Shape,_136a);lang.extend(svg.Surface,_136a);}return svg;});},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(g,lang,_136d,_136e,_136f){var Path=_136d("dojox.gfx.path.Path",_136f.Shape,{constructor:function(_1370){this.shape=lang.clone(g.defaultPath);this.segments=[];this.tbbox=null;this.absolute=true;this.last={};this.rawNode=_1370;this.segmented=false;},setAbsoluteMode:function(mode){this._confirmSegmented();this.absolute=typeof mode=="string"?(mode=="absolute"):mode;return this;},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute;},getBoundingBox:function(){this._confirmSegmented();return (this.bbox&&("l" in this.bbox))?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null;},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox){return this.tbbox;}var bbox=this.bbox,_136e=this._getRealMatrix();this.bbox=null;for(var i=0,len=this.segments.length;i<len;++i){this._updateWithSegment(this.segments[i],_136e);}var t=this.bbox;this.bbox=bbox;this.tbbox=t?[{x:t.l,y:t.t},{x:t.r,y:t.t},{x:t.r,y:t.b},{x:t.l,y:t.b}]:null;return this.tbbox;},getLastPosition:function(){this._confirmSegmented();return "x" in this.last?this.last:null;},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments);},_updateBBox:function(x,y,m){if(m){var t=_136e.multiplyPoint(m,x,y);x=t.x;y=t.y;}if(this.bbox&&("l" in this.bbox)){if(this.bbox.l>x){this.bbox.l=x;}if(this.bbox.r<x){this.bbox.r=x;}if(this.bbox.t>y){this.bbox.t=y;}if(this.bbox.b<y){this.bbox.b=y;}}else{this.bbox={l:x,b:y,r:x,t:y};}},_updateWithSegment:function(_1371,_1372){var n=_1371.args,l=n.length,i;switch(_1371.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(i=0;i<l;i+=2){this._updateBBox(n[i],n[i+1],_1372);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "H":for(i=0;i<l;++i){this._updateBBox(n[i],this.last.y,_1372);}this.last.x=n[l-1];this.absolute=true;break;case "V":for(i=0;i<l;++i){this._updateBBox(this.last.x,n[i],_1372);}this.last.y=n[l-1];this.absolute=true;break;case "m":var start=0;if(!("x" in this.last)){this._updateBBox(this.last.x=n[0],this.last.y=n[1],_1372);start=2;}for(i=start;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_1372);}this.absolute=false;break;case "l":case "t":for(i=0;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_1372);}this.absolute=false;break;case "h":for(i=0;i<l;++i){this._updateBBox(this.last.x+=n[i],this.last.y,_1372);}this.absolute=false;break;case "v":for(i=0;i<l;++i){this._updateBBox(this.last.x,this.last.y+=n[i],_1372);}this.absolute=false;break;case "c":for(i=0;i<l;i+=6){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_1372);this._updateBBox(this.last.x+n[i+2],this.last.y+n[i+3],_1372);this._updateBBox(this.last.x+=n[i+4],this.last.y+=n[i+5],_1372);}this.absolute=false;break;case "s":case "q":for(i=0;i<l;i+=4){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_1372);this._updateBBox(this.last.x+=n[i+2],this.last.y+=n[i+3],_1372);}this.absolute=false;break;case "A":for(i=0;i<l;i+=7){this._updateBBox(n[i+5],n[i+6],_1372);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "a":for(i=0;i<l;i+=7){this._updateBBox(this.last.x+=n[i+5],this.last.y+=n[i+6],_1372);}this.absolute=false;break;}var path=[_1371.action];for(i=0;i<l;++i){path.push(g.formatNumber(n[i],true));}if(typeof this.shape.path=="string"){this.shape.path+=path.join("");}else{for(i=0,l=path.length;i<l;++i){this.shape.path.push(path[i]);}}},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(_1373,args){this.tbbox=null;var group=this._validSegments[_1373.toLowerCase()],_1374;if(typeof group=="number"){if(group){if(args.length>=group){_1374={action:_1373,args:args.slice(0,args.length-args.length%group)};this.segments.push(_1374);this._updateWithSegment(_1374);}}else{_1374={action:_1373,args:[]};this.segments.push(_1374);this._updateWithSegment(_1374);}}},_collectArgs:function(array,args){for(var i=0;i<args.length;++i){var t=args[i];if(typeof t=="boolean"){array.push(t?1:0);}else{if(typeof t=="number"){array.push(t);}else{if(t instanceof Array){this._collectArgs(array,t);}else{if("x" in t&&"y" in t){array.push(t.x,t.y);}}}}}},moveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"M":"m",args);return this;},lineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"L":"l",args);return this;},hLineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"H":"h",args);return this;},vLineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"V":"v",args);return this;},curveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"C":"c",args);return this;},smoothCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"S":"s",args);return this;},qCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"Q":"q",args);return this;},qSmoothCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"T":"t",args);return this;},arcTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"A":"a",args);return this;},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this;},_confirmSegmented:function(){if(!this.segmented){var path=this.shape.path;this.shape.path=[];this._setPath(path);this.shape.path=this.shape.path.join("");this.segmented=true;}},_setPath:function(path){var p=lang.isArray(path)?path:path.match(g.pathSvgRegExp);this.segments=[];this.absolute=true;this.bbox={};this.last={};if(!p){return;}var _1375="",args=[],l=p.length;for(var i=0;i<l;++i){var t=p[i],x=parseFloat(t);if(isNaN(x)){if(_1375){this._pushSegment(_1375,args);}args=[];_1375=t;}else{args.push(x);}}this._pushSegment(_1375,args);},setShape:function(_1376){this.inherited(arguments,[typeof _1376=="string"?{path:_1376}:_1376]);this.segmented=false;this.segments=[];if(!g.lazyPathSegmentation){this._confirmSegmented();}return this;},_2PI:Math.PI*2});var _1377=_136d("dojox.gfx.path.TextPath",Path,{constructor:function(_1378){if(!("text" in this)){this.text=lang.clone(g.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=lang.clone(g.defaultFont);}},getText:function(){return this.text;},setText:function(_1379){this.text=g.makeParameters(this.text,typeof _1379=="string"?{text:_1379}:_1379);this._setText();return this;},getFont:function(){return this.fontStyle;},setFont:function(_137a){this.fontStyle=typeof _137a=="string"?g.splitFontString(_137a):g.makeParameters(g.defaultFont,_137a);this._setFont();return this;}});return g.path={Path:Path,TextPath:_1377};});},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(_137b,_137c,_137d,_137e){return _137b("dijit.form.Textarea",[_137e,_137d],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);_137c.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});}});});},"dijit/form/_ExpandingTextAreaMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/_base/window","../Viewport"],function(_137f,_1380,has,lang,on,win,_1381){has.add("textarea-needs-help-shrinking",function(){var body=win.body(),te=_1380.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},body,"last");var _1382=te.scrollHeight>=te.clientHeight;body.removeChild(te);return _1382;});return _137f("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize();},postCreate:function(){this.inherited(arguments);var _1383=this.textbox;_1383.style.overflowY="hidden";this.own(on(_1383,"focus, resize",lang.hitch(this,"_resizeLater")));},startup:function(){this.inherited(arguments);this.own(_1381.on("resize",lang.hitch(this,"_resizeLater")));this._resizeLater();},_onInput:function(e){this.inherited(arguments);this.resize();},_estimateHeight:function(){var _1384=this.textbox;_1384.rows=(_1384.value.match(/\n/g)||[]).length+1;},_resizeLater:function(){this.defer("resize");},resize:function(){var _1385=this.textbox;function _1386(){var empty=false;if(_1385.value===""){_1385.value=" ";empty=true;}var sh=_1385.scrollHeight;if(empty){_1385.value="";}return sh;};if(_1385.style.overflowY=="hidden"){_1385.scrollTop=0;}if(this.busyResizing){return;}this.busyResizing=true;if(_1386()||_1385.offsetHeight){var newH=_1386()+Math.max(_1385.offsetHeight-_1385.clientHeight,0);var _1387=newH+"px";if(_1387!=_1385.style.height){_1385.style.height=_1387;_1385.rows=1;}if(has("textarea-needs-help-shrinking")){var _1388=_1386(),_1389=_1388,_138a=_1385.style.minHeight,_138b=4,_138c,_138d=_1385.scrollTop;_1385.style.minHeight=_1387;_1385.style.height="auto";while(newH>0){_1385.style.minHeight=Math.max(newH-_138b,4)+"px";_138c=_1386();var _138e=_1389-_138c;newH-=_138e;if(_138e<_138b){break;}_1389=_138c;_138b<<=1;}_1385.style.height=newH+"px";_1385.style.minHeight=_138a;_1385.scrollTop=_138d;}_1385.style.overflowY=_1386()>_1385.clientHeight?"auto":"hidden";if(_1385.style.overflowY=="hidden"){_1385.scrollTop=0;}}else{this._estimateHeight();}this.busyResizing=false;}});});},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(_138f,_1390,has,_1391){return _138f("dijit.form.SimpleTextarea",_1391,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(has("ie")&&this.cols){_1390.add(this.textbox,"dijitTextAreaCols");}},filter:function(value){if(value){value=value.replace(/\r/g,"");}return this.inherited(arguments);},_onInput:function(e){if(this.maxLength){var _1392=parseInt(this.maxLength);var value=this.textbox.value.replace(/\r/g,"");var _1393=value.length-_1392;if(_1393>0){var _1394=this.textbox;if(_1394.selectionStart){var pos=_1394.selectionStart;var cr=0;if(has("opera")){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=value.substring(0,pos-_1393-cr)+value.substring(pos-cr);_1394.setSelectionRange(pos-_1393,pos-_1393);}else{if(this.ownerDocument.selection){_1394.focus();var range=this.ownerDocument.selection.createRange();range.moveStart("character",-_1393);range.text="";range.select();}}}}this.inherited(arguments);}});});},"url:dojox/grid/resources/View.html":"<div class=\"dojoxGridView\" role=\"presentation\">\n\t<div class=\"dojoxGridHeader\" dojoAttachPoint=\"headerNode\" role=\"presentation\">\n\t\t<div dojoAttachPoint=\"headerNodeContainer\" style=\"width:9000em\" role=\"presentation\">\n\t\t\t<div dojoAttachPoint=\"headerContentNode\" role=\"row\"></div>\n\t\t</div>\n\t</div>\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" dojoAttachPoint=\"hiddenFocusNode\" role=\"presentation\" />\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" role=\"presentation\" />\n\t<div class=\"dojoxGridScrollbox\" dojoAttachPoint=\"scrollboxNode\" role=\"presentation\">\n\t\t<div class=\"dojoxGridContent\" dojoAttachPoint=\"contentNode\" hidefocus=\"hidefocus\" role=\"presentation\"></div>\n\t</div>\n</div>\n","url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,textDirNode\"\n\t\trole=\"presentation\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<span data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<span class=\"dijitInline dijitIcon dijitMenuExpand\"></span>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</span>\n\t</td>\n</tr>\n","url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset\" data-dojo-attach-point=\"focusNode\" role=\"${role}\" tabIndex=\"-1\" aria-checked=\"${checked}\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<span class=\"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t\t<span class=\"dijitMenuItemIconChar dijitCheckedMenuItemIconChar\">${!checkedChar}</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode,textDirNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n","url:dojox/grid/resources/_Grid.html":"<div hidefocus=\"hidefocus\" role=\"grid\" dojoAttachEvent=\"onmouseout:_mouseOut\">\n\t<div class=\"dojoxGridMasterHeader\" dojoAttachPoint=\"viewsHeaderNode\" role=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterView\" dojoAttachPoint=\"viewsNode\" role=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterMessages\" style=\"display: none;\" dojoAttachPoint=\"messagesNode\"></div>\n\t<span dojoAttachPoint=\"lastFocusNode\" tabindex=\"0\"></span>\n</div>\n","url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\" data-dojo-attach-event=\"mouseenter:onMouseEnter,mouseleave:onMouseLeave\"\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n></div>\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeydown:_onKeyDown\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n","url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\"\n\t\t><span data-dojo-attach-point=\"expandoNode\" class=\"dijitInline dijitTreeExpando\" role=\"presentation\"></span\n\t\t><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitTreeIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span data-dojo-attach-point=\"labelNode,focusNode\" class=\"dijitTreeLabel\" role=\"treeitem\"\n\t\t\t\t   tabindex=\"-1\" aria-selected=\"false\" id=\"${id}_label\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeNodeContainer\" role=\"presentation\"\n\t\t style=\"display: none;\" aria-labelledby=\"${id}_label\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n\t<div class=\"dijitTreeExpando dijitTreeExpandoLoading\" data-dojo-attach-point=\"rootLoadingIndicator\"></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\">\n\t</div>\n</div>\n","url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\ttabIndex=\"-1\" role=\"presentation\" aria-hidden=\"true\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n","url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t class=\"tabStripButton-${tabPosition}\"\n\t\t id=\"${id}_menuBtn\"\n\t\t data-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t class=\"tabStripButton-${tabPosition}\"\n\t\t id=\"${id}_leftBtn\"\n\t\t data-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t class=\"tabStripButton-${tabPosition}\"\n\t\t id=\"${id}_rightBtn\"\n\t\t data-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'\n\t\t\t data-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"ondijitclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\" role=\"button\">\n\t<span role=\"presentation\" class=\"dijitInline dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>","url:dijit/layout/templates/AccordionButton.html":"<div data-dojo-attach-event='ondijitclick:_onTitleClick' class='dijitAccordionTitle' role=\"presentation\">\n\t<div data-dojo-attach-point='titleNode,focusNode' data-dojo-attach-event='onkeydown:_onTitleKeyDown'\n\t\t\tclass='dijitAccordionTitleFocus' role=\"tab\" aria-expanded=\"false\"\n\t\t><span class='dijitInline dijitAccordionArrow' role=\"presentation\"></span\n\t\t><span class='arrowTextUp' role=\"presentation\">+</span\n\t\t><span class='arrowTextDown' role=\"presentation\">-</span\n\t\t><span role=\"presentation\" class=\"dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t\t<span role=\"presentation\" data-dojo-attach-point='titleTextNode, textDirNode' class='dijitAccordionText'></span>\n\t</div>\n</div>\n","url:dojox/widget/Dialog/Dialog.html":"<div class=\"dojoxDialog\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dojoxDialogTitleBar\">\n\t\t<span dojoAttachPoint=\"titleNode\" class=\"dojoxDialogTitle\" id=\"${id}_title\">${title}</span>\n\t</div>\n\t<div dojoAttachPoint=\"dojoxDialogWrapper\">\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dojoxDialogPaneContent\"></div>\n\t</div>\n\t<div dojoAttachPoint=\"closeButtonNode\" class=\"dojoxDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel\">\n\t\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\">x</span>\n\t</div>\n</div>\n","url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"-1\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n\t${!actionBarTemplate}\n</div>\n\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\" aria-hidden=\"true\"\n/></span>\n","url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"contentsNode\" class=\"dijitTooltipContents dijitTooltipFocusNode\">\n\t\t\t<div data-dojo-attach-point=\"containerNode\"></div>\n\t\t\t${!actionBarTemplate}\n\t\t</div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n","url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:__onClick,onkeydown:_onButtonKeyDown\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeydown:_onArrowKeyDown\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\"\n\t\t\t\tclass=\"dijitOffScreen\"\n\t\t\t\trole=\"presentation\" aria-hidden=\"true\"\n\t\t\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\t/></td></tr></tbody\n></table>\n","url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n","url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>\n","url:dijit/templates/ColorPalette.html":"<div class=\"dijitInline dijitColorPalette\" role=\"grid\">\n\t<table data-dojo-attach-point=\"paletteTableNode\" class=\"dijitPaletteTable\" cellSpacing=\"0\" cellPadding=\"0\" role=\"presentation\">\n\t\t<tbody data-dojo-attach-point=\"gridNode\"></tbody>\n\t</table>\n</div>\n","url:dojox/widget/ColorPicker/ColorPicker.html":"<table class=\"dojoxColorPicker\" dojoAttachEvent=\"onkeypress: _handleKey\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t<tr>\n\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t<div class=\"dojoxColorPickerBox\">\n\t\t\t\t<!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. -->\n\t\t\t\t<img title=\"${saturationPickerTitle}\" alt=\"${saturationPickerTitle}\" class=\"dojoxColorPickerPoint\" src=\"${_pickerPointer}\" tabIndex=\"0\" dojoAttachPoint=\"cursorNode\" style=\"position: absolute; top: 0px; left: 0px;\">\n\t\t\t\t<img role=\"presentation\" alt=\"\" dojoAttachPoint=\"colorUnderlay\" dojoAttachEvent=\"onclick: _setPoint, onmousedown: _stopDrag\" class=\"dojoxColorPickerUnderlay\" src=\"${_underlay}\" ondragstart=\"return false\">\n\t\t\t</div>\n\t\t</td>\n\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t<div class=\"dojoxHuePicker\">\n\t\t\t\t<!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. -->\n\t\t\t\t<img dojoAttachPoint=\"hueCursorNode\" tabIndex=\"0\" class=\"dojoxHuePickerPoint\" title=\"${huePickerTitle}\" alt=\"${huePickerTitle}\" src=\"${_huePickerPointer}\" style=\"position: absolute; top: 0px; left: 0px;\">\n\t\t\t\t<div class=\"dojoxHuePickerUnderlay\" dojoAttachPoint=\"hueNode\">\n\t\t\t\t    <img role=\"presentation\" alt=\"\" dojoAttachEvent=\"onclick: _setHuePoint, onmousedown: _stopDrag\" src=\"${_hueUnderlay}\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</td>\n\t\t<td valign=\"top\">\n\t\t\t<table cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td valign=\"top\" class=\"dojoxColorPickerPreviewContainer\">\n\t\t\t\t\t\t<table cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t\t\t\t\t\t\t<div dojoAttachPoint=\"previewNode\" class=\"dojoxColorPickerPreview\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td valign=\"top\">\n\t\t\t\t\t\t\t\t\t<div dojoAttachPoint=\"safePreviewNode\" class=\"dojoxColorPickerWebSafePreview\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td valign=\"bottom\">\n\t\t\t\t\t\t<table class=\"dojoxColorPickerOptional\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dijitInline dojoxColorPickerRgb\" dojoAttachPoint=\"rgbNode\">\n\t\t\t\t\t\t\t\t\t\t<table cellpadding=\"1\" cellspacing=\"1\" role=\"presentation\">\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_r\">${redLabel}</label></td><td><input id=\"${_uId}_r\" dojoAttachPoint=\"Rval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_g\">${greenLabel}</label></td><td><input id=\"${_uId}_g\" dojoAttachPoint=\"Gval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_b\">${blueLabel}</label></td><td><input id=\"${_uId}_b\" dojoAttachPoint=\"Bval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dijitInline dojoxColorPickerHsv\" dojoAttachPoint=\"hsvNode\">\n\t\t\t\t\t\t\t\t\t\t<table cellpadding=\"1\" cellspacing=\"1\" role=\"presentation\">\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_h\">${hueLabel}</label></td><td><input id=\"${_uId}_h\" dojoAttachPoint=\"Hval\"size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${degLabel}</td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_s\">${saturationLabel}</label></td><td><input id=\"${_uId}_s\" dojoAttachPoint=\"Sval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${percentSign}</td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_v\">${valueLabel}</label></td><td><input id=\"${_uId}_v\" dojoAttachPoint=\"Vval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${percentSign}</td></tr>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t<div class=\"dojoxColorPickerHex\" dojoAttachPoint=\"hexNode\" aria-live=\"polite\">\t\n\t\t\t\t\t\t\t\t\t\t<label for=\"${_uId}_hex\">&nbsp;${hexLabel}&nbsp;</label><input id=\"${_uId}_hex\" dojoAttachPoint=\"hexCode, focusNode, valueNode\" size=\"6\" class=\"dojoxColorPickerHexCode\" dojoAttachEvent=\"onchange: _colorInputChange\">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</td>\n\t</tr>\n</table>\n\n","url:dojox/editor/plugins/resources/insertTable.html":"<div class=\"dijitDialog\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\">${insertTableTitle}</span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel\" title=\"${buttonCancel}\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n    <div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\">\n        <table class=\"etdTable\"><tr>\n            <td>\n                <label>${rows}</label>\n\t\t\t</td><td>\n                <span dojoAttachPoint=\"selectRow\" dojoType=\"dijit.form.TextBox\" value=\"2\"></span>\n            </td><td><table><tr><td class=\"inner\">\n                <label>${columns}</label>\n\t\t\t</td><td class=\"inner\">\n                <span dojoAttachPoint=\"selectCol\" dojoType=\"dijit.form.TextBox\" value=\"2\"></span>\n            </td></tr></table></td></tr>\t\t\n\t\t\t<tr><td>\n                <label>${tableWidth}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectWidth\" dojoType=\"dijit.form.TextBox\" value=\"100\"></span>\n\t\t\t</td><td>\n                <select dojoAttachPoint=\"selectWidthType\" hasDownArrow=\"true\" dojoType=\"dijit.form.FilteringSelect\">\n                  <option value=\"percent\">${percent}</option>\n                  <option value=\"pixels\">${pixels}</option>\n                </select></td></tr>\t\n            <tr><td>\n                <label>${borderThickness}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectBorder\" dojoType=\"dijit.form.TextBox\" value=\"1\"></span>\n            </td><td>\n                ${pixels}\n            </td></tr><tr><td>\n                <label>${cellPadding}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectPad\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellpad\"></td></tr><tr><td>\n                <label>${cellSpacing}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectSpace\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellspace\"></td></tr></table>\n        <div class=\"dialogButtonContainer\">\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onInsert\">${buttonInsert}</div>\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onCancel\">${buttonCancel}</div>\n        </div>\n\t</div>\n</div>\n","url:dojox/editor/plugins/resources/modifyTable.html":"<div class=\"dijitDialog\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\">${modifyTableTitle}</span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel\" title=\"${buttonCancel}\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n    <div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\">\n        <table class=\"etdTable\">\n          <tr><td>\n                <label>${backgroundColor}</label>\n            </td><td colspan=\"2\">\n                <span class=\"colorSwatchBtn\" dojoAttachPoint=\"backgroundCol\"></span>\n            </td></tr><tr><td>\n                <label>${borderColor}</label>\n            </td><td colspan=\"2\">\n                <span class=\"colorSwatchBtn\" dojoAttachPoint=\"borderCol\"></span>\n            </td></tr><tr><td>\n                <label>${align}</label>\n            </td><td colspan=\"2\">\t\n                <select dojoAttachPoint=\"selectAlign\" dojoType=\"dijit.form.FilteringSelect\">\n                  <option value=\"default\">${default}</option>\n                  <option value=\"left\">${left}</option>\n                  <option value=\"center\">${center}</option>\n                  <option value=\"right\">${right}</option>\n                </select>\n            </td></tr>\n            <tr><td>\n                <label>${tableWidth}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectWidth\" dojoType=\"dijit.form.TextBox\" value=\"100\"></span>\n            </td><td>\n                <select dojoAttachPoint=\"selectWidthType\" hasDownArrow=\"true\" dojoType=\"dijit.form.FilteringSelect\">\n                  <option value=\"percent\">${percent}</option>\n                  <option value=\"pixels\">${pixels}</option>\n                </select></td></tr>\t\n            <tr><td>\n                <label>${borderThickness}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectBorder\" dojoType=\"dijit.form.TextBox\" value=\"1\"></span>\n            </td><td>\n                ${pixels}\n            </td></tr><tr><td>\n                <label>${cellPadding}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectPad\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellpad\"></td></tr><tr><td>\n                <label>${cellSpacing}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectSpace\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellspace\"></td></tr>\n        </table>\n        <div class=\"dialogButtonContainer\">\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onSet\">${buttonSet}</div>\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onCancel\">${buttonCancel}</div>\n        </div>\n\t</div>\n</div>\n","url:dijit/form/templates/Select.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdata-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing='0' cellpadding='0'\n\trole=\"listbox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitInputField dijitButtonText\"  data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitValidationContainer\"\n\t\t\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t/></div\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} data-dojo-attach-point=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td\n\t\t><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\"\n\t\t\tdata-dojo-attach-point=\"titleNode\" role=\"presentation\"\n\t\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n","url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"ondijitclick:_onClick\"\n/></div>\n","url:dijit/templates/ProgressBar.html":"<div class=\"dijitProgressBar dijitProgressBarEmpty\" role=\"progressbar\"\n\t><div  data-dojo-attach-point=\"internalProgress\" class=\"dijitProgressBarFull\"\n\t\t><div class=\"dijitProgressBarTile\" role=\"presentation\"></div\n\t\t><span style=\"visibility:hidden\">&#160;</span\n\t></div\n\t><div data-dojo-attach-point=\"labelNode\" class=\"dijitProgressBarLabel\" id=\"${id}_label\"></div\n\t><span data-dojo-attach-point=\"indeterminateHighContrastImage\"\n\t\t   class=\"dijitInline dijitProgressBarIndeterminateHighContrastImage\"></span\n></div>\n","*now":function(r){r(["dojo/i18n!*preload*dojo/nls/pmbdijit*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});define("dojo/pmbdijit",[],1);